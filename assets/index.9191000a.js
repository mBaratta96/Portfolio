function tM(t,e){return e.forEach(function(i){i&&typeof i!="string"&&!Array.isArray(i)&&Object.keys(i).forEach(function(r){if(r!=="default"&&!(r in t)){var n=Object.getOwnPropertyDescriptor(i,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return i[r]}})}})}),Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}const iM=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function i(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerpolicy&&(s.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?s.credentials="include":n.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(n){if(n.ep)return;n.ep=!0;const s=i(n);fetch(n.href,s)}};iM();var Ni=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jf(t){if(t.__esModule)return t;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(t).forEach(function(i){var r=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(e,i,r.get?r:{enumerable:!0,get:function(){return t[i]}})}),e}var J={exports:{}},Be={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Sb=Object.getOwnPropertySymbols,nM=Object.prototype.hasOwnProperty,rM=Object.prototype.propertyIsEnumerable;function sM(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function aM(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;var r=Object.getOwnPropertyNames(e).map(function(s){return e[s]});if(r.join("")!=="0123456789")return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(s){n[s]=s}),Object.keys(Object.assign({},n)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var qS=aM()?Object.assign:function(t,e){for(var i,r=sM(t),n,s=1;s<arguments.length;s++){i=Object(arguments[s]);for(var a in i)nM.call(i,a)&&(r[a]=i[a]);if(Sb){n=Sb(i);for(var o=0;o<n.length;o++)rM.call(i,n[o])&&(r[n[o]]=i[n[o]])}}return r};/** @license React v17.0.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gg=qS,So=60103,$S=60106;Be.Fragment=60107;Be.StrictMode=60108;Be.Profiler=60114;var GS=60109,KS=60110,XS=60112;Be.Suspense=60113;var YS=60115,QS=60116;if(typeof Symbol=="function"&&Symbol.for){var wn=Symbol.for;So=wn("react.element"),$S=wn("react.portal"),Be.Fragment=wn("react.fragment"),Be.StrictMode=wn("react.strict_mode"),Be.Profiler=wn("react.profiler"),GS=wn("react.provider"),KS=wn("react.context"),XS=wn("react.forward_ref"),Be.Suspense=wn("react.suspense"),YS=wn("react.memo"),QS=wn("react.lazy")}var Eb=typeof Symbol=="function"&&Symbol.iterator;function oM(t){return t===null||typeof t!="object"?null:(t=Eb&&t[Eb]||t["@@iterator"],typeof t=="function"?t:null)}function qu(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var JS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ZS={};function Eo(t,e,i){this.props=t,this.context=e,this.refs=ZS,this.updater=i||JS}Eo.prototype.isReactComponent={};Eo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error(qu(85));this.updater.enqueueSetState(this,t,e,"setState")};Eo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function e1(){}e1.prototype=Eo.prototype;function Kg(t,e,i){this.props=t,this.context=e,this.refs=ZS,this.updater=i||JS}var Xg=Kg.prototype=new e1;Xg.constructor=Kg;Gg(Xg,Eo.prototype);Xg.isPureReactComponent=!0;var Yg={current:null},t1=Object.prototype.hasOwnProperty,i1={key:!0,ref:!0,__self:!0,__source:!0};function n1(t,e,i){var r,n={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)t1.call(e,r)&&!i1.hasOwnProperty(r)&&(n[r]=e[r]);var o=arguments.length-2;if(o===1)n.children=i;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];n.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)n[r]===void 0&&(n[r]=o[r]);return{$$typeof:So,type:t,key:s,ref:a,props:n,_owner:Yg.current}}function lM(t,e){return{$$typeof:So,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Qg(t){return typeof t=="object"&&t!==null&&t.$$typeof===So}function uM(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(i){return e[i]})}var Cb=/\/+/g;function hp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?uM(""+t.key):e.toString(36)}function bd(t,e,i,r,n){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case So:case $S:a=!0}}if(a)return a=t,n=n(a),t=r===""?"."+hp(a,0):r,Array.isArray(n)?(i="",t!=null&&(i=t.replace(Cb,"$&/")+"/"),bd(n,e,i,"",function(u){return u})):n!=null&&(Qg(n)&&(n=lM(n,i+(!n.key||a&&a.key===n.key?"":(""+n.key).replace(Cb,"$&/")+"/")+t)),e.push(n)),1;if(a=0,r=r===""?".":r+":",Array.isArray(t))for(var o=0;o<t.length;o++){s=t[o];var l=r+hp(s,o);a+=bd(s,e,i,l,n)}else if(l=oM(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=r+hp(s,o++),a+=bd(s,e,i,l,n);else if(s==="object")throw e=""+t,Error(qu(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e));return a}function Wc(t,e,i){if(t==null)return t;var r=[],n=0;return bd(t,r,"","",function(s){return e.call(i,s,n++)}),r}function cM(t){if(t._status===-1){var e=t._result;e=e(),t._status=0,t._result=e,e.then(function(i){t._status===0&&(i=i.default,t._status=1,t._result=i)},function(i){t._status===0&&(t._status=2,t._result=i)})}if(t._status===1)return t._result;throw t._result}var r1={current:null};function Or(){var t=r1.current;if(t===null)throw Error(qu(321));return t}var dM={ReactCurrentDispatcher:r1,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:Yg,IsSomeRendererActing:{current:!1},assign:Gg};Be.Children={map:Wc,forEach:function(t,e,i){Wc(t,function(){e.apply(this,arguments)},i)},count:function(t){var e=0;return Wc(t,function(){e++}),e},toArray:function(t){return Wc(t,function(e){return e})||[]},only:function(t){if(!Qg(t))throw Error(qu(143));return t}};Be.Component=Eo;Be.PureComponent=Kg;Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dM;Be.cloneElement=function(t,e,i){if(t==null)throw Error(qu(267,t));var r=Gg({},t.props),n=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=Yg.current),e.key!==void 0&&(n=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)t1.call(e,l)&&!i1.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=i;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:So,type:t.type,key:n,ref:s,props:r,_owner:a}};Be.createContext=function(t,e){return e===void 0&&(e=null),t={$$typeof:KS,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:GS,_context:t},t.Consumer=t};Be.createElement=n1;Be.createFactory=function(t){var e=n1.bind(null,t);return e.type=t,e};Be.createRef=function(){return{current:null}};Be.forwardRef=function(t){return{$$typeof:XS,render:t}};Be.isValidElement=Qg;Be.lazy=function(t){return{$$typeof:QS,_payload:{_status:-1,_result:t},_init:cM}};Be.memo=function(t,e){return{$$typeof:YS,type:t,compare:e===void 0?null:e}};Be.useCallback=function(t,e){return Or().useCallback(t,e)};Be.useContext=function(t,e){return Or().useContext(t,e)};Be.useDebugValue=function(){};Be.useEffect=function(t,e){return Or().useEffect(t,e)};Be.useImperativeHandle=function(t,e,i){return Or().useImperativeHandle(t,e,i)};Be.useLayoutEffect=function(t,e){return Or().useLayoutEffect(t,e)};Be.useMemo=function(t,e){return Or().useMemo(t,e)};Be.useReducer=function(t,e,i){return Or().useReducer(t,e,i)};Be.useRef=function(t){return Or().useRef(t)};Be.useState=function(t){return Or().useState(t)};Be.version="17.0.2";J.exports=Be;var mr=J.exports,Hm=tM({__proto__:null,default:mr},[J.exports]),Jg={exports:{}},_n={},s1={exports:{}},a1={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){var e,i,r,n;if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}if(typeof window>"u"||typeof MessageChannel!="function"){var l=null,u=null,c=function(){if(l!==null)try{var $=t.unstable_now();l(!0,$),l=null}catch(H){throw setTimeout(c,0),H}};e=function($){l!==null?setTimeout(e,0,$):(l=$,setTimeout(c,0))},i=function($,H){u=setTimeout($,H)},r=function(){clearTimeout(u)},t.unstable_shouldYield=function(){return!1},n=t.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,d=window.clearTimeout;if(typeof console<"u"){var p=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof p!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var g=!1,b=null,y=-1,T=5,S=0;t.unstable_shouldYield=function(){return t.unstable_now()>=S},n=function(){},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<$?Math.floor(1e3/$):5};var I=new MessageChannel,O=I.port2;I.port1.onmessage=function(){if(b!==null){var $=t.unstable_now();S=$+T;try{b(!0,$)?O.postMessage(null):(g=!1,b=null)}catch(H){throw O.postMessage(null),H}}else g=!1},e=function($){b=$,g||(g=!0,O.postMessage(null))},i=function($,H){y=f(function(){$(t.unstable_now())},H)},r=function(){d(y),y=-1}}function M($,H){var se=$.length;$.push(H);e:for(;;){var me=se-1>>>1,ce=$[me];if(ce!==void 0&&0<E(ce,H))$[me]=H,$[se]=ce,se=me;else break e}}function R($){return $=$[0],$===void 0?null:$}function A($){var H=$[0];if(H!==void 0){var se=$.pop();if(se!==H){$[0]=se;e:for(var me=0,ce=$.length;me<ce;){var _e=2*(me+1)-1,be=$[_e],De=_e+1,de=$[De];if(be!==void 0&&0>E(be,se))de!==void 0&&0>E(de,be)?($[me]=de,$[De]=se,me=De):($[me]=be,$[_e]=se,me=_e);else if(de!==void 0&&0>E(de,se))$[me]=de,$[De]=se,me=De;else break e}}return H}return null}function E($,H){var se=$.sortIndex-H.sortIndex;return se!==0?se:$.id-H.id}var C=[],P=[],U=1,B=null,G=3,W=!1,Y=!1,ee=!1;function K($){for(var H=R(P);H!==null;){if(H.callback===null)A(P);else if(H.startTime<=$)A(P),H.sortIndex=H.expirationTime,M(C,H);else break;H=R(P)}}function q($){if(ee=!1,K($),!Y)if(R(C)!==null)Y=!0,e(X);else{var H=R(P);H!==null&&i(q,H.startTime-$)}}function X($,H){Y=!1,ee&&(ee=!1,r()),W=!0;var se=G;try{for(K(H),B=R(C);B!==null&&(!(B.expirationTime>H)||$&&!t.unstable_shouldYield());){var me=B.callback;if(typeof me=="function"){B.callback=null,G=B.priorityLevel;var ce=me(B.expirationTime<=H);H=t.unstable_now(),typeof ce=="function"?B.callback=ce:B===R(C)&&A(C),K(H)}else A(C);B=R(C)}if(B!==null)var _e=!0;else{var be=R(P);be!==null&&i(q,be.startTime-H),_e=!1}return _e}finally{B=null,G=se,W=!1}}var Z=n;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){Y||W||(Y=!0,e(X))},t.unstable_getCurrentPriorityLevel=function(){return G},t.unstable_getFirstCallbackNode=function(){return R(C)},t.unstable_next=function($){switch(G){case 1:case 2:case 3:var H=3;break;default:H=G}var se=G;G=H;try{return $()}finally{G=se}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=Z,t.unstable_runWithPriority=function($,H){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var se=G;G=$;try{return H()}finally{G=se}},t.unstable_scheduleCallback=function($,H,se){var me=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?me+se:me):se=me,$){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=se+ce,$={id:U++,callback:H,priorityLevel:$,startTime:se,expirationTime:ce,sortIndex:-1},se>me?($.sortIndex=se,M(P,$),R(C)===null&&$===R(P)&&(ee?r():ee=!0,i(q,se-me))):($.sortIndex=ce,M(C,$),Y||W||(Y=!0,e(X))),$},t.unstable_wrapCallback=function($){var H=G;return function(){var se=G;G=H;try{return $.apply(this,arguments)}finally{G=se}}}})(a1);s1.exports=a1;/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zf=J.exports,ot=qS,jt=s1.exports;function oe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Zf)throw Error(oe(227));var o1=new Set,ou={};function ea(t,e){eo(t,e),eo(t+"Capture",e)}function eo(t,e){for(ou[t]=e,t=0;t<e.length;t++)o1.add(e[t])}var Tr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kb=Object.prototype.hasOwnProperty,Pb={},Ob={};function hM(t){return kb.call(Ob,t)?!0:kb.call(Pb,t)?!1:fM.test(t)?Ob[t]=!0:(Pb[t]=!0,!1)}function pM(t,e,i,r){if(i!==null&&i.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:i!==null?!i.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function mM(t,e,i,r){if(e===null||typeof e>"u"||pM(t,e,i,r))return!0;if(r)return!1;if(i!==null)switch(i.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ci(t,e,i,r,n,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=n,this.mustUseProperty=i,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var $t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){$t[t]=new Ci(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];$t[e]=new Ci(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){$t[t]=new Ci(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){$t[t]=new Ci(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){$t[t]=new Ci(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){$t[t]=new Ci(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){$t[t]=new Ci(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){$t[t]=new Ci(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){$t[t]=new Ci(t,5,!1,t.toLowerCase(),null,!1,!1)});var Zg=/[\-:]([a-z])/g;function e0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Zg,e0);$t[e]=new Ci(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Zg,e0);$t[e]=new Ci(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Zg,e0);$t[e]=new Ci(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){$t[t]=new Ci(t,1,!1,t.toLowerCase(),null,!1,!1)});$t.xlinkHref=new Ci("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){$t[t]=new Ci(t,1,!1,t.toLowerCase(),null,!0,!0)});function t0(t,e,i,r){var n=$t.hasOwnProperty(e)?$t[e]:null,s=n!==null?n.type===0:r?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");s||(mM(e,i,n,r)&&(i=null),r||n===null?hM(e)&&(i===null?t.removeAttribute(e):t.setAttribute(e,""+i)):n.mustUseProperty?t[n.propertyName]=i===null?n.type===3?!1:"":i:(e=n.attributeName,r=n.attributeNamespace,i===null?t.removeAttribute(e):(n=n.type,i=n===3||n===4&&i===!0?"":""+i,r?t.setAttributeNS(r,e,i):t.setAttribute(e,i))))}var ta=Zf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Sl=60103,Is=60106,Ur=60107,i0=60108,Nl=60114,n0=60109,r0=60110,eh=60112,Fl=60113,Vd=60120,th=60115,s0=60116,a0=60121,o0=60128,l1=60129,l0=60130,Wm=60131;if(typeof Symbol=="function"&&Symbol.for){var Dt=Symbol.for;Sl=Dt("react.element"),Is=Dt("react.portal"),Ur=Dt("react.fragment"),i0=Dt("react.strict_mode"),Nl=Dt("react.profiler"),n0=Dt("react.provider"),r0=Dt("react.context"),eh=Dt("react.forward_ref"),Fl=Dt("react.suspense"),Vd=Dt("react.suspense_list"),th=Dt("react.memo"),s0=Dt("react.lazy"),a0=Dt("react.block"),Dt("react.scope"),o0=Dt("react.opaque.id"),l1=Dt("react.debug_trace_mode"),l0=Dt("react.offscreen"),Wm=Dt("react.legacy_hidden")}var Ab=typeof Symbol=="function"&&Symbol.iterator;function Jo(t){return t===null||typeof t!="object"?null:(t=Ab&&t[Ab]||t["@@iterator"],typeof t=="function"?t:null)}var pp;function El(t){if(pp===void 0)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);pp=e&&e[1]||""}return`
`+pp+t}var mp=!1;function qc(t,e){if(!t||mp)return"";mp=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var n=l.stack.split(`
`),s=r.stack.split(`
`),a=n.length-1,o=s.length-1;1<=a&&0<=o&&n[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(n[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||n[a]!==s[o])return`
`+n[a].replace(" at new "," at ");while(1<=a&&0<=o);break}}}finally{mp=!1,Error.prepareStackTrace=i}return(t=t?t.displayName||t.name:"")?El(t):""}function vM(t){switch(t.tag){case 5:return El(t.type);case 16:return El("Lazy");case 13:return El("Suspense");case 19:return El("SuspenseList");case 0:case 2:case 15:return t=qc(t.type,!1),t;case 11:return t=qc(t.type.render,!1),t;case 22:return t=qc(t.type._render,!1),t;case 1:return t=qc(t.type,!0),t;default:return""}}function Ua(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ur:return"Fragment";case Is:return"Portal";case Nl:return"Profiler";case i0:return"StrictMode";case Fl:return"Suspense";case Vd:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case r0:return(t.displayName||"Context")+".Consumer";case n0:return(t._context.displayName||"Context")+".Provider";case eh:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case th:return Ua(t.type);case a0:return Ua(t._render);case s0:e=t._payload,t=t._init;try{return Ua(t(e))}catch{}}return null}function ss(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function u1(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function gM(t){var e=u1(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var n=i.get,s=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return n.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function $c(t){t._valueTracker||(t._valueTracker=gM(t))}function c1(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),r="";return t&&(r=u1(t)?t.checked?"true":"false":t.value),t=r,t!==i?(e.setValue(t),!0):!1}function Hd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function qm(t,e){var i=e.checked;return ot({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??t._wrapperState.initialChecked})}function Ib(t,e){var i=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;i=ss(e.value!=null?e.value:i),t._wrapperState={initialChecked:r,initialValue:i,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function d1(t,e){e=e.checked,e!=null&&t0(t,"checked",e,!1)}function $m(t,e){d1(t,e);var i=ss(e.value),r=e.type;if(i!=null)r==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+i):t.value!==""+i&&(t.value=""+i);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Gm(t,e.type,i):e.hasOwnProperty("defaultValue")&&Gm(t,e.type,ss(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Db(t,e,i){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,i||e===t.value||(t.value=e),t.defaultValue=e}i=t.name,i!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,i!==""&&(t.name=i)}function Gm(t,e,i){(e!=="number"||Hd(t.ownerDocument)!==t)&&(i==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+i&&(t.defaultValue=""+i))}function yM(t){var e="";return Zf.Children.forEach(t,function(i){i!=null&&(e+=i)}),e}function Km(t,e){return t=ot({children:void 0},e),(e=yM(e.children))&&(t.children=e),t}function Ba(t,e,i,r){if(t=t.options,e){e={};for(var n=0;n<i.length;n++)e["$"+i[n]]=!0;for(i=0;i<t.length;i++)n=e.hasOwnProperty("$"+t[i].value),t[i].selected!==n&&(t[i].selected=n),n&&r&&(t[i].defaultSelected=!0)}else{for(i=""+ss(i),e=null,n=0;n<t.length;n++){if(t[n].value===i){t[n].selected=!0,r&&(t[n].defaultSelected=!0);return}e!==null||t[n].disabled||(e=t[n])}e!==null&&(e.selected=!0)}}function Xm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(oe(91));return ot({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Mb(t,e){var i=e.value;if(i==null){if(i=e.children,e=e.defaultValue,i!=null){if(e!=null)throw Error(oe(92));if(Array.isArray(i)){if(!(1>=i.length))throw Error(oe(93));i=i[0]}e=i}e==null&&(e=""),i=e}t._wrapperState={initialValue:ss(i)}}function f1(t,e){var i=ss(e.value),r=ss(e.defaultValue);i!=null&&(i=""+i,i!==t.value&&(t.value=i),e.defaultValue==null&&t.defaultValue!==i&&(t.defaultValue=i)),r!=null&&(t.defaultValue=""+r)}function Rb(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}var Ym={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function h1(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?h1(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Gc,p1=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,i,r,n){MSApp.execUnsafeLocalFunction(function(){return t(e,i,r,n)})}:t}(function(t,e){if(t.namespaceURI!==Ym.svg||"innerHTML"in t)t.innerHTML=e;else{for(Gc=Gc||document.createElement("div"),Gc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Gc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function lu(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=e;return}}t.textContent=e}var Ul={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_M=["Webkit","ms","Moz","O"];Object.keys(Ul).forEach(function(t){_M.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ul[e]=Ul[t]})});function m1(t,e,i){return e==null||typeof e=="boolean"||e===""?"":i||typeof e!="number"||e===0||Ul.hasOwnProperty(t)&&Ul[t]?(""+e).trim():e+"px"}function v1(t,e){t=t.style;for(var i in e)if(e.hasOwnProperty(i)){var r=i.indexOf("--")===0,n=m1(i,e[i],r);i==="float"&&(i="cssFloat"),r?t.setProperty(i,n):t[i]=n}}var bM=ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jm(t,e){if(e){if(bM[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(oe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(oe(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(oe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(oe(62))}}function Zm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function u0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ev=null,za=null,Va=null;function Lb(t){if(t=Gu(t)){if(typeof ev!="function")throw Error(oe(280));var e=t.stateNode;e&&(e=oh(e),ev(t.stateNode,t.type,e))}}function g1(t){za?Va?Va.push(t):Va=[t]:za=t}function y1(){if(za){var t=za,e=Va;if(Va=za=null,Lb(t),e)for(t=0;t<e.length;t++)Lb(e[t])}}function c0(t,e){return t(e)}function _1(t,e,i,r,n){return t(e,i,r,n)}function d0(){}var b1=c0,Ds=!1,vp=!1;function f0(){(za!==null||Va!==null)&&(d0(),y1())}function TM(t,e,i){if(vp)return t(e,i);vp=!0;try{return b1(t,e,i)}finally{vp=!1,f0()}}function uu(t,e){var i=t.stateNode;if(i===null)return null;var r=oh(i);if(r===null)return null;i=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(oe(231,e,typeof i));return i}var tv=!1;if(Tr)try{var Zo={};Object.defineProperty(Zo,"passive",{get:function(){tv=!0}}),window.addEventListener("test",Zo,Zo),window.removeEventListener("test",Zo,Zo)}catch{tv=!1}function xM(t,e,i,r,n,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(i,u)}catch(c){this.onError(c)}}var Bl=!1,Wd=null,qd=!1,iv=null,wM={onError:function(t){Bl=!0,Wd=t}};function SM(t,e,i,r,n,s,a,o,l){Bl=!1,Wd=null,xM.apply(wM,arguments)}function EM(t,e,i,r,n,s,a,o,l){if(SM.apply(this,arguments),Bl){if(Bl){var u=Wd;Bl=!1,Wd=null}else throw Error(oe(198));qd||(qd=!0,iv=u)}}function ia(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&1026)!==0&&(i=e.return),t=e.return;while(t)}return e.tag===3?i:null}function T1(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function jb(t){if(ia(t)!==t)throw Error(oe(188))}function CM(t){var e=t.alternate;if(!e){if(e=ia(t),e===null)throw Error(oe(188));return e!==t?null:t}for(var i=t,r=e;;){var n=i.return;if(n===null)break;var s=n.alternate;if(s===null){if(r=n.return,r!==null){i=r;continue}break}if(n.child===s.child){for(s=n.child;s;){if(s===i)return jb(n),t;if(s===r)return jb(n),e;s=s.sibling}throw Error(oe(188))}if(i.return!==r.return)i=n,r=s;else{for(var a=!1,o=n.child;o;){if(o===i){a=!0,i=n,r=s;break}if(o===r){a=!0,r=n,i=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===i){a=!0,i=s,r=n;break}if(o===r){a=!0,r=s,i=n;break}o=o.sibling}if(!a)throw Error(oe(189))}}if(i.alternate!==r)throw Error(oe(190))}if(i.tag!==3)throw Error(oe(188));return i.stateNode.current===i?t:e}function x1(t){if(t=CM(t),!t)return null;for(var e=t;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function Nb(t,e){for(var i=t.alternate;e!==null;){if(e===t||e===i)return!0;e=e.return}return!1}var w1,h0,S1,E1,nv=!1,zn=[],Kr=null,Xr=null,Yr=null,cu=new Map,du=new Map,el=[],Fb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rv(t,e,i,r,n){return{blockedOn:t,domEventName:e,eventSystemFlags:i|16,nativeEvent:n,targetContainers:[r]}}function Ub(t,e){switch(t){case"focusin":case"focusout":Kr=null;break;case"dragenter":case"dragleave":Xr=null;break;case"mouseover":case"mouseout":Yr=null;break;case"pointerover":case"pointerout":cu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":du.delete(e.pointerId)}}function tl(t,e,i,r,n,s){return t===null||t.nativeEvent!==s?(t=rv(e,i,r,n,s),e!==null&&(e=Gu(e),e!==null&&h0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,n!==null&&e.indexOf(n)===-1&&e.push(n),t)}function kM(t,e,i,r,n){switch(e){case"focusin":return Kr=tl(Kr,t,e,i,r,n),!0;case"dragenter":return Xr=tl(Xr,t,e,i,r,n),!0;case"mouseover":return Yr=tl(Yr,t,e,i,r,n),!0;case"pointerover":var s=n.pointerId;return cu.set(s,tl(cu.get(s)||null,t,e,i,r,n)),!0;case"gotpointercapture":return s=n.pointerId,du.set(s,tl(du.get(s)||null,t,e,i,r,n)),!0}return!1}function PM(t){var e=Ms(t.target);if(e!==null){var i=ia(e);if(i!==null){if(e=i.tag,e===13){if(e=T1(i),e!==null){t.blockedOn=e,E1(t.lanePriority,function(){jt.unstable_runWithPriority(t.priority,function(){S1(i)})});return}}else if(e===3&&i.stateNode.hydrate){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Td(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var i=g0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(i!==null)return e=Gu(i),e!==null&&h0(e),t.blockedOn=i,!1;e.shift()}return!0}function Bb(t,e,i){Td(t)&&i.delete(e)}function OM(){for(nv=!1;0<zn.length;){var t=zn[0];if(t.blockedOn!==null){t=Gu(t.blockedOn),t!==null&&w1(t);break}for(var e=t.targetContainers;0<e.length;){var i=g0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(i!==null){t.blockedOn=i;break}e.shift()}t.blockedOn===null&&zn.shift()}Kr!==null&&Td(Kr)&&(Kr=null),Xr!==null&&Td(Xr)&&(Xr=null),Yr!==null&&Td(Yr)&&(Yr=null),cu.forEach(Bb),du.forEach(Bb)}function il(t,e){t.blockedOn===e&&(t.blockedOn=null,nv||(nv=!0,jt.unstable_scheduleCallback(jt.unstable_NormalPriority,OM)))}function C1(t){function e(n){return il(n,t)}if(0<zn.length){il(zn[0],t);for(var i=1;i<zn.length;i++){var r=zn[i];r.blockedOn===t&&(r.blockedOn=null)}}for(Kr!==null&&il(Kr,t),Xr!==null&&il(Xr,t),Yr!==null&&il(Yr,t),cu.forEach(e),du.forEach(e),i=0;i<el.length;i++)r=el[i],r.blockedOn===t&&(r.blockedOn=null);for(;0<el.length&&(i=el[0],i.blockedOn===null);)PM(i),i.blockedOn===null&&el.shift()}function Kc(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var Oa={animationend:Kc("Animation","AnimationEnd"),animationiteration:Kc("Animation","AnimationIteration"),animationstart:Kc("Animation","AnimationStart"),transitionend:Kc("Transition","TransitionEnd")},gp={},k1={};Tr&&(k1=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function ih(t){if(gp[t])return gp[t];if(!Oa[t])return t;var e=Oa[t],i;for(i in e)if(e.hasOwnProperty(i)&&i in k1)return gp[t]=e[i];return t}var P1=ih("animationend"),O1=ih("animationiteration"),A1=ih("animationstart"),I1=ih("transitionend"),D1=new Map,p0=new Map,AM=["abort","abort",P1,"animationEnd",O1,"animationIteration",A1,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",I1,"transitionEnd","waiting","waiting"];function m0(t,e){for(var i=0;i<t.length;i+=2){var r=t[i],n=t[i+1];n="on"+(n[0].toUpperCase()+n.slice(1)),p0.set(r,e),D1.set(r,n),ea(n,[r])}}var IM=jt.unstable_now;IM();var Ye=8;function Ca(t){if((1&t)!==0)return Ye=15,1;if((2&t)!==0)return Ye=14,2;if((4&t)!==0)return Ye=13,4;var e=24&t;return e!==0?(Ye=12,e):(t&32)!==0?(Ye=11,32):(e=192&t,e!==0?(Ye=10,e):(t&256)!==0?(Ye=9,256):(e=3584&t,e!==0?(Ye=8,e):(t&4096)!==0?(Ye=7,4096):(e=4186112&t,e!==0?(Ye=6,e):(e=62914560&t,e!==0?(Ye=5,e):t&67108864?(Ye=4,67108864):(t&134217728)!==0?(Ye=3,134217728):(e=805306368&t,e!==0?(Ye=2,e):(1073741824&t)!==0?(Ye=1,1073741824):(Ye=8,t))))))}function DM(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function MM(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(oe(358,t))}}function fu(t,e){var i=t.pendingLanes;if(i===0)return Ye=0;var r=0,n=0,s=t.expiredLanes,a=t.suspendedLanes,o=t.pingedLanes;if(s!==0)r=s,n=Ye=15;else if(s=i&134217727,s!==0){var l=s&~a;l!==0?(r=Ca(l),n=Ye):(o&=s,o!==0&&(r=Ca(o),n=Ye))}else s=i&~a,s!==0?(r=Ca(s),n=Ye):o!==0&&(r=Ca(o),n=Ye);if(r===0)return 0;if(r=31-as(r),r=i&((0>r?0:1<<r)<<1)-1,e!==0&&e!==r&&(e&a)===0){if(Ca(e),n<=Ye)return e;Ye=n}if(e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)i=31-as(e),n=1<<i,r|=t[i],e&=~n;return r}function M1(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function $d(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return t=ka(24&~e),t===0?$d(10,e):t;case 10:return t=ka(192&~e),t===0?$d(8,e):t;case 8:return t=ka(3584&~e),t===0&&(t=ka(4186112&~e),t===0&&(t=512)),t;case 2:return e=ka(805306368&~e),e===0&&(e=268435456),e}throw Error(oe(358,t))}function ka(t){return t&-t}function yp(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function nh(t,e,i){t.pendingLanes|=e;var r=e-1;t.suspendedLanes&=r,t.pingedLanes&=r,t=t.eventTimes,e=31-as(e),t[e]=i}var as=Math.clz32?Math.clz32:jM,RM=Math.log,LM=Math.LN2;function jM(t){return t===0?32:31-(RM(t)/LM|0)|0}var NM=jt.unstable_UserBlockingPriority,FM=jt.unstable_runWithPriority,xd=!0;function UM(t,e,i,r){Ds||d0();var n=v0,s=Ds;Ds=!0;try{_1(n,t,e,i,r)}finally{(Ds=s)||f0()}}function BM(t,e,i,r){FM(NM,v0.bind(null,t,e,i,r))}function v0(t,e,i,r){if(xd){var n;if((n=(e&4)===0)&&0<zn.length&&-1<Fb.indexOf(t))t=rv(null,t,e,i,r),zn.push(t);else{var s=g0(t,e,i,r);if(s===null)n&&Ub(t,r);else{if(n){if(-1<Fb.indexOf(t)){t=rv(s,t,e,i,r),zn.push(t);return}if(kM(s,t,e,i,r))return;Ub(t,r)}$1(t,e,r,null,i)}}}}function g0(t,e,i,r){var n=u0(r);if(n=Ms(n),n!==null){var s=ia(n);if(s===null)n=null;else{var a=s.tag;if(a===13){if(n=T1(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.hydrate)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return $1(t,e,r,n,i),null}var zr=null,y0=null,wd=null;function R1(){if(wd)return wd;var t,e=y0,i=e.length,r,n="value"in zr?zr.value:zr.textContent,s=n.length;for(t=0;t<i&&e[t]===n[t];t++);var a=i-t;for(r=1;r<=a&&e[i-r]===n[s-r];r++);return wd=n.slice(t,1<r?1-r:void 0)}function Sd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Xc(){return!0}function zb(){return!1}function tn(t){function e(i,r,n,s,a){this._reactName=i,this._targetInst=n,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(i=t[o],this[o]=i?i(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Xc:zb,this.isPropagationStopped=zb,this}return ot(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Xc)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Xc)},persist:function(){},isPersistent:Xc}),e}var Co={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_0=tn(Co),$u=ot({},Co,{view:0,detail:0}),zM=tn($u),_p,bp,nl,rh=ot({},$u,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:b0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==nl&&(nl&&t.type==="mousemove"?(_p=t.screenX-nl.screenX,bp=t.screenY-nl.screenY):bp=_p=0,nl=t),_p)},movementY:function(t){return"movementY"in t?t.movementY:bp}}),Vb=tn(rh),VM=ot({},rh,{dataTransfer:0}),HM=tn(VM),WM=ot({},$u,{relatedTarget:0}),Tp=tn(WM),qM=ot({},Co,{animationName:0,elapsedTime:0,pseudoElement:0}),$M=tn(qM),GM=ot({},Co,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),KM=tn(GM),XM=ot({},Co,{data:0}),Hb=tn(XM),YM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},QM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},JM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ZM(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=JM[t])?!!e[t]:!1}function b0(){return ZM}var eR=ot({},$u,{key:function(t){if(t.key){var e=YM[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Sd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?QM[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:b0,charCode:function(t){return t.type==="keypress"?Sd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Sd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tR=tn(eR),iR=ot({},rh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wb=tn(iR),nR=ot({},$u,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:b0}),rR=tn(nR),sR=ot({},Co,{propertyName:0,elapsedTime:0,pseudoElement:0}),aR=tn(sR),oR=ot({},rh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),lR=tn(oR),uR=[9,13,27,32],T0=Tr&&"CompositionEvent"in window,zl=null;Tr&&"documentMode"in document&&(zl=document.documentMode);var cR=Tr&&"TextEvent"in window&&!zl,L1=Tr&&(!T0||zl&&8<zl&&11>=zl),qb=String.fromCharCode(32),$b=!1;function j1(t,e){switch(t){case"keyup":return uR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function N1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Aa=!1;function dR(t,e){switch(t){case"compositionend":return N1(e);case"keypress":return e.which!==32?null:($b=!0,qb);case"textInput":return t=e.data,t===qb&&$b?null:t;default:return null}}function fR(t,e){if(Aa)return t==="compositionend"||!T0&&j1(t,e)?(t=R1(),wd=y0=zr=null,Aa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return L1&&e.locale!=="ko"?null:e.data;default:return null}}var hR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!hR[t.type]:e==="textarea"}function F1(t,e,i,r){g1(r),e=Gd(e,"onChange"),0<e.length&&(i=new _0("onChange","change",null,i,r),t.push({event:i,listeners:e}))}var Vl=null,hu=null;function pR(t){H1(t,0)}function sh(t){var e=Da(t);if(c1(e))return t}function mR(t,e){if(t==="change")return e}var U1=!1;if(Tr){var xp;if(Tr){var wp="oninput"in document;if(!wp){var Kb=document.createElement("div");Kb.setAttribute("oninput","return;"),wp=typeof Kb.oninput=="function"}xp=wp}else xp=!1;U1=xp&&(!document.documentMode||9<document.documentMode)}function Xb(){Vl&&(Vl.detachEvent("onpropertychange",B1),hu=Vl=null)}function B1(t){if(t.propertyName==="value"&&sh(hu)){var e=[];if(F1(e,hu,t,u0(t)),t=pR,Ds)t(e);else{Ds=!0;try{c0(t,e)}finally{Ds=!1,f0()}}}}function vR(t,e,i){t==="focusin"?(Xb(),Vl=e,hu=i,Vl.attachEvent("onpropertychange",B1)):t==="focusout"&&Xb()}function gR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return sh(hu)}function yR(t,e){if(t==="click")return sh(e)}function _R(t,e){if(t==="input"||t==="change")return sh(e)}function bR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var un=typeof Object.is=="function"?Object.is:bR,TR=Object.prototype.hasOwnProperty;function pu(t,e){if(un(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var i=Object.keys(t),r=Object.keys(e);if(i.length!==r.length)return!1;for(r=0;r<i.length;r++)if(!TR.call(e,i[r])||!un(t[i[r]],e[i[r]]))return!1;return!0}function Yb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Qb(t,e){var i=Yb(t);t=0;for(var r;i;){if(i.nodeType===3){if(r=t+i.textContent.length,t<=e&&r>=e)return{node:i,offset:e-t};t=r}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Yb(i)}}function z1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?z1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Jb(){for(var t=window,e=Hd();e instanceof t.HTMLIFrameElement;){try{var i=typeof e.contentWindow.location.href=="string"}catch{i=!1}if(i)t=e.contentWindow;else break;e=Hd(t.document)}return e}function sv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var xR=Tr&&"documentMode"in document&&11>=document.documentMode,Ia=null,av=null,Hl=null,ov=!1;function Zb(t,e,i){var r=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;ov||Ia==null||Ia!==Hd(r)||(r=Ia,"selectionStart"in r&&sv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Hl&&pu(Hl,r)||(Hl=r,r=Gd(av,"onSelect"),0<r.length&&(e=new _0("onSelect","select",null,e,i),t.push({event:e,listeners:r}),e.target=Ia)))}m0("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);m0("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);m0(AM,2);for(var eT="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Sp=0;Sp<eT.length;Sp++)p0.set(eT[Sp],0);eo("onMouseEnter",["mouseout","mouseover"]);eo("onMouseLeave",["mouseout","mouseover"]);eo("onPointerEnter",["pointerout","pointerover"]);eo("onPointerLeave",["pointerout","pointerover"]);ea("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ea("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ea("onBeforeInput",["compositionend","keypress","textInput","paste"]);ea("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ea("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ea("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),V1=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cl));function tT(t,e,i){var r=t.type||"unknown-event";t.currentTarget=i,EM(r,e,void 0,t),t.currentTarget=null}function H1(t,e){e=(e&4)!==0;for(var i=0;i<t.length;i++){var r=t[i],n=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&n.isPropagationStopped())break e;tT(n,o,u),s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&n.isPropagationStopped())break e;tT(n,o,u),s=l}}}if(qd)throw t=iv,qd=!1,iv=null,t}function et(t,e){var i=K1(e),r=t+"__bubble";i.has(r)||(q1(e,t,2,!1),i.add(r))}var iT="_reactListening"+Math.random().toString(36).slice(2);function W1(t){t[iT]||(t[iT]=!0,o1.forEach(function(e){V1.has(e)||nT(e,!1,t,null),nT(e,!0,t,null)}))}function nT(t,e,i,r){var n=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,s=i;if(t==="selectionchange"&&i.nodeType!==9&&(s=i.ownerDocument),r!==null&&!e&&V1.has(t)){if(t!=="scroll")return;n|=2,s=r}var a=K1(s),o=t+"__"+(e?"capture":"bubble");a.has(o)||(e&&(n|=4),q1(s,t,n,e),a.add(o))}function q1(t,e,i,r){var n=p0.get(e);switch(n===void 0?2:n){case 0:n=UM;break;case 1:n=BM;break;default:n=v0}i=n.bind(null,e,i,t),n=void 0,!tv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(n=!0),r?n!==void 0?t.addEventListener(e,i,{capture:!0,passive:n}):t.addEventListener(e,i,!0):n!==void 0?t.addEventListener(e,i,{passive:n}):t.addEventListener(e,i,!1)}function $1(t,e,i,r,n){var s=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===n||o.nodeType===8&&o.parentNode===n)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===n||l.nodeType===8&&l.parentNode===n))return;a=a.return}for(;o!==null;){if(a=Ms(o),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}o=o.parentNode}}r=r.return}TM(function(){var u=s,c=u0(i),f=[];e:{var d=D1.get(t);if(d!==void 0){var p=_0,g=t;switch(t){case"keypress":if(Sd(i)===0)break e;case"keydown":case"keyup":p=tR;break;case"focusin":g="focus",p=Tp;break;case"focusout":g="blur",p=Tp;break;case"beforeblur":case"afterblur":p=Tp;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Vb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=HM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=rR;break;case P1:case O1:case A1:p=$M;break;case I1:p=aR;break;case"scroll":p=zM;break;case"wheel":p=lR;break;case"copy":case"cut":case"paste":p=KM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Wb}var b=(e&4)!==0,y=!b&&t==="scroll",T=b?d!==null?d+"Capture":null:d;b=[];for(var S=u,I;S!==null;){I=S;var O=I.stateNode;if(I.tag===5&&O!==null&&(I=O,T!==null&&(O=uu(S,T),O!=null&&b.push(mu(S,O,I)))),y)break;S=S.return}0<b.length&&(d=new p(d,g,null,i,c),f.push({event:d,listeners:b}))}}if((e&7)===0){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&(e&16)===0&&(g=i.relatedTarget||i.fromElement)&&(Ms(g)||g[ko]))break e;if((p||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,p?(g=i.relatedTarget||i.toElement,p=u,g=g?Ms(g):null,g!==null&&(y=ia(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(b=Vb,O="onMouseLeave",T="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(b=Wb,O="onPointerLeave",T="onPointerEnter",S="pointer"),y=p==null?d:Da(p),I=g==null?d:Da(g),d=new b(O,S+"leave",p,i,c),d.target=y,d.relatedTarget=I,O=null,Ms(c)===u&&(b=new b(T,S+"enter",g,i,c),b.target=I,b.relatedTarget=y,O=b),y=O,p&&g)t:{for(b=p,T=g,S=0,I=b;I;I=ha(I))S++;for(I=0,O=T;O;O=ha(O))I++;for(;0<S-I;)b=ha(b),S--;for(;0<I-S;)T=ha(T),I--;for(;S--;){if(b===T||T!==null&&b===T.alternate)break t;b=ha(b),T=ha(T)}b=null}else b=null;p!==null&&rT(f,d,p,b,!1),g!==null&&y!==null&&rT(f,y,g,b,!0)}}e:{if(d=u?Da(u):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var M=mR;else if(Gb(d))if(U1)M=_R;else{M=gR;var R=vR}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(M=yR);if(M&&(M=M(t,u))){F1(f,M,i,c);break e}R&&R(t,d,u),t==="focusout"&&(R=d._wrapperState)&&R.controlled&&d.type==="number"&&Gm(d,"number",d.value)}switch(R=u?Da(u):window,t){case"focusin":(Gb(R)||R.contentEditable==="true")&&(Ia=R,av=u,Hl=null);break;case"focusout":Hl=av=Ia=null;break;case"mousedown":ov=!0;break;case"contextmenu":case"mouseup":case"dragend":ov=!1,Zb(f,i,c);break;case"selectionchange":if(xR)break;case"keydown":case"keyup":Zb(f,i,c)}var A;if(T0)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Aa?j1(t,i)&&(E="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(E="onCompositionStart");E&&(L1&&i.locale!=="ko"&&(Aa||E!=="onCompositionStart"?E==="onCompositionEnd"&&Aa&&(A=R1()):(zr=c,y0="value"in zr?zr.value:zr.textContent,Aa=!0)),R=Gd(u,E),0<R.length&&(E=new Hb(E,t,null,i,c),f.push({event:E,listeners:R}),A?E.data=A:(A=N1(i),A!==null&&(E.data=A)))),(A=cR?dR(t,i):fR(t,i))&&(u=Gd(u,"onBeforeInput"),0<u.length&&(c=new Hb("onBeforeInput","beforeinput",null,i,c),f.push({event:c,listeners:u}),c.data=A))}H1(f,e)})}function mu(t,e,i){return{instance:t,listener:e,currentTarget:i}}function Gd(t,e){for(var i=e+"Capture",r=[];t!==null;){var n=t,s=n.stateNode;n.tag===5&&s!==null&&(n=s,s=uu(t,i),s!=null&&r.unshift(mu(t,s,n)),s=uu(t,e),s!=null&&r.push(mu(t,s,n))),t=t.return}return r}function ha(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function rT(t,e,i,r,n){for(var s=e._reactName,a=[];i!==null&&i!==r;){var o=i,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,n?(l=uu(i,s),l!=null&&a.unshift(mu(i,l,o))):n||(l=uu(i,s),l!=null&&a.push(mu(i,l,o)))),i=i.return}a.length!==0&&t.push({event:e,listeners:a})}function Kd(){}var Ep=null,Cp=null;function G1(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function lv(t,e){return t==="textarea"||t==="option"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var sT=typeof setTimeout=="function"?setTimeout:void 0,wR=typeof clearTimeout=="function"?clearTimeout:void 0;function x0(t){t.nodeType===1?t.textContent="":t.nodeType===9&&(t=t.body,t!=null&&(t.textContent=""))}function Ha(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break}return t}function aT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"){if(e===0)return t;e--}else i==="/$"&&e++}t=t.previousSibling}return null}var kp=0;function SR(t){return{$$typeof:o0,toString:t,valueOf:t}}var ah=Math.random().toString(36).slice(2),Vr="__reactFiber$"+ah,Xd="__reactProps$"+ah,ko="__reactContainer$"+ah,oT="__reactEvents$"+ah;function Ms(t){var e=t[Vr];if(e)return e;for(var i=t.parentNode;i;){if(e=i[ko]||i[Vr]){if(i=e.alternate,e.child!==null||i!==null&&i.child!==null)for(t=aT(t);t!==null;){if(i=t[Vr])return i;t=aT(t)}return e}t=i,i=t.parentNode}return null}function Gu(t){return t=t[Vr]||t[ko],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Da(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(oe(33))}function oh(t){return t[Xd]||null}function K1(t){var e=t[oT];return e===void 0&&(e=t[oT]=new Set),e}var uv=[],Ma=-1;function ps(t){return{current:t}}function nt(t){0>Ma||(t.current=uv[Ma],uv[Ma]=null,Ma--)}function vt(t,e){Ma++,uv[Ma]=t.current,t.current=e}var os={},ai=ps(os),Fi=ps(!1),Ws=os;function to(t,e){var i=t.type.contextTypes;if(!i)return os;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var n={},s;for(s in i)n[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=n),n}function Ui(t){return t=t.childContextTypes,t!=null}function Yd(){nt(Fi),nt(ai)}function lT(t,e,i){if(ai.current!==os)throw Error(oe(168));vt(ai,e),vt(Fi,i)}function X1(t,e,i){var r=t.stateNode;if(t=e.childContextTypes,typeof r.getChildContext!="function")return i;r=r.getChildContext();for(var n in r)if(!(n in t))throw Error(oe(108,Ua(e)||"Unknown",n));return ot({},i,r)}function Ed(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||os,Ws=ai.current,vt(ai,t),vt(Fi,Fi.current),!0}function uT(t,e,i){var r=t.stateNode;if(!r)throw Error(oe(169));i?(t=X1(t,e,Ws),r.__reactInternalMemoizedMergedChildContext=t,nt(Fi),nt(ai),vt(ai,t)):nt(Fi),vt(Fi,i)}var w0=null,Us=null,ER=jt.unstable_runWithPriority,S0=jt.unstable_scheduleCallback,cv=jt.unstable_cancelCallback,CR=jt.unstable_shouldYield,cT=jt.unstable_requestPaint,dv=jt.unstable_now,kR=jt.unstable_getCurrentPriorityLevel,lh=jt.unstable_ImmediatePriority,Y1=jt.unstable_UserBlockingPriority,Q1=jt.unstable_NormalPriority,J1=jt.unstable_LowPriority,Z1=jt.unstable_IdlePriority,Pp={},PR=cT!==void 0?cT:function(){},ur=null,Cd=null,Op=!1,dT=dv(),ni=1e4>dT?dv:function(){return dv()-dT};function io(){switch(kR()){case lh:return 99;case Y1:return 98;case Q1:return 97;case J1:return 96;case Z1:return 95;default:throw Error(oe(332))}}function eE(t){switch(t){case 99:return lh;case 98:return Y1;case 97:return Q1;case 96:return J1;case 95:return Z1;default:throw Error(oe(332))}}function qs(t,e){return t=eE(t),ER(t,e)}function vu(t,e,i){return t=eE(t),S0(t,e,i)}function nr(){if(Cd!==null){var t=Cd;Cd=null,cv(t)}tE()}function tE(){if(!Op&&ur!==null){Op=!0;var t=0;try{var e=ur;qs(99,function(){for(;t<e.length;t++){var i=e[t];do i=i(!0);while(i!==null)}}),ur=null}catch(i){throw ur!==null&&(ur=ur.slice(t+1)),S0(lh,nr),i}finally{Op=!1}}}var OR=ta.ReactCurrentBatchConfig;function En(t,e){if(t&&t.defaultProps){e=ot({},e),t=t.defaultProps;for(var i in t)e[i]===void 0&&(e[i]=t[i]);return e}return e}var Qd=ps(null),Jd=null,Ra=null,Zd=null;function E0(){Zd=Ra=Jd=null}function C0(t){var e=Qd.current;nt(Qd),t.type._context._currentValue=e}function iE(t,e){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)===e){if(i===null||(i.childLanes&e)===e)break;i.childLanes|=e}else t.childLanes|=e,i!==null&&(i.childLanes|=e);t=t.return}}function Wa(t,e){Jd=t,Zd=Ra=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(Pn=!0),t.firstContext=null)}function vn(t,e){if(Zd!==t&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(Zd=t,e=1073741823),e={context:t,observedBits:e,next:null},Ra===null){if(Jd===null)throw Error(oe(308));Ra=e,Jd.dependencies={lanes:0,firstContext:e,responders:null}}else Ra=Ra.next=e;return t._currentValue}var Fr=!1;function k0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function nE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Qr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Jr(t,e){if(t=t.updateQueue,t!==null){t=t.shared;var i=t.pending;i===null?e.next=e:(e.next=i.next,i.next=e),t.pending=e}}function fT(t,e){var i=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,i===r)){var n=null,s=null;if(i=i.firstBaseUpdate,i!==null){do{var a={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};s===null?n=s=a:s=s.next=a,i=i.next}while(i!==null);s===null?n=s=e:s=s.next=e}else n=s=e;i={baseState:r.baseState,firstBaseUpdate:n,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}function gu(t,e,i,r){var n=t.updateQueue;Fr=!1;var s=n.firstBaseUpdate,a=n.lastBaseUpdate,o=n.shared.pending;if(o!==null){n.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var c=t.alternate;if(c!==null){c=c.updateQueue;var f=c.lastBaseUpdate;f!==a&&(f===null?c.firstBaseUpdate=u:f.next=u,c.lastBaseUpdate=l)}}if(s!==null){f=n.baseState,a=0,c=u=l=null;do{o=s.lane;var d=s.eventTime;if((r&o)===o){c!==null&&(c=c.next={eventTime:d,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=t,g=s;switch(o=e,d=i,g.tag){case 1:if(p=g.payload,typeof p=="function"){f=p.call(d,f,o);break e}f=p;break e;case 3:p.flags=p.flags&-4097|64;case 0:if(p=g.payload,o=typeof p=="function"?p.call(d,f,o):p,o==null)break e;f=ot({},f,o);break e;case 2:Fr=!0}}s.callback!==null&&(t.flags|=32,o=n.effects,o===null?n.effects=[s]:o.push(s))}else d={eventTime:d,lane:o,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=d,l=f):c=c.next=d,a|=o;if(s=s.next,s===null){if(o=n.shared.pending,o===null)break;s=o.next,o.next=null,n.lastBaseUpdate=o,n.shared.pending=null}}while(1);c===null&&(l=f),n.baseState=l,n.firstBaseUpdate=u,n.lastBaseUpdate=c,Xu|=a,t.lanes=a,t.memoizedState=f}}function hT(t,e,i){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],n=r.callback;if(n!==null){if(r.callback=null,r=i,typeof n!="function")throw Error(oe(191,n));n.call(r)}}}var rE=new Zf.Component().refs;function ef(t,e,i,r){e=t.memoizedState,i=i(r,e),i=i==null?e:ot({},e,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var uh={isMounted:function(t){return(t=t._reactInternals)?ia(t)===t:!1},enqueueSetState:function(t,e,i){t=t._reactInternals;var r=Zi(),n=Zr(t),s=Qr(r,n);s.payload=e,i!=null&&(s.callback=i),Jr(t,s),es(t,n,r)},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var r=Zi(),n=Zr(t),s=Qr(r,n);s.tag=1,s.payload=e,i!=null&&(s.callback=i),Jr(t,s),es(t,n,r)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=Zi(),r=Zr(t),n=Qr(i,r);n.tag=2,e!=null&&(n.callback=e),Jr(t,n),es(t,r,i)}};function pT(t,e,i,r,n,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!pu(i,r)||!pu(n,s):!0}function sE(t,e,i){var r=!1,n=os,s=e.contextType;return typeof s=="object"&&s!==null?s=vn(s):(n=Ui(e)?Ws:ai.current,r=e.contextTypes,s=(r=r!=null)?to(t,n):os),e=new e(i,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=uh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=s),e}function mT(t,e,i,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(i,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(i,r),e.state!==t&&uh.enqueueReplaceState(e,e.state,null)}function fv(t,e,i,r){var n=t.stateNode;n.props=i,n.state=t.memoizedState,n.refs=rE,k0(t);var s=e.contextType;typeof s=="object"&&s!==null?n.context=vn(s):(s=Ui(e)?Ws:ai.current,n.context=to(t,s)),gu(t,i,n,r),n.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ef(t,e,s,i),n.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(e=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),e!==n.state&&uh.enqueueReplaceState(n,n.state,null),gu(t,i,n,r),n.state=t.memoizedState),typeof n.componentDidMount=="function"&&(t.flags|=4)}var Yc=Array.isArray;function rl(t,e,i){if(t=i.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(oe(309));var r=i.stateNode}if(!r)throw Error(oe(147,t));var n=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===n?e.ref:(e=function(s){var a=r.refs;a===rE&&(a=r.refs={}),s===null?delete a[n]:a[n]=s},e._stringRef=n,e)}if(typeof t!="string")throw Error(oe(284));if(!i._owner)throw Error(oe(290,t))}return t}function Qc(t,e){if(t.type!=="textarea")throw Error(oe(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function aE(t){function e(y,T){if(t){var S=y.lastEffect;S!==null?(S.nextEffect=T,y.lastEffect=T):y.firstEffect=y.lastEffect=T,T.nextEffect=null,T.flags=8}}function i(y,T){if(!t)return null;for(;T!==null;)e(y,T),T=T.sibling;return null}function r(y,T){for(y=new Map;T!==null;)T.key!==null?y.set(T.key,T):y.set(T.index,T),T=T.sibling;return y}function n(y,T){return y=us(y,T),y.index=0,y.sibling=null,y}function s(y,T,S){return y.index=S,t?(S=y.alternate,S!==null?(S=S.index,S<T?(y.flags=2,T):S):(y.flags=2,T)):T}function a(y){return t&&y.alternate===null&&(y.flags=2),y}function o(y,T,S,I){return T===null||T.tag!==6?(T=Rp(S,y.mode,I),T.return=y,T):(T=n(T,S),T.return=y,T)}function l(y,T,S,I){return T!==null&&T.elementType===S.type?(I=n(T,S.props),I.ref=rl(y,T,S),I.return=y,I):(I=Ad(S.type,S.key,S.props,null,y.mode,I),I.ref=rl(y,T,S),I.return=y,I)}function u(y,T,S,I){return T===null||T.tag!==4||T.stateNode.containerInfo!==S.containerInfo||T.stateNode.implementation!==S.implementation?(T=Lp(S,y.mode,I),T.return=y,T):(T=n(T,S.children||[]),T.return=y,T)}function c(y,T,S,I,O){return T===null||T.tag!==7?(T=Ka(S,y.mode,I,O),T.return=y,T):(T=n(T,S),T.return=y,T)}function f(y,T,S){if(typeof T=="string"||typeof T=="number")return T=Rp(""+T,y.mode,S),T.return=y,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Sl:return S=Ad(T.type,T.key,T.props,null,y.mode,S),S.ref=rl(y,null,T),S.return=y,S;case Is:return T=Lp(T,y.mode,S),T.return=y,T}if(Yc(T)||Jo(T))return T=Ka(T,y.mode,S,null),T.return=y,T;Qc(y,T)}return null}function d(y,T,S,I){var O=T!==null?T.key:null;if(typeof S=="string"||typeof S=="number")return O!==null?null:o(y,T,""+S,I);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Sl:return S.key===O?S.type===Ur?c(y,T,S.props.children,I,O):l(y,T,S,I):null;case Is:return S.key===O?u(y,T,S,I):null}if(Yc(S)||Jo(S))return O!==null?null:c(y,T,S,I,null);Qc(y,S)}return null}function p(y,T,S,I,O){if(typeof I=="string"||typeof I=="number")return y=y.get(S)||null,o(T,y,""+I,O);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Sl:return y=y.get(I.key===null?S:I.key)||null,I.type===Ur?c(T,y,I.props.children,O,I.key):l(T,y,I,O);case Is:return y=y.get(I.key===null?S:I.key)||null,u(T,y,I,O)}if(Yc(I)||Jo(I))return y=y.get(S)||null,c(T,y,I,O,null);Qc(T,I)}return null}function g(y,T,S,I){for(var O=null,M=null,R=T,A=T=0,E=null;R!==null&&A<S.length;A++){R.index>A?(E=R,R=null):E=R.sibling;var C=d(y,R,S[A],I);if(C===null){R===null&&(R=E);break}t&&R&&C.alternate===null&&e(y,R),T=s(C,T,A),M===null?O=C:M.sibling=C,M=C,R=E}if(A===S.length)return i(y,R),O;if(R===null){for(;A<S.length;A++)R=f(y,S[A],I),R!==null&&(T=s(R,T,A),M===null?O=R:M.sibling=R,M=R);return O}for(R=r(y,R);A<S.length;A++)E=p(R,y,A,S[A],I),E!==null&&(t&&E.alternate!==null&&R.delete(E.key===null?A:E.key),T=s(E,T,A),M===null?O=E:M.sibling=E,M=E);return t&&R.forEach(function(P){return e(y,P)}),O}function b(y,T,S,I){var O=Jo(S);if(typeof O!="function")throw Error(oe(150));if(S=O.call(S),S==null)throw Error(oe(151));for(var M=O=null,R=T,A=T=0,E=null,C=S.next();R!==null&&!C.done;A++,C=S.next()){R.index>A?(E=R,R=null):E=R.sibling;var P=d(y,R,C.value,I);if(P===null){R===null&&(R=E);break}t&&R&&P.alternate===null&&e(y,R),T=s(P,T,A),M===null?O=P:M.sibling=P,M=P,R=E}if(C.done)return i(y,R),O;if(R===null){for(;!C.done;A++,C=S.next())C=f(y,C.value,I),C!==null&&(T=s(C,T,A),M===null?O=C:M.sibling=C,M=C);return O}for(R=r(y,R);!C.done;A++,C=S.next())C=p(R,y,A,C.value,I),C!==null&&(t&&C.alternate!==null&&R.delete(C.key===null?A:C.key),T=s(C,T,A),M===null?O=C:M.sibling=C,M=C);return t&&R.forEach(function(U){return e(y,U)}),O}return function(y,T,S,I){var O=typeof S=="object"&&S!==null&&S.type===Ur&&S.key===null;O&&(S=S.props.children);var M=typeof S=="object"&&S!==null;if(M)switch(S.$$typeof){case Sl:e:{for(M=S.key,O=T;O!==null;){if(O.key===M){switch(O.tag){case 7:if(S.type===Ur){i(y,O.sibling),T=n(O,S.props.children),T.return=y,y=T;break e}break;default:if(O.elementType===S.type){i(y,O.sibling),T=n(O,S.props),T.ref=rl(y,O,S),T.return=y,y=T;break e}}i(y,O);break}else e(y,O);O=O.sibling}S.type===Ur?(T=Ka(S.props.children,y.mode,I,S.key),T.return=y,y=T):(I=Ad(S.type,S.key,S.props,null,y.mode,I),I.ref=rl(y,T,S),I.return=y,y=I)}return a(y);case Is:e:{for(O=S.key;T!==null;){if(T.key===O)if(T.tag===4&&T.stateNode.containerInfo===S.containerInfo&&T.stateNode.implementation===S.implementation){i(y,T.sibling),T=n(T,S.children||[]),T.return=y,y=T;break e}else{i(y,T);break}else e(y,T);T=T.sibling}T=Lp(S,y.mode,I),T.return=y,y=T}return a(y)}if(typeof S=="string"||typeof S=="number")return S=""+S,T!==null&&T.tag===6?(i(y,T.sibling),T=n(T,S),T.return=y,y=T):(i(y,T),T=Rp(S,y.mode,I),T.return=y,y=T),a(y);if(Yc(S))return g(y,T,S,I);if(Jo(S))return b(y,T,S,I);if(M&&Qc(y,S),typeof S>"u"&&!O)switch(y.tag){case 1:case 22:case 0:case 11:case 15:throw Error(oe(152,Ua(y.type)||"Component"))}return i(y,T)}}var tf=aE(!0),oE=aE(!1),Ku={},Kn=ps(Ku),yu=ps(Ku),_u=ps(Ku);function Rs(t){if(t===Ku)throw Error(oe(174));return t}function hv(t,e){switch(vt(_u,e),vt(yu,t),vt(Kn,Ku),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Qm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Qm(e,t)}nt(Kn),vt(Kn,e)}function no(){nt(Kn),nt(yu),nt(_u)}function vT(t){Rs(_u.current);var e=Rs(Kn.current),i=Qm(e,t.type);e!==i&&(vt(yu,t),vt(Kn,i))}function P0(t){yu.current===t&&(nt(Kn),nt(yu))}var mt=ps(0);function nf(t){for(var e=t;e!==null;){if(e.tag===13){var i=e.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&64)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var hr=null,Hr=null,Xn=!1;function lE(t,e){var i=cn(5,null,null,0);i.elementType="DELETED",i.type="DELETED",i.stateNode=e,i.return=t,i.flags=8,t.lastEffect!==null?(t.lastEffect.nextEffect=i,t.lastEffect=i):t.firstEffect=t.lastEffect=i}function gT(t,e){switch(t.tag){case 5:var i=t.type;return e=e.nodeType!==1||i.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function pv(t){if(Xn){var e=Hr;if(e){var i=e;if(!gT(t,e)){if(e=Ha(i.nextSibling),!e||!gT(t,e)){t.flags=t.flags&-1025|2,Xn=!1,hr=t;return}lE(hr,i)}hr=t,Hr=Ha(e.firstChild)}else t.flags=t.flags&-1025|2,Xn=!1,hr=t}}function yT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;hr=t}function Jc(t){if(t!==hr)return!1;if(!Xn)return yT(t),Xn=!0,!1;var e=t.type;if(t.tag!==5||e!=="head"&&e!=="body"&&!lv(e,t.memoizedProps))for(e=Hr;e;)lE(t,e),e=Ha(e.nextSibling);if(yT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(oe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"){if(e===0){Hr=Ha(t.nextSibling);break e}e--}else i!=="$"&&i!=="$!"&&i!=="$?"||e++}t=t.nextSibling}Hr=null}}else Hr=hr?Ha(t.stateNode.nextSibling):null;return!0}function Ap(){Hr=hr=null,Xn=!1}var qa=[];function O0(){for(var t=0;t<qa.length;t++)qa[t]._workInProgressVersionPrimary=null;qa.length=0}var Wl=ta.ReactCurrentDispatcher,fn=ta.ReactCurrentBatchConfig,bu=0,St=null,ti=null,Ht=null,rf=!1,ql=!1;function Pi(){throw Error(oe(321))}function A0(t,e){if(e===null)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!un(t[i],e[i]))return!1;return!0}function I0(t,e,i,r,n,s){if(bu=s,St=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Wl.current=t===null||t.memoizedState===null?IR:DR,t=i(r,n),ql){s=0;do{if(ql=!1,!(25>s))throw Error(oe(301));s+=1,Ht=ti=null,e.updateQueue=null,Wl.current=MR,t=i(r,n)}while(ql)}if(Wl.current=lf,e=ti!==null&&ti.next!==null,bu=0,Ht=ti=St=null,rf=!1,e)throw Error(oe(300));return t}function Ls(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?St.memoizedState=Ht=t:Ht=Ht.next=t,Ht}function na(){if(ti===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=ti.next;var e=Ht===null?St.memoizedState:Ht.next;if(e!==null)Ht=e,ti=t;else{if(t===null)throw Error(oe(310));ti=t,t={memoizedState:ti.memoizedState,baseState:ti.baseState,baseQueue:ti.baseQueue,queue:ti.queue,next:null},Ht===null?St.memoizedState=Ht=t:Ht=Ht.next=t}return Ht}function Vn(t,e){return typeof e=="function"?e(t):e}function sl(t){var e=na(),i=e.queue;if(i===null)throw Error(oe(311));i.lastRenderedReducer=t;var r=ti,n=r.baseQueue,s=i.pending;if(s!==null){if(n!==null){var a=n.next;n.next=s.next,s.next=a}r.baseQueue=n=s,i.pending=null}if(n!==null){n=n.next,r=r.baseState;var o=a=s=null,l=n;do{var u=l.lane;if((bu&u)===u)o!==null&&(o=o.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===t?l.eagerState:t(r,l.action);else{var c={lane:u,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};o===null?(a=o=c,s=r):o=o.next=c,St.lanes|=u,Xu|=u}l=l.next}while(l!==null&&l!==n);o===null?s=r:o.next=a,un(r,e.memoizedState)||(Pn=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=o,i.lastRenderedState=r}return[e.memoizedState,i.dispatch]}function al(t){var e=na(),i=e.queue;if(i===null)throw Error(oe(311));i.lastRenderedReducer=t;var r=i.dispatch,n=i.pending,s=e.memoizedState;if(n!==null){i.pending=null;var a=n=n.next;do s=t(s,a.action),a=a.next;while(a!==n);un(s,e.memoizedState)||(Pn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),i.lastRenderedState=s}return[s,r]}function _T(t,e,i){var r=e._getVersion;r=r(e._source);var n=e._workInProgressVersionPrimary;if(n!==null?t=n===r:(t=t.mutableReadLanes,(t=(bu&t)===t)&&(e._workInProgressVersionPrimary=r,qa.push(e))),t)return i(e._source);throw qa.push(e),Error(oe(350))}function uE(t,e,i,r){var n=xi;if(n===null)throw Error(oe(349));var s=e._getVersion,a=s(e._source),o=Wl.current,l=o.useState(function(){return _T(n,e,i)}),u=l[1],c=l[0];l=Ht;var f=t.memoizedState,d=f.refs,p=d.getSnapshot,g=f.source;f=f.subscribe;var b=St;return t.memoizedState={refs:d,source:e,subscribe:r},o.useEffect(function(){d.getSnapshot=i,d.setSnapshot=u;var y=s(e._source);if(!un(a,y)){y=i(e._source),un(c,y)||(u(y),y=Zr(b),n.mutableReadLanes|=y&n.pendingLanes),y=n.mutableReadLanes,n.entangledLanes|=y;for(var T=n.entanglements,S=y;0<S;){var I=31-as(S),O=1<<I;T[I]|=y,S&=~O}}},[i,e,r]),o.useEffect(function(){return r(e._source,function(){var y=d.getSnapshot,T=d.setSnapshot;try{T(y(e._source));var S=Zr(b);n.mutableReadLanes|=S&n.pendingLanes}catch(I){T(function(){throw I})}})},[e,r]),un(p,i)&&un(g,e)&&un(f,r)||(t={pending:null,dispatch:null,lastRenderedReducer:Vn,lastRenderedState:c},t.dispatch=u=R0.bind(null,St,t),l.queue=t,l.baseQueue=null,c=_T(n,e,i),l.memoizedState=l.baseState=c),c}function cE(t,e,i){var r=na();return uE(r,t,e,i)}function ol(t){var e=Ls();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:Vn,lastRenderedState:t},t=t.dispatch=R0.bind(null,St,t),[e.memoizedState,t]}function sf(t,e,i,r){return t={tag:t,create:e,destroy:i,deps:r,next:null},e=St.updateQueue,e===null?(e={lastEffect:null},St.updateQueue=e,e.lastEffect=t.next=t):(i=e.lastEffect,i===null?e.lastEffect=t.next=t:(r=i.next,i.next=t,t.next=r,e.lastEffect=t)),t}function bT(t){var e=Ls();return t={current:t},e.memoizedState=t}function af(){return na().memoizedState}function mv(t,e,i,r){var n=Ls();St.flags|=t,n.memoizedState=sf(1|e,i,void 0,r===void 0?null:r)}function D0(t,e,i,r){var n=na();r=r===void 0?null:r;var s=void 0;if(ti!==null){var a=ti.memoizedState;if(s=a.destroy,r!==null&&A0(r,a.deps)){sf(e,i,s,r);return}}St.flags|=t,n.memoizedState=sf(1|e,i,s,r)}function TT(t,e){return mv(516,4,t,e)}function of(t,e){return D0(516,4,t,e)}function dE(t,e){return D0(4,2,t,e)}function fE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function hE(t,e,i){return i=i!=null?i.concat([t]):null,D0(4,2,fE.bind(null,e,t),i)}function M0(){}function pE(t,e){var i=na();e=e===void 0?null:e;var r=i.memoizedState;return r!==null&&e!==null&&A0(e,r[1])?r[0]:(i.memoizedState=[t,e],t)}function mE(t,e){var i=na();e=e===void 0?null:e;var r=i.memoizedState;return r!==null&&e!==null&&A0(e,r[1])?r[0]:(t=t(),i.memoizedState=[t,e],t)}function AR(t,e){var i=io();qs(98>i?98:i,function(){t(!0)}),qs(97<i?97:i,function(){var r=fn.transition;fn.transition=1;try{t(!1),e()}finally{fn.transition=r}})}function R0(t,e,i){var r=Zi(),n=Zr(t),s={lane:n,action:i,eagerReducer:null,eagerState:null,next:null},a=e.pending;if(a===null?s.next=s:(s.next=a.next,a.next=s),e.pending=s,a=t.alternate,t===St||a!==null&&a===St)ql=rf=!0;else{if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,l=a(o,i);if(s.eagerReducer=a,s.eagerState=l,un(l,o))return}catch{}finally{}es(t,n,r)}}var lf={readContext:vn,useCallback:Pi,useContext:Pi,useEffect:Pi,useImperativeHandle:Pi,useLayoutEffect:Pi,useMemo:Pi,useReducer:Pi,useRef:Pi,useState:Pi,useDebugValue:Pi,useDeferredValue:Pi,useTransition:Pi,useMutableSource:Pi,useOpaqueIdentifier:Pi,unstable_isNewReconciler:!1},IR={readContext:vn,useCallback:function(t,e){return Ls().memoizedState=[t,e===void 0?null:e],t},useContext:vn,useEffect:TT,useImperativeHandle:function(t,e,i){return i=i!=null?i.concat([t]):null,mv(4,2,fE.bind(null,e,t),i)},useLayoutEffect:function(t,e){return mv(4,2,t,e)},useMemo:function(t,e){var i=Ls();return e=e===void 0?null:e,t=t(),i.memoizedState=[t,e],t},useReducer:function(t,e,i){var r=Ls();return e=i!==void 0?i(e):e,r.memoizedState=r.baseState=e,t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=R0.bind(null,St,t),[r.memoizedState,t]},useRef:bT,useState:ol,useDebugValue:M0,useDeferredValue:function(t){var e=ol(t),i=e[0],r=e[1];return TT(function(){var n=fn.transition;fn.transition=1;try{r(t)}finally{fn.transition=n}},[t]),i},useTransition:function(){var t=ol(!1),e=t[0];return t=AR.bind(null,t[1]),bT(t),[t,e]},useMutableSource:function(t,e,i){var r=Ls();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:i},uE(r,t,e,i)},useOpaqueIdentifier:function(){if(Xn){var t=!1,e=SR(function(){throw t||(t=!0,i("r:"+(kp++).toString(36))),Error(oe(355))}),i=ol(e)[1];return(St.mode&2)===0&&(St.flags|=516,sf(5,function(){i("r:"+(kp++).toString(36))},void 0,null)),e}return e="r:"+(kp++).toString(36),ol(e),e},unstable_isNewReconciler:!1},DR={readContext:vn,useCallback:pE,useContext:vn,useEffect:of,useImperativeHandle:hE,useLayoutEffect:dE,useMemo:mE,useReducer:sl,useRef:af,useState:function(){return sl(Vn)},useDebugValue:M0,useDeferredValue:function(t){var e=sl(Vn),i=e[0],r=e[1];return of(function(){var n=fn.transition;fn.transition=1;try{r(t)}finally{fn.transition=n}},[t]),i},useTransition:function(){var t=sl(Vn)[0];return[af().current,t]},useMutableSource:cE,useOpaqueIdentifier:function(){return sl(Vn)[0]},unstable_isNewReconciler:!1},MR={readContext:vn,useCallback:pE,useContext:vn,useEffect:of,useImperativeHandle:hE,useLayoutEffect:dE,useMemo:mE,useReducer:al,useRef:af,useState:function(){return al(Vn)},useDebugValue:M0,useDeferredValue:function(t){var e=al(Vn),i=e[0],r=e[1];return of(function(){var n=fn.transition;fn.transition=1;try{r(t)}finally{fn.transition=n}},[t]),i},useTransition:function(){var t=al(Vn)[0];return[af().current,t]},useMutableSource:cE,useOpaqueIdentifier:function(){return al(Vn)[0]},unstable_isNewReconciler:!1},RR=ta.ReactCurrentOwner,Pn=!1;function Ii(t,e,i,r){e.child=t===null?oE(e,null,i,r):tf(e,t.child,i,r)}function xT(t,e,i,r,n){i=i.render;var s=e.ref;return Wa(e,n),r=I0(t,e,i,r,s,n),t!==null&&!Pn?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~n,pr(t,e,n)):(e.flags|=1,Ii(t,e,r,n),e.child)}function wT(t,e,i,r,n,s){if(t===null){var a=i.type;return typeof a=="function"&&!B0(a)&&a.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(e.tag=15,e.type=a,vE(t,e,a,r,n,s)):(t=Ad(i.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}return a=t.child,(n&s)===0&&(n=a.memoizedProps,i=i.compare,i=i!==null?i:pu,i(n,r)&&t.ref===e.ref)?pr(t,e,s):(e.flags|=1,t=us(a,r),t.ref=e.ref,t.return=e,e.child=t)}function vE(t,e,i,r,n,s){if(t!==null&&pu(t.memoizedProps,r)&&t.ref===e.ref)if(Pn=!1,(s&n)!==0)(t.flags&16384)!==0&&(Pn=!0);else return e.lanes=t.lanes,pr(t,e,s);return vv(t,e,i,r,s)}function Ip(t,e,i){var r=e.pendingProps,n=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden"||r.mode==="unstable-defer-without-hiding")if((e.mode&4)===0)e.memoizedState={baseLanes:0},ed(e,i);else if((i&1073741824)!==0)e.memoizedState={baseLanes:0},ed(e,s!==null?s.baseLanes:i);else return t=s!==null?s.baseLanes|i:i,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},ed(e,t),null;else s!==null?(r=s.baseLanes|i,e.memoizedState=null):r=i,ed(e,r);return Ii(t,e,n,i),e.child}function gE(t,e){var i=e.ref;(t===null&&i!==null||t!==null&&t.ref!==i)&&(e.flags|=128)}function vv(t,e,i,r,n){var s=Ui(i)?Ws:ai.current;return s=to(e,s),Wa(e,n),i=I0(t,e,i,r,s,n),t!==null&&!Pn?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~n,pr(t,e,n)):(e.flags|=1,Ii(t,e,i,n),e.child)}function ST(t,e,i,r,n){if(Ui(i)){var s=!0;Ed(e)}else s=!1;if(Wa(e,n),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),sE(e,i,r),fv(e,i,r,n),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=i.contextType;typeof u=="object"&&u!==null?u=vn(u):(u=Ui(i)?Ws:ai.current,u=to(e,u));var c=i.getDerivedStateFromProps,f=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==u)&&mT(e,a,r,u),Fr=!1;var d=e.memoizedState;a.state=d,gu(e,r,a,n),l=e.memoizedState,o!==r||d!==l||Fi.current||Fr?(typeof c=="function"&&(ef(e,i,c,r),l=e.memoizedState),(o=Fr||pT(e,i,o,r,d,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4)):(typeof a.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4),r=!1)}else{a=e.stateNode,nE(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:En(e.type,o),a.props=u,f=e.pendingProps,d=a.context,l=i.contextType,typeof l=="object"&&l!==null?l=vn(l):(l=Ui(i)?Ws:ai.current,l=to(e,l));var p=i.getDerivedStateFromProps;(c=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||d!==l)&&mT(e,a,r,l),Fr=!1,d=e.memoizedState,a.state=d,gu(e,r,a,n);var g=e.memoizedState;o!==f||d!==g||Fi.current||Fr?(typeof p=="function"&&(ef(e,i,p,r),g=e.memoizedState),(u=Fr||pT(e,i,u,r,d,g,l))?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,g,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,g,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=g),a.props=r,a.state=g,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=256),r=!1)}return gv(t,e,i,r,s,n)}function gv(t,e,i,r,n,s){gE(t,e);var a=(e.flags&64)!==0;if(!r&&!a)return n&&uT(e,i,!1),pr(t,e,s);r=e.stateNode,RR.current=e;var o=a&&typeof i.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=tf(e,t.child,null,s),e.child=tf(e,null,o,s)):Ii(t,e,o,s),e.memoizedState=r.state,n&&uT(e,i,!0),e.child}function ET(t){var e=t.stateNode;e.pendingContext?lT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&lT(t,e.context,!1),hv(t,e.containerInfo)}var Zc={dehydrated:null,retryLane:0};function CT(t,e,i){var r=e.pendingProps,n=mt.current,s=!1,a;return(a=(e.flags&64)!==0)||(a=t!==null&&t.memoizedState===null?!1:(n&2)!==0),a?(s=!0,e.flags&=-65):t!==null&&t.memoizedState===null||r.fallback===void 0||r.unstable_avoidThisFallback===!0||(n|=1),vt(mt,n&1),t===null?(r.fallback!==void 0&&pv(e),t=r.children,n=r.fallback,s?(t=kT(e,t,n,i),e.child.memoizedState={baseLanes:i},e.memoizedState=Zc,t):typeof r.unstable_expectedLoadTime=="number"?(t=kT(e,t,n,i),e.child.memoizedState={baseLanes:i},e.memoizedState=Zc,e.lanes=33554432,t):(i=z0({mode:"visible",children:t},e.mode,i,null),i.return=e,e.child=i)):t.memoizedState!==null?s?(r=OT(t,e,r.children,r.fallback,i),s=e.child,n=t.child.memoizedState,s.memoizedState=n===null?{baseLanes:i}:{baseLanes:n.baseLanes|i},s.childLanes=t.childLanes&~i,e.memoizedState=Zc,r):(i=PT(t,e,r.children,i),e.memoizedState=null,i):s?(r=OT(t,e,r.children,r.fallback,i),s=e.child,n=t.child.memoizedState,s.memoizedState=n===null?{baseLanes:i}:{baseLanes:n.baseLanes|i},s.childLanes=t.childLanes&~i,e.memoizedState=Zc,r):(i=PT(t,e,r.children,i),e.memoizedState=null,i)}function kT(t,e,i,r){var n=t.mode,s=t.child;return e={mode:"hidden",children:e},(n&2)===0&&s!==null?(s.childLanes=0,s.pendingProps=e):s=z0(e,n,0,null),i=Ka(i,n,r,null),s.return=t,i.return=t,s.sibling=i,t.child=s,i}function PT(t,e,i,r){var n=t.child;return t=n.sibling,i=us(n,{mode:"visible",children:i}),(e.mode&2)===0&&(i.lanes=r),i.return=e,i.sibling=null,t!==null&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=i}function OT(t,e,i,r,n){var s=e.mode,a=t.child;t=a.sibling;var o={mode:"hidden",children:i};return(s&2)===0&&e.child!==a?(i=e.child,i.childLanes=0,i.pendingProps=o,a=i.lastEffect,a!==null?(e.firstEffect=i.firstEffect,e.lastEffect=a,a.nextEffect=null):e.firstEffect=e.lastEffect=null):i=us(a,o),t!==null?r=us(t,r):(r=Ka(r,s,n,null),r.flags|=2),r.return=e,i.return=e,i.sibling=r,e.child=i,r}function AT(t,e){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),iE(t.return,e)}function Dp(t,e,i,r,n,s){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:i,tailMode:n,lastEffect:s}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=i,a.tailMode=n,a.lastEffect=s)}function IT(t,e,i){var r=e.pendingProps,n=r.revealOrder,s=r.tail;if(Ii(t,e,r.children,i),r=mt.current,(r&2)!==0)r=r&1|2,e.flags|=64;else{if(t!==null&&(t.flags&64)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&AT(t,i);else if(t.tag===19)AT(t,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(vt(mt,r),(e.mode&2)===0)e.memoizedState=null;else switch(n){case"forwards":for(i=e.child,n=null;i!==null;)t=i.alternate,t!==null&&nf(t)===null&&(n=i),i=i.sibling;i=n,i===null?(n=e.child,e.child=null):(n=i.sibling,i.sibling=null),Dp(e,!1,n,i,s,e.lastEffect);break;case"backwards":for(i=null,n=e.child,e.child=null;n!==null;){if(t=n.alternate,t!==null&&nf(t)===null){e.child=n;break}t=n.sibling,n.sibling=i,i=n,n=t}Dp(e,!0,i,null,s,e.lastEffect);break;case"together":Dp(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function pr(t,e,i){if(t!==null&&(e.dependencies=t.dependencies),Xu|=e.lanes,(i&e.childLanes)!==0){if(t!==null&&e.child!==t.child)throw Error(oe(153));if(e.child!==null){for(t=e.child,i=us(t,t.pendingProps),e.child=i,i.return=e;t.sibling!==null;)t=t.sibling,i=i.sibling=us(t,t.pendingProps),i.return=e;i.sibling=null}return e.child}return null}var yE,yv,_E,bE;yE=function(t,e){for(var i=e.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};yv=function(){};_E=function(t,e,i,r){var n=t.memoizedProps;if(n!==r){t=e.stateNode,Rs(Kn.current);var s=null;switch(i){case"input":n=qm(t,n),r=qm(t,r),s=[];break;case"option":n=Km(t,n),r=Km(t,r),s=[];break;case"select":n=ot({},n,{value:void 0}),r=ot({},r,{value:void 0}),s=[];break;case"textarea":n=Xm(t,n),r=Xm(t,r),s=[];break;default:typeof n.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Kd)}Jm(i,r);var a;i=null;for(u in n)if(!r.hasOwnProperty(u)&&n.hasOwnProperty(u)&&n[u]!=null)if(u==="style"){var o=n[u];for(a in o)o.hasOwnProperty(a)&&(i||(i={}),i[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ou.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(o=n?.[u],r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(i||(i={}),i[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(i||(i={}),i[a]=l[a])}else i||(s||(s=[]),s.push(u,i)),i=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ou.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&et("scroll",t),s||o===l||(s=[])):typeof l=="object"&&l!==null&&l.$$typeof===o0?l.toString():(s=s||[]).push(u,l))}i&&(s=s||[]).push("style",i);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};bE=function(t,e,i,r){i!==r&&(e.flags|=4)};function ll(t,e){if(!Xn)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var r=null;i!==null;)i.alternate!==null&&(r=i),i=i.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function LR(t,e,i){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Ui(e.type)&&Yd(),null;case 3:return no(),nt(Fi),nt(ai),O0(),r=e.stateNode,r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Jc(e)?e.flags|=4:r.hydrate||(e.flags|=256)),yv(e),null;case 5:P0(e);var n=Rs(_u.current);if(i=e.type,t!==null&&e.stateNode!=null)_E(t,e,i,r,n),t.ref!==e.ref&&(e.flags|=128);else{if(!r){if(e.stateNode===null)throw Error(oe(166));return null}if(t=Rs(Kn.current),Jc(e)){r=e.stateNode,i=e.type;var s=e.memoizedProps;switch(r[Vr]=e,r[Xd]=s,i){case"dialog":et("cancel",r),et("close",r);break;case"iframe":case"object":case"embed":et("load",r);break;case"video":case"audio":for(t=0;t<Cl.length;t++)et(Cl[t],r);break;case"source":et("error",r);break;case"img":case"image":case"link":et("error",r),et("load",r);break;case"details":et("toggle",r);break;case"input":Ib(r,s),et("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},et("invalid",r);break;case"textarea":Mb(r,s),et("invalid",r)}Jm(i,s),t=null;for(var a in s)s.hasOwnProperty(a)&&(n=s[a],a==="children"?typeof n=="string"?r.textContent!==n&&(t=["children",n]):typeof n=="number"&&r.textContent!==""+n&&(t=["children",""+n]):ou.hasOwnProperty(a)&&n!=null&&a==="onScroll"&&et("scroll",r));switch(i){case"input":$c(r),Db(r,s,!0);break;case"textarea":$c(r),Rb(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Kd)}r=t,e.updateQueue=r,r!==null&&(e.flags|=4)}else{switch(a=n.nodeType===9?n:n.ownerDocument,t===Ym.html&&(t=h1(i)),t===Ym.html?i==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(i,{is:r.is}):(t=a.createElement(i),i==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,i),t[Vr]=e,t[Xd]=r,yE(t,e,!1,!1),e.stateNode=t,a=Zm(i,r),i){case"dialog":et("cancel",t),et("close",t),n=r;break;case"iframe":case"object":case"embed":et("load",t),n=r;break;case"video":case"audio":for(n=0;n<Cl.length;n++)et(Cl[n],t);n=r;break;case"source":et("error",t),n=r;break;case"img":case"image":case"link":et("error",t),et("load",t),n=r;break;case"details":et("toggle",t),n=r;break;case"input":Ib(t,r),n=qm(t,r),et("invalid",t);break;case"option":n=Km(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},n=ot({},r,{value:void 0}),et("invalid",t);break;case"textarea":Mb(t,r),n=Xm(t,r),et("invalid",t);break;default:n=r}Jm(i,n);var o=n;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?v1(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&p1(t,l)):s==="children"?typeof l=="string"?(i!=="textarea"||l!=="")&&lu(t,l):typeof l=="number"&&lu(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ou.hasOwnProperty(s)?l!=null&&s==="onScroll"&&et("scroll",t):l!=null&&t0(t,s,l,a))}switch(i){case"input":$c(t),Db(t,r,!1);break;case"textarea":$c(t),Rb(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ss(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ba(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ba(t,!!r.multiple,r.defaultValue,!0);break;default:typeof n.onClick=="function"&&(t.onclick=Kd)}G1(i,r)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(t&&e.stateNode!=null)bE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(oe(166));i=Rs(_u.current),Rs(Kn.current),Jc(e)?(r=e.stateNode,i=e.memoizedProps,r[Vr]=e,r.nodeValue!==i&&(e.flags|=4)):(r=(i.nodeType===9?i:i.ownerDocument).createTextNode(r),r[Vr]=e,e.stateNode=r)}return null;case 13:return nt(mt),r=e.memoizedState,(e.flags&64)!==0?(e.lanes=i,e):(r=r!==null,i=!1,t===null?e.memoizedProps.fallback!==void 0&&Jc(e):i=t.memoizedState!==null,r&&!i&&(e.mode&2)!==0&&(t===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||(mt.current&1)!==0?Wt===0&&(Wt=3):((Wt===0||Wt===3)&&(Wt=4),xi===null||(Xu&134217727)===0&&(Oo&134217727)===0||$a(xi,ri))),(r||i)&&(e.flags|=4),null);case 4:return no(),yv(e),t===null&&W1(e.stateNode.containerInfo),null;case 10:return C0(e),null;case 17:return Ui(e.type)&&Yd(),null;case 19:if(nt(mt),r=e.memoizedState,r===null)return null;if(s=(e.flags&64)!==0,a=r.rendering,a===null)if(s)ll(r,!1);else{if(Wt!==0||t!==null&&(t.flags&64)!==0)for(t=e.child;t!==null;){if(a=nf(t),a!==null){for(e.flags|=64,ll(r,!1),s=a.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),r.lastEffect===null&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=i,i=e.child;i!==null;)s=i,t=r,s.flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),i=i.sibling;return vt(mt,mt.current&1|2),e.child}t=t.sibling}r.tail!==null&&ni()>Sv&&(e.flags|=64,s=!0,ll(r,!1),e.lanes=33554432)}else{if(!s)if(t=nf(a),t!==null){if(e.flags|=64,s=!0,i=t.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),ll(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!Xn)return e=e.lastEffect=r.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*ni()-r.renderingStartTime>Sv&&i!==1073741824&&(e.flags|=64,s=!0,ll(r,!1),e.lanes=33554432);r.isBackwards?(a.sibling=e.child,e.child=a):(i=r.last,i!==null?i.sibling=a:e.child=a,r.last=a)}return r.tail!==null?(i=r.tail,r.rendering=i,r.tail=i.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=ni(),i.sibling=null,e=mt.current,vt(mt,s?e&1|2:e&1),i):null;case 23:case 24:return U0(),t!==null&&t.memoizedState!==null!=(e.memoizedState!==null)&&r.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(oe(156,e.tag))}function jR(t){switch(t.tag){case 1:Ui(t.type)&&Yd();var e=t.flags;return e&4096?(t.flags=e&-4097|64,t):null;case 3:if(no(),nt(Fi),nt(ai),O0(),e=t.flags,(e&64)!==0)throw Error(oe(285));return t.flags=e&-4097|64,t;case 5:return P0(t),null;case 13:return nt(mt),e=t.flags,e&4096?(t.flags=e&-4097|64,t):null;case 19:return nt(mt),null;case 4:return no(),null;case 10:return C0(t),null;case 23:case 24:return U0(),null;default:return null}}function L0(t,e){try{var i="",r=e;do i+=vM(r),r=r.return;while(r);var n=i}catch(s){n=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:n}}function _v(t,e){try{console.error(e.value)}catch(i){setTimeout(function(){throw i})}}var NR=typeof WeakMap=="function"?WeakMap:Map;function TE(t,e,i){i=Qr(-1,i),i.tag=3,i.payload={element:null};var r=e.value;return i.callback=function(){cf||(cf=!0,Ev=r),_v(t,e)},i}function xE(t,e,i){i=Qr(-1,i),i.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var n=e.value;i.payload=function(){return _v(t,e),r(n)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(i.callback=function(){typeof r!="function"&&(Hn===null?Hn=new Set([this]):Hn.add(this),_v(t,e));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),i}var FR=typeof WeakSet=="function"?WeakSet:Set;function DT(t){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(i){ts(t,i)}else e.current=null}function UR(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&t!==null){var i=t.memoizedProps,r=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?i:En(e.type,i),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&x0(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(oe(163))}function BR(t,e,i){switch(i.tag){case 0:case 11:case 15:case 22:if(e=i.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{if((t.tag&3)===3){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}if(e=i.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{var n=t;r=n.next,n=n.tag,(n&4)!==0&&(n&1)!==0&&(IE(i,t),KR(i,t)),t=r}while(t!==e)}return;case 1:t=i.stateNode,i.flags&4&&(e===null?t.componentDidMount():(r=i.elementType===i.type?e.memoizedProps:En(i.type,e.memoizedProps),t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),e=i.updateQueue,e!==null&&hT(i,e,t);return;case 3:if(e=i.updateQueue,e!==null){if(t=null,i.child!==null)switch(i.child.tag){case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}hT(i,e,t)}return;case 5:t=i.stateNode,e===null&&i.flags&4&&G1(i.type,i.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:i.memoizedState===null&&(i=i.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&C1(i))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(oe(163))}function MT(t,e){for(var i=t;;){if(i.tag===5){var r=i.stateNode;if(e)r=r.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{r=i.stateNode;var n=i.memoizedProps.style;n=n!=null&&n.hasOwnProperty("display")?n.display:null,r.style.display=m1("display",n)}}else if(i.tag===6)i.stateNode.nodeValue=e?"":i.memoizedProps;else if((i.tag!==23&&i.tag!==24||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function RT(t,e){if(Us&&typeof Us.onCommitFiberUnmount=="function")try{Us.onCommitFiberUnmount(w0,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var i=t=t.next;do{var r=i,n=r.destroy;if(r=r.tag,n!==void 0)if((r&4)!==0)IE(e,i);else{r=e;try{n()}catch(s){ts(r,s)}}i=i.next}while(i!==t)}break;case 1:if(DT(e),t=e.stateNode,typeof t.componentWillUnmount=="function")try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(s){ts(e,s)}break;case 5:DT(e);break;case 4:wE(t,e)}}function LT(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function jT(t){return t.tag===5||t.tag===3||t.tag===4}function NT(t){e:{for(var e=t.return;e!==null;){if(jT(e))break e;e=e.return}throw Error(oe(160))}var i=e;switch(e=i.stateNode,i.tag){case 5:var r=!1;break;case 3:e=e.containerInfo,r=!0;break;case 4:e=e.containerInfo,r=!0;break;default:throw Error(oe(161))}i.flags&16&&(lu(e,""),i.flags&=-17);e:t:for(i=t;;){for(;i.sibling===null;){if(i.return===null||jT(i.return)){i=null;break e}i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2)){i=i.stateNode;break e}}r?bv(t,i,e):Tv(t,i,e)}function bv(t,e,i){var r=t.tag,n=r===5||r===6;if(n)t=n?t.stateNode:t.stateNode.instance,e?i.nodeType===8?i.parentNode.insertBefore(t,e):i.insertBefore(t,e):(i.nodeType===8?(e=i.parentNode,e.insertBefore(t,i)):(e=i,e.appendChild(t)),i=i._reactRootContainer,i!=null||e.onclick!==null||(e.onclick=Kd));else if(r!==4&&(t=t.child,t!==null))for(bv(t,e,i),t=t.sibling;t!==null;)bv(t,e,i),t=t.sibling}function Tv(t,e,i){var r=t.tag,n=r===5||r===6;if(n)t=n?t.stateNode:t.stateNode.instance,e?i.insertBefore(t,e):i.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Tv(t,e,i),t=t.sibling;t!==null;)Tv(t,e,i),t=t.sibling}function wE(t,e){for(var i=e,r=!1,n,s;;){if(!r){r=i.return;e:for(;;){if(r===null)throw Error(oe(160));switch(n=r.stateNode,r.tag){case 5:s=!1;break e;case 3:n=n.containerInfo,s=!0;break e;case 4:n=n.containerInfo,s=!0;break e}r=r.return}r=!0}if(i.tag===5||i.tag===6){e:for(var a=t,o=i,l=o;;)if(RT(a,l),l.child!==null&&l.tag!==4)l.child.return=l,l=l.child;else{if(l===o)break e;for(;l.sibling===null;){if(l.return===null||l.return===o)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}s?(a=n,o=i.stateNode,a.nodeType===8?a.parentNode.removeChild(o):a.removeChild(o)):n.removeChild(i.stateNode)}else if(i.tag===4){if(i.child!==null){n=i.stateNode.containerInfo,s=!0,i.child.return=i,i=i.child;continue}}else if(RT(t,i),i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return;i=i.return,i.tag===4&&(r=!1)}i.sibling.return=i.return,i=i.sibling}}function Mp(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do(r.tag&3)===3&&(t=r.destroy,r.destroy=void 0,t!==void 0&&t()),r=r.next;while(r!==i)}return;case 1:return;case 5:if(i=e.stateNode,i!=null){r=e.memoizedProps;var n=t!==null?t.memoizedProps:r;t=e.type;var s=e.updateQueue;if(e.updateQueue=null,s!==null){for(i[Xd]=r,t==="input"&&r.type==="radio"&&r.name!=null&&d1(i,r),Zm(t,n),e=Zm(t,r),n=0;n<s.length;n+=2){var a=s[n],o=s[n+1];a==="style"?v1(i,o):a==="dangerouslySetInnerHTML"?p1(i,o):a==="children"?lu(i,o):t0(i,a,o,e)}switch(t){case"input":$m(i,r);break;case"textarea":f1(i,r);break;case"select":t=i._wrapperState.wasMultiple,i._wrapperState.wasMultiple=!!r.multiple,s=r.value,s!=null?Ba(i,!!r.multiple,s,!1):t!==!!r.multiple&&(r.defaultValue!=null?Ba(i,!!r.multiple,r.defaultValue,!0):Ba(i,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(oe(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:i=e.stateNode,i.hydrate&&(i.hydrate=!1,C1(i.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(F0=ni(),MT(e.child,!0)),FT(e);return;case 19:FT(e);return;case 17:return;case 23:case 24:MT(e,e.memoizedState!==null);return}throw Error(oe(163))}function FT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var i=t.stateNode;i===null&&(i=t.stateNode=new FR),e.forEach(function(r){var n=QR.bind(null,t,r);i.has(r)||(i.add(r),r.then(n,n))})}}function zR(t,e){return t!==null&&(t=t.memoizedState,t===null||t.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var VR=Math.ceil,uf=ta.ReactCurrentDispatcher,j0=ta.ReactCurrentOwner,Se=0,xi=null,Pt=null,ri=0,$s=0,xv=ps(0),Wt=0,ch=null,Po=0,Xu=0,Oo=0,N0=0,wv=null,F0=0,Sv=1/0;function Ao(){Sv=ni()+500}var ve=null,cf=!1,Ev=null,Hn=null,ls=!1,$l=null,kl=90,Cv=[],kv=[],vr=null,Gl=0,Pv=null,kd=-1,cr=0,Pd=0,Kl=null,Od=!1;function Zi(){return(Se&48)!==0?ni():kd!==-1?kd:kd=ni()}function Zr(t){if(t=t.mode,(t&2)===0)return 1;if((t&4)===0)return io()===99?1:2;if(cr===0&&(cr=Po),OR.transition!==0){Pd!==0&&(Pd=wv!==null?wv.pendingLanes:0),t=cr;var e=4186112&~Pd;return e&=-e,e===0&&(t=4186112&~t,e=t&-t,e===0&&(e=8192)),e}return t=io(),(Se&4)!==0&&t===98?t=$d(12,cr):(t=DM(t),t=$d(t,cr)),t}function es(t,e,i){if(50<Gl)throw Gl=0,Pv=null,Error(oe(185));if(t=dh(t,e),t===null)return null;nh(t,e,i),t===xi&&(Oo|=e,Wt===4&&$a(t,ri));var r=io();e===1?(Se&8)!==0&&(Se&48)===0?Ov(t):(gn(t,i),Se===0&&(Ao(),nr())):((Se&4)===0||r!==98&&r!==99||(vr===null?vr=new Set([t]):vr.add(t)),gn(t,i)),wv=t}function dh(t,e){t.lanes|=e;var i=t.alternate;for(i!==null&&(i.lanes|=e),i=t,t=t.return;t!==null;)t.childLanes|=e,i=t.alternate,i!==null&&(i.childLanes|=e),i=t,t=t.return;return i.tag===3?i.stateNode:null}function gn(t,e){for(var i=t.callbackNode,r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-as(a),l=1<<o,u=s[o];if(u===-1){if((l&r)===0||(l&n)!==0){u=e,Ca(l);var c=Ye;s[o]=10<=c?u+250:6<=c?u+5e3:-1}}else u<=e&&(t.expiredLanes|=l);a&=~l}if(r=fu(t,t===xi?ri:0),e=Ye,r===0)i!==null&&(i!==Pp&&cv(i),t.callbackNode=null,t.callbackPriority=0);else{if(i!==null){if(t.callbackPriority===e)return;i!==Pp&&cv(i)}e===15?(i=Ov.bind(null,t),ur===null?(ur=[i],Cd=S0(lh,tE)):ur.push(i),i=Pp):e===14?i=vu(99,Ov.bind(null,t)):(i=MM(e),i=vu(i,SE.bind(null,t))),t.callbackPriority=e,t.callbackNode=i}}function SE(t){if(kd=-1,Pd=cr=0,(Se&48)!==0)throw Error(oe(327));var e=t.callbackNode;if(ms()&&t.callbackNode!==e)return null;var i=fu(t,t===xi?ri:0);if(i===0)return null;var r=i,n=Se;Se|=16;var s=PE();(xi!==t||ri!==r)&&(Ao(),Ga(t,r));do try{qR();break}catch(o){kE(t,o)}while(1);if(E0(),uf.current=s,Se=n,Pt!==null?r=0:(xi=null,ri=0,r=Wt),(Po&Oo)!==0)Ga(t,0);else if(r!==0){if(r===2&&(Se|=64,t.hydrate&&(t.hydrate=!1,x0(t.containerInfo)),i=M1(t),i!==0&&(r=Pl(t,i))),r===1)throw e=ch,Ga(t,0),$a(t,i),gn(t,ni()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=i,r){case 0:case 1:throw Error(oe(345));case 2:Cs(t);break;case 3:if($a(t,i),(i&62914560)===i&&(r=F0+500-ni(),10<r)){if(fu(t,0)!==0)break;if(n=t.suspendedLanes,(n&i)!==i){Zi(),t.pingedLanes|=t.suspendedLanes&n;break}t.timeoutHandle=sT(Cs.bind(null,t),r);break}Cs(t);break;case 4:if($a(t,i),(i&4186112)===i)break;for(r=t.eventTimes,n=-1;0<i;){var a=31-as(i);s=1<<a,a=r[a],a>n&&(n=a),i&=~s}if(i=n,i=ni()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*VR(i/1960))-i,10<i){t.timeoutHandle=sT(Cs.bind(null,t),i);break}Cs(t);break;case 5:Cs(t);break;default:throw Error(oe(329))}}return gn(t,ni()),t.callbackNode===e?SE.bind(null,t):null}function $a(t,e){for(e&=~N0,e&=~Oo,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var i=31-as(e),r=1<<i;t[i]=-1,e&=~r}}function Ov(t){if((Se&48)!==0)throw Error(oe(327));if(ms(),t===xi&&(t.expiredLanes&ri)!==0){var e=ri,i=Pl(t,e);(Po&Oo)!==0&&(e=fu(t,e),i=Pl(t,e))}else e=fu(t,0),i=Pl(t,e);if(t.tag!==0&&i===2&&(Se|=64,t.hydrate&&(t.hydrate=!1,x0(t.containerInfo)),e=M1(t),e!==0&&(i=Pl(t,e))),i===1)throw i=ch,Ga(t,0),$a(t,e),gn(t,ni()),i;return t.finishedWork=t.current.alternate,t.finishedLanes=e,Cs(t),gn(t,ni()),null}function HR(){if(vr!==null){var t=vr;vr=null,t.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,gn(e,ni())})}nr()}function EE(t,e){var i=Se;Se|=1;try{return t(e)}finally{Se=i,Se===0&&(Ao(),nr())}}function CE(t,e){var i=Se;Se&=-2,Se|=8;try{return t(e)}finally{Se=i,Se===0&&(Ao(),nr())}}function ed(t,e){vt(xv,$s),$s|=e,Po|=e}function U0(){$s=xv.current,nt(xv)}function Ga(t,e){t.finishedWork=null,t.finishedLanes=0;var i=t.timeoutHandle;if(i!==-1&&(t.timeoutHandle=-1,wR(i)),Pt!==null)for(i=Pt.return;i!==null;){var r=i;switch(r.tag){case 1:r=r.type.childContextTypes,r!=null&&Yd();break;case 3:no(),nt(Fi),nt(ai),O0();break;case 5:P0(r);break;case 4:no();break;case 13:nt(mt);break;case 19:nt(mt);break;case 10:C0(r);break;case 23:case 24:U0()}i=i.return}xi=t,Pt=us(t.current,null),ri=$s=Po=e,Wt=0,ch=null,N0=Oo=Xu=0}function kE(t,e){do{var i=Pt;try{if(E0(),Wl.current=lf,rf){for(var r=St.memoizedState;r!==null;){var n=r.queue;n!==null&&(n.pending=null),r=r.next}rf=!1}if(bu=0,Ht=ti=St=null,ql=!1,j0.current=null,i===null||i.return===null){Wt=1,ch=e,Pt=null;break}e:{var s=t,a=i.return,o=i,l=e;if(e=ri,o.flags|=2048,o.firstEffect=o.lastEffect=null,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l;if((o.mode&2)===0){var c=o.alternate;c?(o.updateQueue=c.updateQueue,o.memoizedState=c.memoizedState,o.lanes=c.lanes):(o.updateQueue=null,o.memoizedState=null)}var f=(mt.current&1)!==0,d=a;do{var p;if(p=d.tag===13){var g=d.memoizedState;if(g!==null)p=g.dehydrated!==null;else{var b=d.memoizedProps;p=b.fallback===void 0?!1:b.unstable_avoidThisFallback!==!0?!0:!f}}if(p){var y=d.updateQueue;if(y===null){var T=new Set;T.add(u),d.updateQueue=T}else y.add(u);if((d.mode&2)===0){if(d.flags|=64,o.flags|=16384,o.flags&=-2981,o.tag===1)if(o.alternate===null)o.tag=17;else{var S=Qr(-1,1);S.tag=2,Jr(o,S)}o.lanes|=1;break e}l=void 0,o=e;var I=s.pingCache;if(I===null?(I=s.pingCache=new NR,l=new Set,I.set(u,l)):(l=I.get(u),l===void 0&&(l=new Set,I.set(u,l))),!l.has(o)){l.add(o);var O=YR.bind(null,s,u,o);u.then(O,O)}d.flags|=4096,d.lanes=e;break e}d=d.return}while(d!==null);l=Error((Ua(o.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Wt!==5&&(Wt=2),l=L0(l,o),d=a;do{switch(d.tag){case 3:s=l,d.flags|=4096,e&=-e,d.lanes|=e;var M=TE(d,s,e);fT(d,M);break e;case 1:s=l;var R=d.type,A=d.stateNode;if((d.flags&64)===0&&(typeof R.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Hn===null||!Hn.has(A)))){d.flags|=4096,e&=-e,d.lanes|=e;var E=xE(d,s,e);fT(d,E);break e}}d=d.return}while(d!==null)}AE(i)}catch(C){e=C,Pt===i&&i!==null&&(Pt=i=i.return);continue}break}while(1)}function PE(){var t=uf.current;return uf.current=lf,t===null?lf:t}function Pl(t,e){var i=Se;Se|=16;var r=PE();xi===t&&ri===e||Ga(t,e);do try{WR();break}catch(n){kE(t,n)}while(1);if(E0(),Se=i,uf.current=r,Pt!==null)throw Error(oe(261));return xi=null,ri=0,Wt}function WR(){for(;Pt!==null;)OE(Pt)}function qR(){for(;Pt!==null&&!CR();)OE(Pt)}function OE(t){var e=DE(t.alternate,t,$s);t.memoizedProps=t.pendingProps,e===null?AE(t):Pt=e,j0.current=null}function AE(t){var e=t;do{var i=e.alternate;if(t=e.return,(e.flags&2048)===0){if(i=LR(i,e,$s),i!==null){Pt=i;return}if(i=e,i.tag!==24&&i.tag!==23||i.memoizedState===null||($s&1073741824)!==0||(i.mode&4)===0){for(var r=0,n=i.child;n!==null;)r|=n.lanes|n.childLanes,n=n.sibling;i.childLanes=r}t!==null&&(t.flags&2048)===0&&(t.firstEffect===null&&(t.firstEffect=e.firstEffect),e.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(t.lastEffect!==null?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}else{if(i=jR(e),i!==null){i.flags&=2047,Pt=i;return}t!==null&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(e=e.sibling,e!==null){Pt=e;return}Pt=e=t}while(e!==null);Wt===0&&(Wt=5)}function Cs(t){var e=io();return qs(99,$R.bind(null,t,e)),null}function $R(t,e){do ms();while($l!==null);if((Se&48)!==0)throw Error(oe(327));var i=t.finishedWork;if(i===null)return null;if(t.finishedWork=null,t.finishedLanes=0,i===t.current)throw Error(oe(177));t.callbackNode=null;var r=i.lanes|i.childLanes,n=r,s=t.pendingLanes&~n;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=n,t.mutableReadLanes&=n,t.entangledLanes&=n,n=t.entanglements;for(var a=t.eventTimes,o=t.expirationTimes;0<s;){var l=31-as(s),u=1<<l;n[l]=0,a[l]=-1,o[l]=-1,s&=~u}if(vr!==null&&(r&24)===0&&vr.has(t)&&vr.delete(t),t===xi&&(Pt=xi=null,ri=0),1<i.flags?i.lastEffect!==null?(i.lastEffect.nextEffect=i,r=i.firstEffect):r=i:r=i.firstEffect,r!==null){if(n=Se,Se|=32,j0.current=null,Ep=xd,a=Jb(),sv(a)){if("selectionStart"in a)o={start:a.selectionStart,end:a.selectionEnd};else e:if(o=(o=a.ownerDocument)&&o.defaultView||window,(u=o.getSelection&&o.getSelection())&&u.rangeCount!==0){o=u.anchorNode,s=u.anchorOffset,l=u.focusNode,u=u.focusOffset;try{o.nodeType,l.nodeType}catch{o=null;break e}var c=0,f=-1,d=-1,p=0,g=0,b=a,y=null;t:for(;;){for(var T;b!==o||s!==0&&b.nodeType!==3||(f=c+s),b!==l||u!==0&&b.nodeType!==3||(d=c+u),b.nodeType===3&&(c+=b.nodeValue.length),(T=b.firstChild)!==null;)y=b,b=T;for(;;){if(b===a)break t;if(y===o&&++p===s&&(f=c),y===l&&++g===u&&(d=c),(T=b.nextSibling)!==null)break;b=y,y=b.parentNode}b=T}o=f===-1||d===-1?null:{start:f,end:d}}else o=null;o=o||{start:0,end:0}}else o=null;Cp={focusedElem:a,selectionRange:o},xd=!1,Kl=null,Od=!1,ve=r;do try{GR()}catch(C){if(ve===null)throw Error(oe(330));ts(ve,C),ve=ve.nextEffect}while(ve!==null);Kl=null,ve=r;do try{for(a=t;ve!==null;){var S=ve.flags;if(S&16&&lu(ve.stateNode,""),S&128){var I=ve.alternate;if(I!==null){var O=I.ref;O!==null&&(typeof O=="function"?O(null):O.current=null)}}switch(S&1038){case 2:NT(ve),ve.flags&=-3;break;case 6:NT(ve),ve.flags&=-3,Mp(ve.alternate,ve);break;case 1024:ve.flags&=-1025;break;case 1028:ve.flags&=-1025,Mp(ve.alternate,ve);break;case 4:Mp(ve.alternate,ve);break;case 8:o=ve,wE(a,o);var M=o.alternate;LT(o),M!==null&&LT(M)}ve=ve.nextEffect}}catch(C){if(ve===null)throw Error(oe(330));ts(ve,C),ve=ve.nextEffect}while(ve!==null);if(O=Cp,I=Jb(),S=O.focusedElem,a=O.selectionRange,I!==S&&S&&S.ownerDocument&&z1(S.ownerDocument.documentElement,S)){for(a!==null&&sv(S)&&(I=a.start,O=a.end,O===void 0&&(O=I),"selectionStart"in S?(S.selectionStart=I,S.selectionEnd=Math.min(O,S.value.length)):(O=(I=S.ownerDocument||document)&&I.defaultView||window,O.getSelection&&(O=O.getSelection(),o=S.textContent.length,M=Math.min(a.start,o),a=a.end===void 0?M:Math.min(a.end,o),!O.extend&&M>a&&(o=a,a=M,M=o),o=Qb(S,M),s=Qb(S,a),o&&s&&(O.rangeCount!==1||O.anchorNode!==o.node||O.anchorOffset!==o.offset||O.focusNode!==s.node||O.focusOffset!==s.offset)&&(I=I.createRange(),I.setStart(o.node,o.offset),O.removeAllRanges(),M>a?(O.addRange(I),O.extend(s.node,s.offset)):(I.setEnd(s.node,s.offset),O.addRange(I)))))),I=[],O=S;O=O.parentNode;)O.nodeType===1&&I.push({element:O,left:O.scrollLeft,top:O.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<I.length;S++)O=I[S],O.element.scrollLeft=O.left,O.element.scrollTop=O.top}xd=!!Ep,Cp=Ep=null,t.current=i,ve=r;do try{for(S=t;ve!==null;){var R=ve.flags;if(R&36&&BR(S,ve.alternate,ve),R&128){I=void 0;var A=ve.ref;if(A!==null){var E=ve.stateNode;switch(ve.tag){case 5:I=E;break;default:I=E}typeof A=="function"?A(I):A.current=I}}ve=ve.nextEffect}}catch(C){if(ve===null)throw Error(oe(330));ts(ve,C),ve=ve.nextEffect}while(ve!==null);ve=null,PR(),Se=n}else t.current=i;if(ls)ls=!1,$l=t,kl=e;else for(ve=r;ve!==null;)e=ve.nextEffect,ve.nextEffect=null,ve.flags&8&&(R=ve,R.sibling=null,R.stateNode=null),ve=e;if(r=t.pendingLanes,r===0&&(Hn=null),r===1?t===Pv?Gl++:(Gl=0,Pv=t):Gl=0,i=i.stateNode,Us&&typeof Us.onCommitFiberRoot=="function")try{Us.onCommitFiberRoot(w0,i,void 0,(i.current.flags&64)===64)}catch{}if(gn(t,ni()),cf)throw cf=!1,t=Ev,Ev=null,t;return(Se&8)!==0||nr(),null}function GR(){for(;ve!==null;){var t=ve.alternate;Od||Kl===null||((ve.flags&8)!==0?Nb(ve,Kl)&&(Od=!0):ve.tag===13&&zR(t,ve)&&Nb(ve,Kl)&&(Od=!0));var e=ve.flags;(e&256)!==0&&UR(t,ve),(e&512)===0||ls||(ls=!0,vu(97,function(){return ms(),null})),ve=ve.nextEffect}}function ms(){if(kl!==90){var t=97<kl?97:kl;return kl=90,qs(t,XR)}return!1}function KR(t,e){Cv.push(e,t),ls||(ls=!0,vu(97,function(){return ms(),null}))}function IE(t,e){kv.push(e,t),ls||(ls=!0,vu(97,function(){return ms(),null}))}function XR(){if($l===null)return!1;var t=$l;if($l=null,(Se&48)!==0)throw Error(oe(331));var e=Se;Se|=32;var i=kv;kv=[];for(var r=0;r<i.length;r+=2){var n=i[r],s=i[r+1],a=n.destroy;if(n.destroy=void 0,typeof a=="function")try{a()}catch(l){if(s===null)throw Error(oe(330));ts(s,l)}}for(i=Cv,Cv=[],r=0;r<i.length;r+=2){n=i[r],s=i[r+1];try{var o=n.create;n.destroy=o()}catch(l){if(s===null)throw Error(oe(330));ts(s,l)}}for(o=t.current.firstEffect;o!==null;)t=o.nextEffect,o.nextEffect=null,o.flags&8&&(o.sibling=null,o.stateNode=null),o=t;return Se=e,nr(),!0}function UT(t,e,i){e=L0(i,e),e=TE(t,e,1),Jr(t,e),e=Zi(),t=dh(t,1),t!==null&&(nh(t,1,e),gn(t,e))}function ts(t,e){if(t.tag===3)UT(t,t,e);else for(var i=t.return;i!==null;){if(i.tag===3){UT(i,t,e);break}else if(i.tag===1){var r=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Hn===null||!Hn.has(r))){t=L0(e,t);var n=xE(i,t,1);if(Jr(i,n),n=Zi(),i=dh(i,1),i!==null)nh(i,1,n),gn(i,n);else if(typeof r.componentDidCatch=="function"&&(Hn===null||!Hn.has(r)))try{r.componentDidCatch(e,t)}catch{}break}}i=i.return}}function YR(t,e,i){var r=t.pingCache;r!==null&&r.delete(e),e=Zi(),t.pingedLanes|=t.suspendedLanes&i,xi===t&&(ri&i)===i&&(Wt===4||Wt===3&&(ri&62914560)===ri&&500>ni()-F0?Ga(t,0):N0|=i),gn(t,e)}function QR(t,e){var i=t.stateNode;i!==null&&i.delete(e),e=0,e===0&&(e=t.mode,(e&2)===0?e=1:(e&4)===0?e=io()===99?1:2:(cr===0&&(cr=Po),e=ka(62914560&~cr),e===0&&(e=4194304))),i=Zi(),t=dh(t,e),t!==null&&(nh(t,e,i),gn(t,i))}var DE;DE=function(t,e,i){var r=e.lanes;if(t!==null)if(t.memoizedProps!==e.pendingProps||Fi.current)Pn=!0;else if((i&r)!==0)Pn=(t.flags&16384)!==0;else{switch(Pn=!1,e.tag){case 3:ET(e),Ap();break;case 5:vT(e);break;case 1:Ui(e.type)&&Ed(e);break;case 4:hv(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var n=e.type._context;vt(Qd,n._currentValue),n._currentValue=r;break;case 13:if(e.memoizedState!==null)return(i&e.child.childLanes)!==0?CT(t,e,i):(vt(mt,mt.current&1),e=pr(t,e,i),e!==null?e.sibling:null);vt(mt,mt.current&1);break;case 19:if(r=(i&e.childLanes)!==0,(t.flags&64)!==0){if(r)return IT(t,e,i);e.flags|=64}if(n=e.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),vt(mt,mt.current),r)break;return null;case 23:case 24:return e.lanes=0,Ip(t,e,i)}return pr(t,e,i)}else Pn=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,n=to(e,ai.current),Wa(e,i),n=I0(null,e,r,t,n,i),e.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ui(r)){var s=!0;Ed(e)}else s=!1;e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,k0(e);var a=r.getDerivedStateFromProps;typeof a=="function"&&ef(e,r,a,t),n.updater=uh,e.stateNode=n,n._reactInternals=e,fv(e,r,t,i),e=gv(null,e,r,!0,s,i)}else e.tag=0,Ii(null,e,n,i),e=e.child;return e;case 16:n=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=ZR(n),t=En(n,t),s){case 0:e=vv(null,e,n,t,i);break e;case 1:e=ST(null,e,n,t,i);break e;case 11:e=xT(null,e,n,t,i);break e;case 14:e=wT(null,e,n,En(n.type,t),r,i);break e}throw Error(oe(306,n,""))}return e;case 0:return r=e.type,n=e.pendingProps,n=e.elementType===r?n:En(r,n),vv(t,e,r,n,i);case 1:return r=e.type,n=e.pendingProps,n=e.elementType===r?n:En(r,n),ST(t,e,r,n,i);case 3:if(ET(e),r=e.updateQueue,t===null||r===null)throw Error(oe(282));if(r=e.pendingProps,n=e.memoizedState,n=n!==null?n.element:null,nE(t,e),gu(e,r,null,i),r=e.memoizedState.element,r===n)Ap(),e=pr(t,e,i);else{if(n=e.stateNode,(s=n.hydrate)&&(Hr=Ha(e.stateNode.containerInfo.firstChild),hr=e,s=Xn=!0),s){if(t=n.mutableSourceEagerHydrationData,t!=null)for(n=0;n<t.length;n+=2)s=t[n],s._workInProgressVersionPrimary=t[n+1],qa.push(s);for(i=oE(e,null,r,i),e.child=i;i;)i.flags=i.flags&-3|1024,i=i.sibling}else Ii(t,e,r,i),Ap();e=e.child}return e;case 5:return vT(e),t===null&&pv(e),r=e.type,n=e.pendingProps,s=t!==null?t.memoizedProps:null,a=n.children,lv(r,n)?a=null:s!==null&&lv(r,s)&&(e.flags|=16),gE(t,e),Ii(t,e,a,i),e.child;case 6:return t===null&&pv(e),null;case 13:return CT(t,e,i);case 4:return hv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=tf(e,null,r,i):Ii(t,e,r,i),e.child;case 11:return r=e.type,n=e.pendingProps,n=e.elementType===r?n:En(r,n),xT(t,e,r,n,i);case 7:return Ii(t,e,e.pendingProps,i),e.child;case 8:return Ii(t,e,e.pendingProps.children,i),e.child;case 12:return Ii(t,e,e.pendingProps.children,i),e.child;case 10:e:{r=e.type._context,n=e.pendingProps,a=e.memoizedProps,s=n.value;var o=e.type._context;if(vt(Qd,o._currentValue),o._currentValue=s,a!==null)if(o=a.value,s=un(o,s)?0:(typeof r._calculateChangedBits=="function"?r._calculateChangedBits(o,s):1073741823)|0,s===0){if(a.children===n.children&&!Fi.current){e=pr(t,e,i);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var l=o.dependencies;if(l!==null){a=o.child;for(var u=l.firstContext;u!==null;){if(u.context===r&&(u.observedBits&s)!==0){o.tag===1&&(u=Qr(-1,i&-i),u.tag=2,Jr(o,u)),o.lanes|=i,u=o.alternate,u!==null&&(u.lanes|=i),iE(o.return,i),l.lanes|=i;break}u=u.next}}else a=o.tag===10&&o.type===e.type?null:o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Ii(t,e,n.children,i),e=e.child}return e;case 9:return n=e.type,s=e.pendingProps,r=s.children,Wa(e,i),n=vn(n,s.unstable_observedBits),r=r(n),e.flags|=1,Ii(t,e,r,i),e.child;case 14:return n=e.type,s=En(n,e.pendingProps),s=En(n.type,s),wT(t,e,n,s,r,i);case 15:return vE(t,e,e.type,e.pendingProps,r,i);case 17:return r=e.type,n=e.pendingProps,n=e.elementType===r?n:En(r,n),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,Ui(r)?(t=!0,Ed(e)):t=!1,Wa(e,i),sE(e,r,n),fv(e,r,n,i),gv(null,e,r,!0,t,i);case 19:return IT(t,e,i);case 23:return Ip(t,e,i);case 24:return Ip(t,e,i)}throw Error(oe(156,e.tag))};function JR(t,e,i,r){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(t,e,i,r){return new JR(t,e,i,r)}function B0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ZR(t){if(typeof t=="function")return B0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===eh)return 11;if(t===th)return 14}return 2}function us(t,e){var i=t.alternate;return i===null?(i=cn(t.tag,e,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null),i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i}function Ad(t,e,i,r,n,s){var a=2;if(r=t,typeof t=="function")B0(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Ur:return Ka(i.children,n,s,e);case l1:a=8,n|=16;break;case i0:a=8,n|=1;break;case Nl:return t=cn(12,i,e,n|8),t.elementType=Nl,t.type=Nl,t.lanes=s,t;case Fl:return t=cn(13,i,e,n),t.type=Fl,t.elementType=Fl,t.lanes=s,t;case Vd:return t=cn(19,i,e,n),t.elementType=Vd,t.lanes=s,t;case l0:return z0(i,n,s,e);case Wm:return t=cn(24,i,e,n),t.elementType=Wm,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case n0:a=10;break e;case r0:a=9;break e;case eh:a=11;break e;case th:a=14;break e;case s0:a=16,r=null;break e;case a0:a=22;break e}throw Error(oe(130,t==null?t:typeof t,""))}return e=cn(a,i,e,n),e.elementType=t,e.type=r,e.lanes=s,e}function Ka(t,e,i,r){return t=cn(7,t,r,e),t.lanes=i,t}function z0(t,e,i,r){return t=cn(23,t,r,e),t.elementType=l0,t.lanes=i,t}function Rp(t,e,i){return t=cn(6,t,null,e),t.lanes=i,t}function Lp(t,e,i){return e=cn(4,t.children!==null?t.children:[],t.key,e),e.lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function eL(t,e,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=i,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=yp(0),this.expirationTimes=yp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yp(0),this.mutableSourceEagerHydrationData=null}function tL(t,e,i){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Is,key:r==null?null:""+r,children:t,containerInfo:e,implementation:i}}function df(t,e,i,r){var n=e.current,s=Zi(),a=Zr(n);e:if(i){i=i._reactInternals;t:{if(ia(i)!==i||i.tag!==1)throw Error(oe(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break t;case 1:if(Ui(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break t}}o=o.return}while(o!==null);throw Error(oe(171))}if(i.tag===1){var l=i.type;if(Ui(l)){i=X1(i,l,o);break e}}i=o}else i=os;return e.context===null?e.context=i:e.pendingContext=i,e=Qr(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),Jr(n,e),es(n,a,s),a}function jp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function BT(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<e?i:e}}function V0(t,e){BT(t,e),(t=t.alternate)&&BT(t,e)}function iL(){return null}function H0(t,e,i){var r=i!=null&&i.hydrationOptions!=null&&i.hydrationOptions.mutableSources||null;if(i=new eL(t,e,i!=null&&i.hydrate===!0),e=cn(3,null,null,e===2?7:e===1?3:0),i.current=e,e.stateNode=i,k0(e),t[ko]=i.current,W1(t.nodeType===8?t.parentNode:t),r)for(t=0;t<r.length;t++){e=r[t];var n=e._getVersion;n=n(e._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[e,n]:i.mutableSourceEagerHydrationData.push(e,n)}this._internalRoot=i}H0.prototype.render=function(t){df(t,this._internalRoot,null,null)};H0.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;df(null,t,null,function(){e[ko]=null})};function Yu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function nL(t,e){if(e||(e=t?t.nodeType===9?t.documentElement:t.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var i;i=t.lastChild;)t.removeChild(i);return new H0(t,0,e?{hydrate:!0}:void 0)}function fh(t,e,i,r,n){var s=i._reactRootContainer;if(s){var a=s._internalRoot;if(typeof n=="function"){var o=n;n=function(){var u=jp(a);o.call(u)}}df(e,a,t,n)}else{if(s=i._reactRootContainer=nL(i,r),a=s._internalRoot,typeof n=="function"){var l=n;n=function(){var u=jp(a);l.call(u)}}CE(function(){df(e,a,t,n)})}return jp(a)}w1=function(t){if(t.tag===13){var e=Zi();es(t,4,e),V0(t,4)}};h0=function(t){if(t.tag===13){var e=Zi();es(t,67108864,e),V0(t,67108864)}};S1=function(t){if(t.tag===13){var e=Zi(),i=Zr(t);es(t,i,e),V0(t,i)}};E1=function(t,e){return e()};ev=function(t,e,i){switch(e){case"input":if($m(t,i),e=i.name,i.type==="radio"&&e!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<i.length;e++){var r=i[e];if(r!==t&&r.form===t.form){var n=oh(r);if(!n)throw Error(oe(90));c1(r),$m(r,n)}}}break;case"textarea":f1(t,i);break;case"select":e=i.value,e!=null&&Ba(t,!!i.multiple,e,!1)}};c0=EE;_1=function(t,e,i,r,n){var s=Se;Se|=4;try{return qs(98,t.bind(null,e,i,r,n))}finally{Se=s,Se===0&&(Ao(),nr())}};d0=function(){(Se&49)===0&&(HR(),ms())};b1=function(t,e){var i=Se;Se|=2;try{return t(e)}finally{Se=i,Se===0&&(Ao(),nr())}};function ME(t,e){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yu(e))throw Error(oe(200));return tL(t,e,null,i)}var rL={Events:[Gu,Da,oh,g1,y1,ms,{current:!1}]},ul={findFiberByHostInstance:Ms,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},sL={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ta.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=x1(t),t===null?null:t.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||iL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var td=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!td.isDisabled&&td.supportsFiber)try{w0=td.inject(sL),Us=td}catch{}}_n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rL;_n.createPortal=ME;_n.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(oe(188)):Error(oe(268,Object.keys(t)));return t=x1(e),t=t===null?null:t.stateNode,t};_n.flushSync=function(t,e){var i=Se;if((i&48)!==0)return t(e);Se|=1;try{if(t)return qs(99,t.bind(null,e))}finally{Se=i,nr()}};_n.hydrate=function(t,e,i){if(!Yu(e))throw Error(oe(200));return fh(null,t,e,!0,i)};_n.render=function(t,e,i){if(!Yu(e))throw Error(oe(200));return fh(null,t,e,!1,i)};_n.unmountComponentAtNode=function(t){if(!Yu(t))throw Error(oe(40));return t._reactRootContainer?(CE(function(){fh(null,null,t,!1,function(){t._reactRootContainer=null,t[ko]=null})}),!0):!1};_n.unstable_batchedUpdates=EE;_n.unstable_createPortal=function(t,e){return ME(t,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};_n.unstable_renderSubtreeIntoContainer=function(t,e,i,r){if(!Yu(i))throw Error(oe(200));if(t==null||t._reactInternals===void 0)throw Error(oe(38));return fh(t,e,i,!1,r)};_n.version="17.0.2";function RE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(RE)}catch(t){console.error(t)}}RE(),Jg.exports=_n;var aL=Jg.exports;const oL="Pe4MY",lL="gHCqT",uL="-g0Vf",cL="x3ObV";var Av={root:oL,projects:lL,link:uL,fadein:cL};/**
 * @remix-run/router v1.3.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tu(){return Tu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},Tu.apply(this,arguments)}var Wr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Wr||(Wr={}));const zT="popstate";function dL(t){t===void 0&&(t={});function e(n,s){let{pathname:a="/",search:o="",hash:l=""}=ra(n.location.hash.substr(1));return Iv("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function i(n,s){let a=n.document.querySelector("base"),o="";if(a&&a.getAttribute("href")){let l=n.location.href,u=l.indexOf("#");o=u===-1?l:l.slice(0,u)}return o+"#"+(typeof s=="string"?s:ff(s))}function r(n,s){fL(n.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(s)+")")}return pL(e,i,r,t)}function It(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function fL(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hL(){return Math.random().toString(36).substr(2,8)}function VT(t,e){return{usr:t.state,key:t.key,idx:e}}function Iv(t,e,i,r){return i===void 0&&(i=null),Tu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ra(e):e,{state:i,key:e&&e.key||r||hL()})}function ff(t){let{pathname:e="/",search:i="",hash:r=""}=t;return i&&i!=="?"&&(e+=i.charAt(0)==="?"?i:"?"+i),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ra(t){let e={};if(t){let i=t.indexOf("#");i>=0&&(e.hash=t.substr(i),t=t.substr(0,i));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function pL(t,e,i,r){r===void 0&&(r={});let{window:n=document.defaultView,v5Compat:s=!1}=r,a=n.history,o=Wr.Pop,l=null,u=c();u==null&&(u=0,a.replaceState(Tu({},a.state,{idx:u}),""));function c(){return(a.state||{idx:null}).idx}function f(){o=Wr.Pop;let y=c(),T=y==null?null:y-u;u=y,l&&l({action:o,location:b.location,delta:T})}function d(y,T){o=Wr.Push;let S=Iv(b.location,y,T);i&&i(S,y),u=c()+1;let I=VT(S,u),O=b.createHref(S);try{a.pushState(I,"",O)}catch{n.location.assign(O)}s&&l&&l({action:o,location:b.location,delta:1})}function p(y,T){o=Wr.Replace;let S=Iv(b.location,y,T);i&&i(S,y),u=c();let I=VT(S,u),O=b.createHref(S);a.replaceState(I,"",O),s&&l&&l({action:o,location:b.location,delta:0})}function g(y){let T=n.location.origin!=="null"?n.location.origin:n.location.href,S=typeof y=="string"?y:ff(y);return It(T,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,T)}let b={get action(){return o},get location(){return t(n,a)},listen(y){if(l)throw new Error("A history only accepts one active listener");return n.addEventListener(zT,f),l=y,()=>{n.removeEventListener(zT,f),l=null}},createHref(y){return e(n,y)},createURL:g,encodeLocation(y){let T=g(y);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:d,replace:p,go(y){return a.go(y)}};return b}var HT;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(HT||(HT={}));function mL(t,e,i){i===void 0&&(i="/");let r=typeof e=="string"?ra(e):e,n=NE(r.pathname||"/",i);if(n==null)return null;let s=LE(t);vL(s);let a=null;for(let o=0;a==null&&o<s.length;++o)a=EL(s[o],PL(n));return a}function LE(t,e,i,r){e===void 0&&(e=[]),i===void 0&&(i=[]),r===void 0&&(r="");let n=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(It(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=is([r,l.relativePath]),c=i.concat(l);s.children&&s.children.length>0&&(It(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),LE(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:wL(u,s.index),routesMeta:c})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))n(s,a);else for(let l of jE(s.path))n(s,a,l)}),e}function jE(t){let e=t.split("/");if(e.length===0)return[];let[i,...r]=e,n=i.endsWith("?"),s=i.replace(/\?$/,"");if(r.length===0)return n?[s,""]:[s];let a=jE(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),n&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function vL(t){t.sort((e,i)=>e.score!==i.score?i.score-e.score:SL(e.routesMeta.map(r=>r.childrenIndex),i.routesMeta.map(r=>r.childrenIndex)))}const gL=/^:\w+$/,yL=3,_L=2,bL=1,TL=10,xL=-2,WT=t=>t==="*";function wL(t,e){let i=t.split("/"),r=i.length;return i.some(WT)&&(r+=xL),e&&(r+=_L),i.filter(n=>!WT(n)).reduce((n,s)=>n+(gL.test(s)?yL:s===""?bL:TL),r)}function SL(t,e){return t.length===e.length&&t.slice(0,-1).every((r,n)=>r===e[n])?t[t.length-1]-e[e.length-1]:0}function EL(t,e){let{routesMeta:i}=t,r={},n="/",s=[];for(let a=0;a<i.length;++a){let o=i[a],l=a===i.length-1,u=n==="/"?e:e.slice(n.length)||"/",c=CL({path:o.relativePath,caseSensitive:o.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let f=o.route;s.push({params:r,pathname:is([n,c.pathname]),pathnameBase:DL(is([n,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(n=is([n,c.pathnameBase]))}return s}function CL(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[i,r]=kL(t.path,t.caseSensitive,t.end),n=e.match(i);if(!n)return null;let s=n[0],a=s.replace(/(.)\/+$/,"$1"),o=n.slice(1);return{params:r.reduce((u,c,f)=>{if(c==="*"){let d=o[f]||"";a=s.slice(0,s.length-d.length).replace(/(.)\/+$/,"$1")}return u[c]=OL(o[f]||"",c),u},{}),pathname:s,pathnameBase:a,pattern:t}}function kL(t,e,i){e===void 0&&(e=!1),i===void 0&&(i=!0),W0(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],n="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(a,o)=>(r.push(o),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),n+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?n+="\\/*$":t!==""&&t!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,e?void 0:"i"),r]}function PL(t){try{return decodeURI(t)}catch(e){return W0(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function OL(t,e){try{return decodeURIComponent(t)}catch(i){return W0(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+i+").")),t}}function NE(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,r=t.charAt(i);return r&&r!=="/"?null:t.slice(i)||"/"}function W0(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function AL(t,e){e===void 0&&(e="/");let{pathname:i,search:r="",hash:n=""}=typeof t=="string"?ra(t):t;return{pathname:i?i.startsWith("/")?i:IL(i,e):e,search:ML(r),hash:RL(n)}}function IL(t,e){let i=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(n=>{n===".."?i.length>1&&i.pop():n!=="."&&i.push(n)}),i.length>1?i.join("/"):"/"}function Np(t,e,i,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+i+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function FE(t){return t.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function UE(t,e,i,r){r===void 0&&(r=!1);let n;typeof t=="string"?n=ra(t):(n=Tu({},t),It(!n.pathname||!n.pathname.includes("?"),Np("?","pathname","search",n)),It(!n.pathname||!n.pathname.includes("#"),Np("#","pathname","hash",n)),It(!n.search||!n.search.includes("#"),Np("#","search","hash",n)));let s=t===""||n.pathname==="",a=s?"/":n.pathname,o;if(r||a==null)o=i;else{let f=e.length-1;if(a.startsWith("..")){let d=a.split("/");for(;d[0]==="..";)d.shift(),f-=1;n.pathname=d.join("/")}o=f>=0?e[f]:"/"}let l=AL(n,o),u=a&&a!=="/"&&a.endsWith("/"),c=(s||a===".")&&i.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const is=t=>t.join("/").replace(/\/\/+/g,"/"),DL=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ML=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,RL=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function LL(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const jL=["post","put","patch","delete"];[...jL];/**
 * React Router v6.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dv(){return Dv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},Dv.apply(this,arguments)}function NL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const FL=typeof Object.is=="function"?Object.is:NL,{useState:UL,useEffect:BL,useLayoutEffect:zL,useDebugValue:VL}=Hm;function HL(t,e,i){const r=e(),[{inst:n},s]=UL({inst:{value:r,getSnapshot:e}});return zL(()=>{n.value=r,n.getSnapshot=e,Fp(n)&&s({inst:n})},[t,r,e]),BL(()=>(Fp(n)&&s({inst:n}),t(()=>{Fp(n)&&s({inst:n})})),[t]),VL(r),r}function Fp(t){const e=t.getSnapshot,i=t.value;try{const r=e();return!FL(i,r)}catch{return!0}}function WL(t,e,i){return e()}const qL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$L=!qL,GL=$L?WL:HL;"useSyncExternalStore"in Hm&&(t=>t.useSyncExternalStore)(Hm);const BE=J.exports.createContext(null),zE=J.exports.createContext(null),hh=J.exports.createContext(null),ph=J.exports.createContext(null),Io=J.exports.createContext({outlet:null,matches:[]}),VE=J.exports.createContext(null);function KL(t,e){let{relative:i}=e===void 0?{}:e;Qu()||It(!1);let{basename:r,navigator:n}=J.exports.useContext(hh),{hash:s,pathname:a,search:o}=HE(t,{relative:i}),l=a;return r!=="/"&&(l=a==="/"?r:is([r,a])),n.createHref({pathname:l,search:o,hash:s})}function Qu(){return J.exports.useContext(ph)!=null}function mh(){return Qu()||It(!1),J.exports.useContext(ph).location}function XL(){Qu()||It(!1);let{basename:t,navigator:e}=J.exports.useContext(hh),{matches:i}=J.exports.useContext(Io),{pathname:r}=mh(),n=JSON.stringify(FE(i).map(o=>o.pathnameBase)),s=J.exports.useRef(!1);return J.exports.useEffect(()=>{s.current=!0}),J.exports.useCallback(function(o,l){if(l===void 0&&(l={}),!s.current)return;if(typeof o=="number"){e.go(o);return}let u=UE(o,JSON.parse(n),r,l.relative==="path");t!=="/"&&(u.pathname=u.pathname==="/"?t:is([t,u.pathname])),(l.replace?e.replace:e.push)(u,l.state,l)},[t,e,n,r])}function HE(t,e){let{relative:i}=e===void 0?{}:e,{matches:r}=J.exports.useContext(Io),{pathname:n}=mh(),s=JSON.stringify(FE(r).map(a=>a.pathnameBase));return J.exports.useMemo(()=>UE(t,JSON.parse(s),n,i==="path"),[t,s,n,i])}function YL(t,e){Qu()||It(!1);let{navigator:i}=J.exports.useContext(hh),r=J.exports.useContext(zE),{matches:n}=J.exports.useContext(Io),s=n[n.length-1],a=s?s.params:{};s&&s.pathname;let o=s?s.pathnameBase:"/";s&&s.route;let l=mh(),u;if(e){var c;let b=typeof e=="string"?ra(e):e;o==="/"||((c=b.pathname)==null?void 0:c.startsWith(o))||It(!1),u=b}else u=l;let f=u.pathname||"/",d=o==="/"?f:f.slice(o.length)||"/",p=mL(t,{pathname:d}),g=e2(p&&p.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:is([o,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?o:is([o,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),n,r||void 0);return e&&g?J.exports.createElement(ph.Provider,{value:{location:Dv({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Wr.Pop}},g):g}function QL(){let t=r2(),e=LL(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),i=t instanceof Error?t.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return J.exports.createElement(J.exports.Fragment,null,J.exports.createElement("h2",null,"Unexpected Application Error!"),J.exports.createElement("h3",{style:{fontStyle:"italic"}},e),i?J.exports.createElement("pre",{style:n},i):null,s)}class JL extends J.exports.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,i){return i.location!==e.location?{error:e.error,location:e.location}:{error:e.error||i.error,location:i.location}}componentDidCatch(e,i){console.error("React Router caught the following error during render",e,i)}render(){return this.state.error?J.exports.createElement(Io.Provider,{value:this.props.routeContext},J.exports.createElement(VE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ZL(t){let{routeContext:e,match:i,children:r}=t,n=J.exports.useContext(BE);return n&&n.static&&n.staticContext&&i.route.errorElement&&(n.staticContext._deepestRenderedBoundaryId=i.route.id),J.exports.createElement(Io.Provider,{value:e},r)}function e2(t,e,i){if(e===void 0&&(e=[]),t==null)if(i!=null&&i.errors)t=i.matches;else return null;let r=t,n=i?.errors;if(n!=null){let s=r.findIndex(a=>a.route.id&&n?.[a.route.id]);s>=0||It(!1),r=r.slice(0,Math.min(r.length,s+1))}return r.reduceRight((s,a,o)=>{let l=a.route.id?n?.[a.route.id]:null,u=i?a.route.errorElement||J.exports.createElement(QL,null):null,c=e.concat(r.slice(0,o+1)),f=()=>J.exports.createElement(ZL,{match:a,routeContext:{outlet:s,matches:c}},l?u:a.route.element!==void 0?a.route.element:s);return i&&(a.route.errorElement||o===0)?J.exports.createElement(JL,{location:i.location,component:u,error:l,children:f(),routeContext:{outlet:null,matches:c}}):f()},null)}var qT;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator"})(qT||(qT={}));var hf;(function(t){t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(hf||(hf={}));function t2(t){let e=J.exports.useContext(zE);return e||It(!1),e}function i2(t){let e=J.exports.useContext(Io);return e||It(!1),e}function n2(t){let e=i2(),i=e.matches[e.matches.length-1];return i.route.id||It(!1),i.route.id}function r2(){var t;let e=J.exports.useContext(VE),i=t2(hf.UseRouteError),r=n2(hf.UseRouteError);return e||((t=i.errors)==null?void 0:t[r])}function ks(t){It(!1)}function s2(t){let{basename:e="/",children:i=null,location:r,navigationType:n=Wr.Pop,navigator:s,static:a=!1}=t;Qu()&&It(!1);let o=e.replace(/^\/*/,"/"),l=J.exports.useMemo(()=>({basename:o,navigator:s,static:a}),[o,s,a]);typeof r=="string"&&(r=ra(r));let{pathname:u="/",search:c="",hash:f="",state:d=null,key:p="default"}=r,g=J.exports.useMemo(()=>{let b=NE(u,o);return b==null?null:{pathname:b,search:c,hash:f,state:d,key:p}},[o,u,c,f,d,p]);return g==null?null:J.exports.createElement(hh.Provider,{value:l},J.exports.createElement(ph.Provider,{children:i,value:{location:g,navigationType:n}}))}function a2(t){let{children:e,location:i}=t,r=J.exports.useContext(BE),n=r&&!e?r.router.routes:Mv(e);return YL(n,i)}var $T;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})($T||($T={}));new Promise(()=>{});function Mv(t,e){e===void 0&&(e=[]);let i=[];return J.exports.Children.forEach(t,(r,n)=>{if(!J.exports.isValidElement(r))return;if(r.type===J.exports.Fragment){i.push.apply(i,Mv(r.props.children,e));return}r.type!==ks&&It(!1),!r.props.index||!r.props.children||It(!1);let s=[...e,n],a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(a.children=Mv(r.props.children,s)),i.push(a)}),i}/**
 * React Router DOM v6.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rv(){return Rv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},Rv.apply(this,arguments)}function o2(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,s;for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}function l2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function u2(t,e){return t.button===0&&(!e||e==="_self")&&!l2(t)}const c2=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function d2(t){let{basename:e,children:i,window:r}=t,n=J.exports.useRef();n.current==null&&(n.current=dL({window:r,v5Compat:!0}));let s=n.current,[a,o]=J.exports.useState({action:s.action,location:s.location});return J.exports.useLayoutEffect(()=>s.listen(o),[s]),J.exports.createElement(s2,{basename:e,children:i,location:a.location,navigationType:a.action,navigator:s})}const f2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",WE=J.exports.forwardRef(function(e,i){let{onClick:r,relative:n,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:c}=e,f=o2(e,c2),d,p=!1;if(f2&&typeof u=="string"&&/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i.test(u)){d=u;let T=new URL(window.location.href),S=u.startsWith("//")?new URL(T.protocol+u):new URL(u);S.origin===T.origin?u=S.pathname+S.search+S.hash:p=!0}let g=KL(u,{relative:n}),b=h2(u,{replace:a,state:o,target:l,preventScrollReset:c,relative:n});function y(T){r&&r(T),T.defaultPrevented||b(T)}return J.exports.createElement("a",Rv({},f,{href:d||g,onClick:p||s?r:y,ref:i,target:l}))});var GT;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(GT||(GT={}));var KT;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(KT||(KT={}));function h2(t,e){let{target:i,replace:r,state:n,preventScrollReset:s,relative:a}=e===void 0?{}:e,o=XL(),l=mh(),u=HE(t,{relative:a});return J.exports.useCallback(c=>{if(u2(c,i)){c.preventDefault();let f=r!==void 0?r:ff(l)===ff(u);o(t,{replace:f,state:n,preventScrollReset:s,relative:a})}},[l,o,u,r,n,i,t,s,a])}let q0=Zu();const Ae=t=>Ju(t,q0);let $0=Zu();Ae.write=t=>Ju(t,$0);let vh=Zu();Ae.onStart=t=>Ju(t,vh);let G0=Zu();Ae.onFrame=t=>Ju(t,G0);let K0=Zu();Ae.onFinish=t=>Ju(t,K0);let Xa=[];Ae.setTimeout=(t,e)=>{let i=Ae.now()+e,r=()=>{let s=Xa.findIndex(a=>a.cancel==r);~s&&Xa.splice(s,1),$r-=~s?1:0},n={time:i,handler:t,cancel:r};return Xa.splice(qE(i),0,n),$r+=1,$E(),n};let qE=t=>~(~Xa.findIndex(e=>e.time>t)||~Xa.length);Ae.cancel=t=>{vh.delete(t),G0.delete(t),K0.delete(t),q0.delete(t),$0.delete(t)};Ae.sync=t=>{Lv=!0,Ae.batchedUpdates(t),Lv=!1};Ae.throttle=t=>{let e;function i(){try{t(...e)}finally{e=null}}function r(...n){e=n,Ae.onStart(i)}return r.handler=t,r.cancel=()=>{vh.delete(i),e=null},r};let X0=typeof window<"u"?window.requestAnimationFrame:()=>{};Ae.use=t=>X0=t;Ae.now=typeof performance<"u"?()=>performance.now():Date.now;Ae.batchedUpdates=t=>t();Ae.catch=console.error;Ae.frameLoop="always";Ae.advance=()=>{Ae.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):KE()};let qr=-1,$r=0,Lv=!1;function Ju(t,e){Lv?(e.delete(t),t(0)):(e.add(t),$E())}function $E(){qr<0&&(qr=0,Ae.frameLoop!=="demand"&&X0(GE))}function p2(){qr=-1}function GE(){~qr&&(X0(GE),Ae.batchedUpdates(KE))}function KE(){let t=qr;qr=Ae.now();let e=qE(qr);if(e&&(XE(Xa.splice(0,e),i=>i.handler()),$r-=e),!$r){p2();return}vh.flush(),q0.flush(t?Math.min(64,qr-t):16.667),G0.flush(),$0.flush(),K0.flush()}function Zu(){let t=new Set,e=t;return{add(i){$r+=e==t&&!t.has(i)?1:0,t.add(i)},delete(i){return $r-=e==t&&t.has(i)?1:0,t.delete(i)},flush(i){e.size&&(t=new Set,$r-=e.size,XE(e,r=>r(i)&&t.add(r)),$r+=t.size,e=t)}}}function XE(t,e){t.forEach(i=>{try{e(i)}catch(r){Ae.catch(r)}})}function jv(){}const m2=(t,e,i)=>Object.defineProperty(t,e,{value:i,writable:!0,configurable:!0}),ne={arr:Array.isArray,obj:t=>!!t&&t.constructor.name==="Object",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",und:t=>t===void 0};function or(t,e){if(ne.arr(t)){if(!ne.arr(e)||t.length!==e.length)return!1;for(let i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}return t===e}const ke=(t,e)=>t.forEach(e);function er(t,e,i){if(ne.arr(t)){for(let r=0;r<t.length;r++)e.call(i,t[r],`${r}`);return}for(const r in t)t.hasOwnProperty(r)&&e.call(i,t[r],r)}const Ti=t=>ne.und(t)?[]:ne.arr(t)?t:[t];function Xl(t,e){if(t.size){const i=Array.from(t);t.clear(),ke(i,e)}}const Ol=(t,...e)=>Xl(t,i=>i(...e)),Y0=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent);let Q0,YE,ns=null,QE=!1,J0=jv;const v2=t=>{t.to&&(YE=t.to),t.now&&(Ae.now=t.now),t.colors!==void 0&&(ns=t.colors),t.skipAnimation!=null&&(QE=t.skipAnimation),t.createStringInterpolator&&(Q0=t.createStringInterpolator),t.requestAnimationFrame&&Ae.use(t.requestAnimationFrame),t.batchedUpdates&&(Ae.batchedUpdates=t.batchedUpdates),t.willAdvance&&(J0=t.willAdvance),t.frameLoop&&(Ae.frameLoop=t.frameLoop)};var tr=Object.freeze({__proto__:null,get createStringInterpolator(){return Q0},get to(){return YE},get colors(){return ns},get skipAnimation(){return QE},get willAdvance(){return J0},assign:v2});const Yl=new Set;let dn=[],Up=[],pf=0;const gh={get idle(){return!Yl.size&&!dn.length},start(t){pf>t.priority?(Yl.add(t),Ae.onStart(g2)):(JE(t),Ae(Nv))},advance:Nv,sort(t){if(pf)Ae.onFrame(()=>gh.sort(t));else{const e=dn.indexOf(t);~e&&(dn.splice(e,1),ZE(t))}},clear(){dn=[],Yl.clear()}};function g2(){Yl.forEach(JE),Yl.clear(),Ae(Nv)}function JE(t){dn.includes(t)||ZE(t)}function ZE(t){dn.splice(y2(dn,e=>e.priority>t.priority),0,t)}function Nv(t){const e=Up;for(let i=0;i<dn.length;i++){const r=dn[i];pf=r.priority,r.idle||(J0(r),r.advance(t),r.idle||e.push(r))}return pf=0,Up=dn,Up.length=0,dn=e,dn.length>0}function y2(t,e){const i=t.findIndex(e);return i<0?t.length:i}const _2=(t,e,i)=>Math.min(Math.max(i,t),e),b2={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},On="[-+]?\\d*\\.?\\d+",mf=On+"%";function yh(...t){return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}const T2=new RegExp("rgb"+yh(On,On,On)),x2=new RegExp("rgba"+yh(On,On,On,On)),w2=new RegExp("hsl"+yh(On,mf,mf)),S2=new RegExp("hsla"+yh(On,mf,mf,On)),E2=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,C2=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,k2=/^#([0-9a-fA-F]{6})$/,P2=/^#([0-9a-fA-F]{8})$/;function O2(t){let e;return typeof t=="number"?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=k2.exec(t))?parseInt(e[1]+"ff",16)>>>0:ns&&ns[t]!==void 0?ns[t]:(e=T2.exec(t))?(pa(e[1])<<24|pa(e[2])<<16|pa(e[3])<<8|255)>>>0:(e=x2.exec(t))?(pa(e[1])<<24|pa(e[2])<<16|pa(e[3])<<8|QT(e[4]))>>>0:(e=E2.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=P2.exec(t))?parseInt(e[1],16)>>>0:(e=C2.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=w2.exec(t))?(XT(YT(e[1]),id(e[2]),id(e[3]))|255)>>>0:(e=S2.exec(t))?(XT(YT(e[1]),id(e[2]),id(e[3]))|QT(e[4]))>>>0:null}function Bp(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+(e-t)*6*i:i<1/2?e:i<2/3?t+(e-t)*(2/3-i)*6:t}function XT(t,e,i){const r=i<.5?i*(1+e):i+e-i*e,n=2*i-r,s=Bp(n,r,t+1/3),a=Bp(n,r,t),o=Bp(n,r,t-1/3);return Math.round(s*255)<<24|Math.round(a*255)<<16|Math.round(o*255)<<8}function pa(t){const e=parseInt(t,10);return e<0?0:e>255?255:e}function YT(t){return(parseFloat(t)%360+360)%360/360}function QT(t){const e=parseFloat(t);return e<0?0:e>1?255:Math.round(e*255)}function id(t){const e=parseFloat(t);return e<0?0:e>100?1:e/100}function JT(t){let e=O2(t);if(e===null)return t;e=e||0;let i=(e&4278190080)>>>24,r=(e&16711680)>>>16,n=(e&65280)>>>8,s=(e&255)/255;return`rgba(${i}, ${r}, ${n}, ${s})`}const xu=(t,e,i)=>{if(ne.fun(t))return t;if(ne.arr(t))return xu({range:t,output:e,extrapolate:i});if(ne.str(t.output[0]))return Q0(t);const r=t,n=r.output,s=r.range||[0,1],a=r.extrapolateLeft||r.extrapolate||"extend",o=r.extrapolateRight||r.extrapolate||"extend",l=r.easing||(u=>u);return u=>{const c=I2(u,s);return A2(u,s[c],s[c+1],n[c],n[c+1],l,a,o,r.map)}};function A2(t,e,i,r,n,s,a,o,l){let u=l?l(t):t;if(u<e){if(a==="identity")return u;a==="clamp"&&(u=e)}if(u>i){if(o==="identity")return u;o==="clamp"&&(u=i)}return r===n?r:e===i?t<=e?r:n:(e===-1/0?u=-u:i===1/0?u=u-e:u=(u-e)/(i-e),u=s(u),r===-1/0?u=-u:n===1/0?u=u+r:u=u*(n-r)+r,u)}function I2(t,e){for(var i=1;i<e.length-1&&!(e[i]>=t);++i);return i-1}const D2=(t,e="end")=>i=>{i=e==="end"?Math.min(i,.999):Math.max(i,.001);const r=i*t,n=e==="end"?Math.floor(r):Math.ceil(r);return _2(0,1,n/t)},vf=1.70158,nd=vf*1.525,ZT=vf+1,ex=2*Math.PI/3,tx=2*Math.PI/4.5,rd=t=>t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,M2={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>1-(1-t)*(1-t),easeInOutQuad:t=>t<.5?2*t*t:1-Math.pow(-2*t+2,2)/2,easeInCubic:t=>t*t*t,easeOutCubic:t=>1-Math.pow(1-t,3),easeInOutCubic:t=>t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2,easeInQuart:t=>t*t*t*t,easeOutQuart:t=>1-Math.pow(1-t,4),easeInOutQuart:t=>t<.5?8*t*t*t*t:1-Math.pow(-2*t+2,4)/2,easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>1-Math.pow(1-t,5),easeInOutQuint:t=>t<.5?16*t*t*t*t*t:1-Math.pow(-2*t+2,5)/2,easeInSine:t=>1-Math.cos(t*Math.PI/2),easeOutSine:t=>Math.sin(t*Math.PI/2),easeInOutSine:t=>-(Math.cos(Math.PI*t)-1)/2,easeInExpo:t=>t===0?0:Math.pow(2,10*t-10),easeOutExpo:t=>t===1?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>t===0?0:t===1?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2,easeInCirc:t=>1-Math.sqrt(1-Math.pow(t,2)),easeOutCirc:t=>Math.sqrt(1-Math.pow(t-1,2)),easeInOutCirc:t=>t<.5?(1-Math.sqrt(1-Math.pow(2*t,2)))/2:(Math.sqrt(1-Math.pow(-2*t+2,2))+1)/2,easeInBack:t=>ZT*t*t*t-vf*t*t,easeOutBack:t=>1+ZT*Math.pow(t-1,3)+vf*Math.pow(t-1,2),easeInOutBack:t=>t<.5?Math.pow(2*t,2)*((nd+1)*2*t-nd)/2:(Math.pow(2*t-2,2)*((nd+1)*(t*2-2)+nd)+2)/2,easeInElastic:t=>t===0?0:t===1?1:-Math.pow(2,10*t-10)*Math.sin((t*10-10.75)*ex),easeOutElastic:t=>t===0?0:t===1?1:Math.pow(2,-10*t)*Math.sin((t*10-.75)*ex)+1,easeInOutElastic:t=>t===0?0:t===1?1:t<.5?-(Math.pow(2,20*t-10)*Math.sin((20*t-11.125)*tx))/2:Math.pow(2,-20*t+10)*Math.sin((20*t-11.125)*tx)/2+1,easeInBounce:t=>1-rd(1-t),easeOutBounce:rd,easeInOutBounce:t=>t<.5?(1-rd(1-2*t))/2:(1+rd(2*t-1))/2,steps:D2};function Fv(){return Fv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},Fv.apply(this,arguments)}const ro=Symbol.for("FluidValue.get"),Gs=Symbol.for("FluidValue.observers"),ln=t=>Boolean(t&&t[ro]),Di=t=>t&&t[ro]?t[ro]():t,ix=t=>t[Gs]||null;function R2(t,e){t.eventObserved?t.eventObserved(e):t(e)}function wu(t,e){let i=t[Gs];i&&i.forEach(r=>{R2(r,e)})}class eC{constructor(e){if(this[ro]=void 0,this[Gs]=void 0,!e&&!(e=this.get))throw Error("Unknown getter");L2(this,e)}}const L2=(t,e)=>tC(t,ro,e);function Do(t,e){if(t[ro]){let i=t[Gs];i||tC(t,Gs,i=new Set),i.has(e)||(i.add(e),t.observerAdded&&t.observerAdded(i.size,e))}return e}function Su(t,e){let i=t[Gs];if(i&&i.has(e)){const r=i.size-1;r?i.delete(e):t[Gs]=null,t.observerRemoved&&t.observerRemoved(r,e)}}const tC=(t,e,i)=>Object.defineProperty(t,e,{value:i,writable:!0,configurable:!0}),Id=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,j2=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,nx=new RegExp(`(${Id.source})(%|[a-z]+)`,"i"),N2=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,_h=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,iC=t=>{const[e,i]=F2(t);if(!e||Y0())return t;const r=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(r)return r.trim();if(i&&i.startsWith("--")){const n=window.getComputedStyle(document.documentElement).getPropertyValue(i);return n||t}else{if(i&&_h.test(i))return iC(i);if(i)return i}return t},F2=t=>{const e=_h.exec(t);if(!e)return[,];const[,i,r]=e;return[i,r]};let zp;const U2=(t,e,i,r,n)=>`rgba(${Math.round(e)}, ${Math.round(i)}, ${Math.round(r)}, ${n})`,nC=t=>{zp||(zp=ns?new RegExp(`(${Object.keys(ns).join("|")})(?!\\w)`,"g"):/^\b$/);const e=t.output.map(s=>Di(s).replace(_h,iC).replace(j2,JT).replace(zp,JT)),i=e.map(s=>s.match(Id).map(Number)),n=i[0].map((s,a)=>i.map(o=>{if(!(a in o))throw Error('The arity of each "output" value must be equal');return o[a]})).map(s=>xu(Fv({},t,{output:s})));return s=>{var a;const o=!nx.test(e[0])&&((a=e.find(u=>nx.test(u)))==null?void 0:a.replace(Id,""));let l=0;return e[0].replace(Id,()=>`${n[l++](s)}${o||""}`).replace(N2,U2)}},Z0="react-spring: ",rC=t=>{const e=t;let i=!1;if(typeof e!="function")throw new TypeError(`${Z0}once requires a function parameter`);return(...r)=>{i||(e(...r),i=!0)}},B2=rC(console.warn);function z2(){B2(`${Z0}The "interpolate" function is deprecated in v9 (use "to" instead)`)}const V2=rC(console.warn);function H2(){V2(`${Z0}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function bh(t){return ne.str(t)&&(t[0]=="#"||/\d/.test(t)||!Y0()&&_h.test(t)||t in(ns||{}))}const js=Y0()?J.exports.useEffect:J.exports.useLayoutEffect,W2=()=>{const t=J.exports.useRef(!1);return js(()=>(t.current=!0,()=>{t.current=!1}),[]),t};function ey(){const t=J.exports.useState()[1],e=W2();return()=>{e.current&&t(Math.random())}}function q2(t,e){const[i]=J.exports.useState(()=>({inputs:e,result:t()})),r=J.exports.useRef(),n=r.current;let s=n;return s?Boolean(e&&s.inputs&&$2(e,s.inputs))||(s={inputs:e,result:t()}):s=i,J.exports.useEffect(()=>{r.current=s,n==i&&(i.inputs=i.result=void 0)},[s]),s.result}function $2(t,e){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0}const ty=t=>J.exports.useEffect(t,G2),G2=[];function Uv(t){const e=J.exports.useRef();return J.exports.useEffect(()=>{e.current=t}),e.current}const Eu=Symbol.for("Animated:node"),K2=t=>!!t&&t[Eu]===t,Fn=t=>t&&t[Eu],iy=(t,e)=>m2(t,Eu,e),Th=t=>t&&t[Eu]&&t[Eu].getPayload();class sC{constructor(){this.payload=void 0,iy(this,this)}getPayload(){return this.payload||[]}}class Mo extends sC{constructor(e){super(),this.done=!0,this.elapsedTime=void 0,this.lastPosition=void 0,this.lastVelocity=void 0,this.v0=void 0,this.durationProgress=0,this._value=e,ne.num(this._value)&&(this.lastPosition=this._value)}static create(e){return new Mo(e)}getPayload(){return[this]}getValue(){return this._value}setValue(e,i){return ne.num(e)&&(this.lastPosition=e,i&&(e=Math.round(e/i)*i,this.done&&(this.lastPosition=e))),this._value===e?!1:(this._value=e,!0)}reset(){const{done:e}=this;this.done=!1,ne.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}}class so extends Mo{constructor(e){super(0),this._string=null,this._toString=void 0,this._toString=xu({output:[e,e]})}static create(e){return new so(e)}getValue(){let e=this._string;return e??(this._string=this._toString(this._value))}setValue(e){if(ne.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else if(super.setValue(e))this._string=null;else return!1;return!0}reset(e){e&&(this._toString=xu({output:[this.getValue(),e]})),this._value=0,super.reset()}}const gf={dependencies:null};class xh extends sC{constructor(e){super(),this.source=e,this.setValue(e)}getValue(e){const i={};return er(this.source,(r,n)=>{K2(r)?i[n]=r.getValue(e):ln(r)?i[n]=Di(r):e||(i[n]=r)}),i}setValue(e){this.source=e,this.payload=this._makePayload(e)}reset(){this.payload&&ke(this.payload,e=>e.reset())}_makePayload(e){if(e){const i=new Set;return er(e,this._addToPayload,i),Array.from(i)}}_addToPayload(e){gf.dependencies&&ln(e)&&gf.dependencies.add(e);const i=Th(e);i&&ke(i,r=>this.add(r))}}class ny extends xh{constructor(e){super(e)}static create(e){return new ny(e)}getValue(){return this.source.map(e=>e.getValue())}setValue(e){const i=this.getPayload();return e.length==i.length?i.map((r,n)=>r.setValue(e[n])).some(Boolean):(super.setValue(e.map(X2)),!0)}}function X2(t){return(bh(t)?so:Mo).create(t)}function Bv(t){const e=Fn(t);return e?e.constructor:ne.arr(t)?ny:bh(t)?so:Mo}function yf(){return yf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},yf.apply(this,arguments)}const rx=(t,e)=>{const i=!ne.fun(t)||t.prototype&&t.prototype.isReactComponent;return J.exports.forwardRef((r,n)=>{const s=J.exports.useRef(null),a=i&&J.exports.useCallback(g=>{s.current=J2(n,g)},[n]),[o,l]=Q2(r,e),u=ey(),c=()=>{const g=s.current;if(i&&!g)return;(g?e.applyAnimatedValues(g,o.getValue(!0)):!1)===!1&&u()},f=new Y2(c,l),d=J.exports.useRef();js(()=>(d.current=f,ke(l,g=>Do(g,f)),()=>{d.current&&(ke(d.current.deps,g=>Su(g,d.current)),Ae.cancel(d.current.update))})),J.exports.useEffect(c,[]),ty(()=>()=>{const g=d.current;ke(g.deps,b=>Su(b,g))});const p=e.getComponentProps(o.getValue());return J.exports.createElement(t,yf({},p,{ref:a}))})};class Y2{constructor(e,i){this.update=e,this.deps=i}eventObserved(e){e.type=="change"&&Ae.write(this.update)}}function Q2(t,e){const i=new Set;return gf.dependencies=i,t.style&&(t=yf({},t,{style:e.createAnimatedStyle(t.style)})),t=new xh(t),gf.dependencies=null,[t,i]}function J2(t,e){return t&&(ne.fun(t)?t(e):t.current=e),e}const sx=Symbol.for("AnimatedComponent"),Z2=(t,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:i=n=>new xh(n),getComponentProps:r=n=>n}={})=>{const n={applyAnimatedValues:e,createAnimatedStyle:i,getComponentProps:r},s=a=>{const o=ax(a)||"Anonymous";return ne.str(a)?a=s[a]||(s[a]=rx(a,n)):a=a[sx]||(a[sx]=rx(a,n)),a.displayName=`Animated(${o})`,a};return er(t,(a,o)=>{ne.arr(t)&&(o=ax(a)),s[o]=s(a)}),{animated:s}},ax=t=>ne.str(t)?t:t&&ne.str(t.displayName)?t.displayName:ne.fun(t)&&t.name||null;function gt(){return gt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},gt.apply(this,arguments)}function Mi(t,...e){return ne.fun(t)?t(...e):t}const Ql=(t,e)=>t===!0||!!(e&&t&&(ne.fun(t)?t(e):Ti(t).includes(e))),aC=(t,e)=>ne.obj(t)?e&&t[e]:t,oC=(t,e)=>t.default===!0?t[e]:t.default?t.default[e]:void 0,ej=t=>t,wh=(t,e=ej)=>{let i=tj;t.default&&t.default!==!0&&(t=t.default,i=Object.keys(t));const r={};for(const n of i){const s=e(t[n],n);ne.und(s)||(r[n]=s)}return r},tj=["config","onProps","onStart","onChange","onPause","onResume","onRest"],ij={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function nj(t){const e={};let i=0;if(er(t,(r,n)=>{ij[n]||(e[n]=r,i++)}),i)return e}function ry(t){const e=nj(t);if(e){const i={to:e};return er(t,(r,n)=>n in e||(i[n]=r)),i}return gt({},t)}function Cu(t){return t=Di(t),ne.arr(t)?t.map(Cu):bh(t)?tr.createStringInterpolator({range:[0,1],output:[t,t]})(1):t}function lC(t){for(const e in t)return!0;return!1}function zv(t){return ne.fun(t)||ne.arr(t)&&ne.obj(t[0])}function Vv(t,e){var i;(i=t.ref)==null||i.delete(t),e?.delete(t)}function uC(t,e){if(e&&t.ref!==e){var i;(i=t.ref)==null||i.delete(t),e.add(t),t.ref=e}}const sy={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},Hv=gt({},sy.default,{mass:1,damping:1,easing:M2.linear,clamp:!1});class rj{constructor(){this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,Hv)}}function sj(t,e,i){i&&(i=gt({},i),ox(i,e),e=gt({},i,e)),ox(t,e),Object.assign(t,e);for(const a in Hv)t[a]==null&&(t[a]=Hv[a]);let{mass:r,frequency:n,damping:s}=t;return ne.und(n)||(n<.01&&(n=.01),s<0&&(s=0),t.tension=Math.pow(2*Math.PI/n,2)*r,t.friction=4*Math.PI*s*r/n),t}function ox(t,e){if(!ne.und(e.decay))t.duration=void 0;else{const i=!ne.und(e.tension)||!ne.und(e.friction);(i||!ne.und(e.frequency)||!ne.und(e.damping)||!ne.und(e.mass))&&(t.duration=void 0,t.decay=void 0),i&&(t.frequency=void 0)}}const lx=[];class aj{constructor(){this.changed=!1,this.values=lx,this.toValues=null,this.fromValues=lx,this.to=void 0,this.from=void 0,this.config=new rj,this.immediate=!1}}function cC(t,{key:e,props:i,defaultProps:r,state:n,actions:s}){return new Promise((a,o)=>{var l;let u,c,f=Ql((l=i.cancel)!=null?l:r?.cancel,e);if(f)g();else{ne.und(i.pause)||(n.paused=Ql(i.pause,e));let b=r?.pause;b!==!0&&(b=n.paused||Ql(b,e)),u=Mi(i.delay||0,e),b?(n.resumeQueue.add(p),s.pause()):(s.resume(),p())}function d(){n.resumeQueue.add(p),n.timeouts.delete(c),c.cancel(),u=c.time-Ae.now()}function p(){u>0&&!tr.skipAnimation?(n.delayed=!0,c=Ae.setTimeout(g,u),n.pauseQueue.add(d),n.timeouts.add(c)):g()}function g(){n.delayed&&(n.delayed=!1),n.pauseQueue.delete(d),n.timeouts.delete(c),t<=(n.cancelId||0)&&(f=!0);try{s.start(gt({},i,{callId:t,cancel:f}),a)}catch(b){o(b)}}})}const ay=(t,e)=>e.length==1?e[0]:e.some(i=>i.cancelled)?Ya(t.get()):e.every(i=>i.noop)?dC(t.get()):Cn(t.get(),e.every(i=>i.finished)),dC=t=>({value:t,noop:!0,finished:!0,cancelled:!1}),Cn=(t,e,i=!1)=>({value:t,finished:e,cancelled:i}),Ya=t=>({value:t,cancelled:!0,finished:!1});function fC(t,e,i,r){const{callId:n,parentId:s,onRest:a}=e,{asyncTo:o,promise:l}=i;return!s&&t===o&&!e.reset?l:i.promise=(async()=>{i.asyncId=n,i.asyncTo=t;const u=wh(e,(y,T)=>T==="onRest"?void 0:y);let c,f;const d=new Promise((y,T)=>(c=y,f=T)),p=y=>{const T=n<=(i.cancelId||0)&&Ya(r)||n!==i.asyncId&&Cn(r,!1);if(T)throw y.result=T,f(y),y},g=(y,T)=>{const S=new ux,I=new cx;return(async()=>{if(tr.skipAnimation)throw ku(i),I.result=Cn(r,!1),f(I),I;p(S);const O=ne.obj(y)?gt({},y):gt({},T,{to:y});O.parentId=n,er(u,(R,A)=>{ne.und(O[A])&&(O[A]=R)});const M=await r.start(O);return p(S),i.paused&&await new Promise(R=>{i.resumeQueue.add(R)}),M})()};let b;if(tr.skipAnimation)return ku(i),Cn(r,!1);try{let y;ne.arr(t)?y=(async T=>{for(const S of T)await g(S)})(t):y=Promise.resolve(t(g,r.stop.bind(r))),await Promise.all([y.then(c),d]),b=Cn(r.get(),!0,!1)}catch(y){if(y instanceof ux)b=y.result;else if(y instanceof cx)b=y.result;else throw y}finally{n==i.asyncId&&(i.asyncId=s,i.asyncTo=s?o:void 0,i.promise=s?l:void 0)}return ne.fun(a)&&Ae.batchedUpdates(()=>{a(b,r,r.item)}),b})()}function ku(t,e){Xl(t.timeouts,i=>i.cancel()),t.pauseQueue.clear(),t.resumeQueue.clear(),t.asyncId=t.asyncTo=t.promise=void 0,e&&(t.cancelId=e)}class ux extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise."),this.result=void 0}}class cx extends Error{constructor(){super("SkipAnimationSignal"),this.result=void 0}}const Wv=t=>t instanceof oy;let oj=1;class oy extends eC{constructor(...e){super(...e),this.id=oj++,this.key=void 0,this._priority=0}get priority(){return this._priority}set priority(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}get(){const e=Fn(this);return e&&e.getValue()}to(...e){return tr.to(this,e)}interpolate(...e){return z2(),tr.to(this,e)}toJSON(){return this.get()}observerAdded(e){e==1&&this._attach()}observerRemoved(e){e==0&&this._detach()}_attach(){}_detach(){}_onChange(e,i=!1){wu(this,{type:"change",parent:this,value:e,idle:i})}_onPriorityChange(e){this.idle||gh.sort(this),wu(this,{type:"priority",parent:this,priority:e})}}const Ks=Symbol.for("SpringPhase"),hC=1,qv=2,$v=4,Vp=t=>(t[Ks]&hC)>0,jr=t=>(t[Ks]&qv)>0,cl=t=>(t[Ks]&$v)>0,dx=(t,e)=>e?t[Ks]|=qv|hC:t[Ks]&=~qv,fx=(t,e)=>e?t[Ks]|=$v:t[Ks]&=~$v;class lj extends oy{constructor(e,i){if(super(),this.key=void 0,this.animation=new aj,this.queue=void 0,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!ne.und(e)||!ne.und(i)){const r=ne.obj(e)?gt({},e):gt({},i,{from:e});ne.und(r.default)&&(r.default=!0),this.start(r)}}get idle(){return!(jr(this)||this._state.asyncTo)||cl(this)}get goal(){return Di(this.animation.to)}get velocity(){const e=Fn(this);return e instanceof Mo?e.lastVelocity||0:e.getPayload().map(i=>i.lastVelocity||0)}get hasAnimated(){return Vp(this)}get isAnimating(){return jr(this)}get isPaused(){return cl(this)}get isDelayed(){return this._state.delayed}advance(e){let i=!0,r=!1;const n=this.animation;let{config:s,toValues:a}=n;const o=Th(n.to);!o&&ln(n.to)&&(a=Ti(Di(n.to))),n.values.forEach((c,f)=>{if(c.done)return;const d=c.constructor==so?1:o?o[f].lastPosition:a[f];let p=n.immediate,g=d;if(!p){if(g=c.lastPosition,s.tension<=0){c.done=!0;return}let b=c.elapsedTime+=e;const y=n.fromValues[f],T=c.v0!=null?c.v0:c.v0=ne.arr(s.velocity)?s.velocity[f]:s.velocity;let S;const I=s.precision||(y==d?.005:Math.min(1,Math.abs(d-y)*.001));if(ne.und(s.duration))if(s.decay){const O=s.decay===!0?.998:s.decay,M=Math.exp(-(1-O)*b);g=y+T/(1-O)*(1-M),p=Math.abs(c.lastPosition-g)<=I,S=T*M}else{S=c.lastVelocity==null?T:c.lastVelocity;const O=s.restVelocity||I/10,M=s.clamp?0:s.bounce,R=!ne.und(M),A=y==d?c.v0>0:y<d;let E,C=!1;const P=1,U=Math.ceil(e/P);for(let B=0;B<U&&(E=Math.abs(S)>O,!(!E&&(p=Math.abs(d-g)<=I,p)));++B){R&&(C=g==d||g>d==A,C&&(S=-S*M,g=d));const G=-s.tension*1e-6*(g-d),W=-s.friction*.001*S,Y=(G+W)/s.mass;S=S+Y*P,g=g+S*P}}else{let O=1;s.duration>0&&(this._memoizedDuration!==s.duration&&(this._memoizedDuration=s.duration,c.durationProgress>0&&(c.elapsedTime=s.duration*c.durationProgress,b=c.elapsedTime+=e)),O=(s.progress||0)+b/this._memoizedDuration,O=O>1?1:O<0?0:O,c.durationProgress=O),g=y+s.easing(O)*(d-y),S=(g-c.lastPosition)/e,p=O==1}c.lastVelocity=S,Number.isNaN(g)&&(console.warn("Got NaN while animating:",this),p=!0)}o&&!o[f].done&&(p=!1),p?c.done=!0:i=!1,c.setValue(g,s.round)&&(r=!0)});const l=Fn(this),u=l.getValue();if(i){const c=Di(n.to);(u!==c||r)&&!s.decay?(l.setValue(c),this._onChange(c)):r&&s.decay&&this._onChange(u),this._stop()}else r&&this._onChange(u)}set(e){return Ae.batchedUpdates(()=>{this._stop(),this._focus(e),this._set(e)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(jr(this)){const{to:e,config:i}=this.animation;Ae.batchedUpdates(()=>{this._onStart(),i.decay||this._set(e,!1),this._stop()})}return this}update(e){return(this.queue||(this.queue=[])).push(e),this}start(e,i){let r;return ne.und(e)?(r=this.queue||[],this.queue=[]):r=[ne.obj(e)?e:gt({},i,{to:e})],Promise.all(r.map(n=>this._update(n))).then(n=>ay(this,n))}stop(e){const{to:i}=this.animation;return this._focus(this.get()),ku(this._state,e&&this._lastCallId),Ae.batchedUpdates(()=>this._stop(i,e)),this}reset(){this._update({reset:!0})}eventObserved(e){e.type=="change"?this._start():e.type=="priority"&&(this.priority=e.priority+1)}_prepareNode(e){const i=this.key||"";let{to:r,from:n}=e;r=ne.obj(r)?r[i]:r,(r==null||zv(r))&&(r=void 0),n=ne.obj(n)?n[i]:n,n==null&&(n=void 0);const s={to:r,from:n};return Vp(this)||(e.reverse&&([r,n]=[n,r]),n=Di(n),ne.und(n)?Fn(this)||this._set(r):this._set(n)),s}_update(e,i){let r=gt({},e);const{key:n,defaultProps:s}=this;r.default&&Object.assign(s,wh(r,(l,u)=>/^on/.test(u)?aC(l,n):l)),px(this,r,"onProps"),fl(this,"onProps",r,this);const a=this._prepareNode(r);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const o=this._state;return cC(++this._lastCallId,{key:n,props:r,defaultProps:s,state:o,actions:{pause:()=>{cl(this)||(fx(this,!0),Ol(o.pauseQueue),fl(this,"onPause",Cn(this,dl(this,this.animation.to)),this))},resume:()=>{cl(this)&&(fx(this,!1),jr(this)&&this._resume(),Ol(o.resumeQueue),fl(this,"onResume",Cn(this,dl(this,this.animation.to)),this))},start:this._merge.bind(this,a)}}).then(l=>{if(r.loop&&l.finished&&!(i&&l.noop)){const u=pC(r);if(u)return this._update(u,!0)}return l})}_merge(e,i,r){if(i.cancel)return this.stop(!0),r(Ya(this));const n=!ne.und(e.to),s=!ne.und(e.from);if(n||s)if(i.callId>this._lastToId)this._lastToId=i.callId;else return r(Ya(this));const{key:a,defaultProps:o,animation:l}=this,{to:u,from:c}=l;let{to:f=u,from:d=c}=e;s&&!n&&(!i.default||ne.und(f))&&(f=d),i.reverse&&([f,d]=[d,f]);const p=!or(d,c);p&&(l.from=d),d=Di(d);const g=!or(f,u);g&&this._focus(f);const b=zv(i.to),{config:y}=l,{decay:T,velocity:S}=y;(n||s)&&(y.velocity=0),i.config&&!b&&sj(y,Mi(i.config,a),i.config!==o.config?Mi(o.config,a):void 0);let I=Fn(this);if(!I||ne.und(f))return r(Cn(this,!0));const O=ne.und(i.reset)?s&&!i.default:!ne.und(d)&&Ql(i.reset,a),M=O?d:this.get(),R=Cu(f),A=ne.num(R)||ne.arr(R)||bh(R),E=!b&&(!A||Ql(o.immediate||i.immediate,a));if(g){const B=Bv(f);if(B!==I.constructor)if(E)I=this._set(R);else throw Error(`Cannot animate between ${I.constructor.name} and ${B.name}, as the "to" prop suggests`)}const C=I.constructor;let P=ln(f),U=!1;if(!P){const B=O||!Vp(this)&&p;(g||B)&&(U=or(Cu(M),R),P=!U),(!or(l.immediate,E)&&!E||!or(y.decay,T)||!or(y.velocity,S))&&(P=!0)}if(U&&jr(this)&&(l.changed&&!O?P=!0:P||this._stop(u)),!b&&((P||ln(u))&&(l.values=I.getPayload(),l.toValues=ln(f)?null:C==so?[1]:Ti(R)),l.immediate!=E&&(l.immediate=E,!E&&!O&&this._set(u)),P)){const{onRest:B}=l;ke(cj,W=>px(this,i,W));const G=Cn(this,dl(this,u));Ol(this._pendingCalls,G),this._pendingCalls.add(r),l.changed&&Ae.batchedUpdates(()=>{l.changed=!O,B?.(G,this),O?Mi(o.onRest,G):l.onStart==null||l.onStart(G,this)})}O&&this._set(M),b?r(fC(i.to,i,this._state,this)):P?this._start():jr(this)&&!g?this._pendingCalls.add(r):r(dC(M))}_focus(e){const i=this.animation;e!==i.to&&(ix(this)&&this._detach(),i.to=e,ix(this)&&this._attach())}_attach(){let e=0;const{to:i}=this.animation;ln(i)&&(Do(i,this),Wv(i)&&(e=i.priority+1)),this.priority=e}_detach(){const{to:e}=this.animation;ln(e)&&Su(e,this)}_set(e,i=!0){const r=Di(e);if(!ne.und(r)){const n=Fn(this);if(!n||!or(r,n.getValue())){const s=Bv(r);!n||n.constructor!=s?iy(this,s.create(r)):n.setValue(r),n&&Ae.batchedUpdates(()=>{this._onChange(r,i)})}}return Fn(this)}_onStart(){const e=this.animation;e.changed||(e.changed=!0,fl(this,"onStart",Cn(this,dl(this,e.to)),this))}_onChange(e,i){i||(this._onStart(),Mi(this.animation.onChange,e,this)),Mi(this.defaultProps.onChange,e,this),super._onChange(e,i)}_start(){const e=this.animation;Fn(this).reset(Di(e.to)),e.immediate||(e.fromValues=e.values.map(i=>i.lastPosition)),jr(this)||(dx(this,!0),cl(this)||this._resume())}_resume(){tr.skipAnimation?this.finish():gh.start(this)}_stop(e,i){if(jr(this)){dx(this,!1);const r=this.animation;ke(r.values,s=>{s.done=!0}),r.toValues&&(r.onChange=r.onPause=r.onResume=void 0),wu(this,{type:"idle",parent:this});const n=i?Ya(this.get()):Cn(this.get(),dl(this,e??r.to));Ol(this._pendingCalls,n),r.changed&&(r.changed=!1,fl(this,"onRest",n,this))}}}function dl(t,e){const i=Cu(e),r=Cu(t.get());return or(r,i)}function pC(t,e=t.loop,i=t.to){let r=Mi(e);if(r){const n=r!==!0&&ry(r),s=(n||t).reverse,a=!n||n.reset;return Pu(gt({},t,{loop:e,default:!1,pause:void 0,to:!s||zv(i)?i:void 0,from:a?t.from:void 0,reset:a},n))}}function Pu(t){const{to:e,from:i}=t=ry(t),r=new Set;return ne.obj(e)&&hx(e,r),ne.obj(i)&&hx(i,r),t.keys=r.size?Array.from(r):null,t}function uj(t){const e=Pu(t);return ne.und(e.default)&&(e.default=wh(e)),e}function hx(t,e){er(t,(i,r)=>i!=null&&e.add(r))}const cj=["onStart","onRest","onChange","onPause","onResume"];function px(t,e,i){t.animation[i]=e[i]!==oC(e,i)?aC(e[i],t.key):void 0}function fl(t,e,...i){var r,n,s,a;(r=(n=t.animation)[e])==null||r.call(n,...i),(s=(a=t.defaultProps)[e])==null||s.call(a,...i)}const dj=["onStart","onChange","onRest"];let fj=1;class mC{constructor(e,i){this.id=fj++,this.springs={},this.queue=[],this.ref=void 0,this._flush=void 0,this._initialProps=void 0,this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._item=void 0,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),i&&(this._flush=i),e&&this.start(gt({default:!0},e))}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(e=>e.idle&&!e.isDelayed&&!e.isPaused)}get item(){return this._item}set item(e){this._item=e}get(){const e={};return this.each((i,r)=>e[r]=i.get()),e}set(e){for(const i in e){const r=e[i];ne.und(r)||this.springs[i].set(r)}}update(e){return e&&this.queue.push(Pu(e)),this}start(e){let{queue:i}=this;return e?i=Ti(e).map(Pu):this.queue=[],this._flush?this._flush(this,i):(bC(this,i),Gv(this,i))}stop(e,i){if(e!==!!e&&(i=e),i){const r=this.springs;ke(Ti(i),n=>r[n].stop(!!e))}else ku(this._state,this._lastAsyncId),this.each(r=>r.stop(!!e));return this}pause(e){if(ne.und(e))this.start({pause:!0});else{const i=this.springs;ke(Ti(e),r=>i[r].pause())}return this}resume(e){if(ne.und(e))this.start({pause:!1});else{const i=this.springs;ke(Ti(e),r=>i[r].resume())}return this}each(e){er(this.springs,e)}_onFrame(){const{onStart:e,onChange:i,onRest:r}=this._events,n=this._active.size>0,s=this._changed.size>0;(n&&!this._started||s&&!this._started)&&(this._started=!0,Xl(e,([l,u])=>{u.value=this.get(),l(u,this,this._item)}));const a=!n&&this._started,o=s||a&&r.size?this.get():null;s&&i.size&&Xl(i,([l,u])=>{u.value=o,l(u,this,this._item)}),a&&(this._started=!1,Xl(r,([l,u])=>{u.value=o,l(u,this,this._item)}))}eventObserved(e){if(e.type=="change")this._changed.add(e.parent),e.idle||this._active.add(e.parent);else if(e.type=="idle")this._active.delete(e.parent);else return;Ae.onFrame(this._onFrame)}}function Gv(t,e){return Promise.all(e.map(i=>vC(t,i))).then(i=>ay(t,i))}async function vC(t,e,i){const{keys:r,to:n,from:s,loop:a,onRest:o,onResolve:l}=e,u=ne.obj(e.default)&&e.default;a&&(e.loop=!1),n===!1&&(e.to=null),s===!1&&(e.from=null);const c=ne.arr(n)||ne.fun(n)?n:void 0;c?(e.to=void 0,e.onRest=void 0,u&&(u.onRest=void 0)):ke(dj,b=>{const y=e[b];if(ne.fun(y)){const T=t._events[b];e[b]=({finished:S,cancelled:I})=>{const O=T.get(y);O?(S||(O.finished=!1),I&&(O.cancelled=!0)):T.set(y,{value:null,finished:S||!1,cancelled:I||!1})},u&&(u[b]=e[b])}});const f=t._state;e.pause===!f.paused?(f.paused=e.pause,Ol(e.pause?f.pauseQueue:f.resumeQueue)):f.paused&&(e.pause=!0);const d=(r||Object.keys(t.springs)).map(b=>t.springs[b].start(e)),p=e.cancel===!0||oC(e,"cancel")===!0;(c||p&&f.asyncId)&&d.push(cC(++t._lastAsyncId,{props:e,state:f,actions:{pause:jv,resume:jv,start(b,y){p?(ku(f,t._lastAsyncId),y(Ya(t))):(b.onRest=o,y(fC(c,b,f,t)))}}})),f.paused&&await new Promise(b=>{f.resumeQueue.add(b)});const g=ay(t,await Promise.all(d));if(a&&g.finished&&!(i&&g.noop)){const b=pC(e,a,n);if(b)return bC(t,[b]),vC(t,b,!0)}return l&&Ae.batchedUpdates(()=>l(g,t,t.item)),g}function Kv(t,e){const i=gt({},t.springs);return e&&ke(Ti(e),r=>{ne.und(r.keys)&&(r=Pu(r)),ne.obj(r.to)||(r=gt({},r,{to:void 0})),_C(i,r,n=>yC(n))}),gC(t,i),i}function gC(t,e){er(e,(i,r)=>{t.springs[r]||(t.springs[r]=i,Do(i,t))})}function yC(t,e){const i=new lj;return i.key=t,e&&Do(i,e),i}function _C(t,e,i){e.keys&&ke(e.keys,r=>{(t[r]||(t[r]=i(r)))._prepareNode(e)})}function bC(t,e){ke(e,i=>{_C(t.springs,i,r=>yC(r,t))})}function hj(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,s;for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}const pj=["children"],ec=t=>{let{children:e}=t,i=hj(t,pj);const r=J.exports.useContext(_f),n=i.pause||!!r.pause,s=i.immediate||!!r.immediate;i=q2(()=>({pause:n,immediate:s}),[n,s]);const{Provider:a}=_f;return J.exports.createElement(a,{value:i},e)},_f=mj(ec,{});ec.Provider=_f.Provider;ec.Consumer=_f.Consumer;function mj(t,e){return Object.assign(t,J.exports.createContext(e)),t.Provider._context=t,t.Consumer._context=t,t}const TC=()=>{const t=[],e=function(n){H2();const s=[];return ke(t,(a,o)=>{if(ne.und(n))s.push(a.start());else{const l=i(n,a,o);l&&s.push(a.start(l))}}),s};e.current=t,e.add=function(r){t.includes(r)||t.push(r)},e.delete=function(r){const n=t.indexOf(r);~n&&t.splice(n,1)},e.pause=function(){return ke(t,r=>r.pause(...arguments)),this},e.resume=function(){return ke(t,r=>r.resume(...arguments)),this},e.set=function(r){ke(t,n=>n.set(r))},e.start=function(r){const n=[];return ke(t,(s,a)=>{if(ne.und(r))n.push(s.start());else{const o=this._getProps(r,s,a);o&&n.push(s.start(o))}}),n},e.stop=function(){return ke(t,r=>r.stop(...arguments)),this},e.update=function(r){return ke(t,(n,s)=>n.update(this._getProps(r,n,s))),this};const i=function(n,s,a){return ne.fun(n)?n(a,s):n};return e._getProps=i,e};function vj(t,e,i){const r=ne.fun(e)&&e;r&&!i&&(i=[]);const n=J.exports.useMemo(()=>r||arguments.length==3?TC():void 0,[]),s=J.exports.useRef(0),a=ey(),o=J.exports.useMemo(()=>({ctrls:[],queue:[],flush(T,S){const I=Kv(T,S);return s.current>0&&!o.queue.length&&!Object.keys(I).some(M=>!T.springs[M])?Gv(T,S):new Promise(M=>{gC(T,I),o.queue.push(()=>{M(Gv(T,S))}),a()})}}),[]),l=J.exports.useRef([...o.ctrls]),u=[],c=Uv(t)||0;J.exports.useMemo(()=>{ke(l.current.slice(t,c),T=>{Vv(T,n),T.stop(!0)}),l.current.length=t,f(c,t)},[t]),J.exports.useMemo(()=>{f(0,Math.min(c,t))},i);function f(T,S){for(let I=T;I<S;I++){const O=l.current[I]||(l.current[I]=new mC(null,o.flush)),M=r?r(I,O):e[I];M&&(u[I]=uj(M))}}const d=l.current.map((T,S)=>Kv(T,u[S])),p=J.exports.useContext(ec),g=Uv(p),b=p!==g&&lC(p);js(()=>{s.current++,o.ctrls=l.current;const{queue:T}=o;T.length&&(o.queue=[],ke(T,S=>S())),ke(l.current,(S,I)=>{n?.add(S),b&&S.start({default:p});const O=u[I];O&&(uC(S,O.ref),S.ref?S.queue.push(O):S.start(O))})}),ty(()=>()=>{ke(o.ctrls,T=>T.stop(!0))});const y=d.map(T=>gt({},T));return n?[y,n]:y}function xC(t,e){const i=ne.fun(t),[[r],n]=vj(1,i?t:[t],i?e||[]:e);return i||arguments.length==2?[r,n]:r}let mi;(function(t){t.MOUNT="mount",t.ENTER="enter",t.UPDATE="update",t.LEAVE="leave"})(mi||(mi={}));function gj(t,e,i){const r=ne.fun(e)&&e,{reset:n,sort:s,trail:a=0,expires:o=!0,exitBeforeEnter:l=!1,onDestroyed:u,ref:c,config:f}=r?r():e,d=J.exports.useMemo(()=>r||arguments.length==3?TC():void 0,[]),p=Ti(t),g=[],b=J.exports.useRef(null),y=n?null:b.current;js(()=>{b.current=g}),ty(()=>(ke(g,W=>{d?.add(W.ctrl),W.ctrl.ref=d}),()=>{ke(b.current,W=>{W.expired&&clearTimeout(W.expirationId),Vv(W.ctrl,d),W.ctrl.stop(!0)})}));const T=_j(p,r?r():e,y),S=n&&b.current||[];js(()=>ke(S,({ctrl:W,item:Y,key:ee})=>{Vv(W,d),Mi(u,Y,ee)}));const I=[];if(y&&ke(y,(W,Y)=>{W.expired?(clearTimeout(W.expirationId),S.push(W)):(Y=I[Y]=T.indexOf(W.key),~Y&&(g[Y]=W))}),ke(p,(W,Y)=>{g[Y]||(g[Y]={key:T[Y],item:W,phase:mi.MOUNT,ctrl:new mC},g[Y].ctrl.item=W)}),I.length){let W=-1;const{leave:Y}=r?r():e;ke(I,(ee,K)=>{const q=y[K];~ee?(W=g.indexOf(q),g[W]=gt({},q,{item:p[ee]})):Y&&g.splice(++W,0,q)})}ne.fun(s)&&g.sort((W,Y)=>s(W.item,Y.item));let O=-a;const M=ey(),R=wh(e),A=new Map,E=J.exports.useRef(new Map),C=J.exports.useRef(!1);ke(g,(W,Y)=>{const ee=W.key,K=W.phase,q=r?r():e;let X,Z,$=Mi(q.delay||0,ee);if(K==mi.MOUNT)X=q.enter,Z=mi.ENTER;else{const ce=T.indexOf(ee)<0;if(K!=mi.LEAVE)if(ce)X=q.leave,Z=mi.LEAVE;else if(X=q.update)Z=mi.UPDATE;else return;else if(!ce)X=q.enter,Z=mi.ENTER;else return}if(X=Mi(X,W.item,Y),X=ne.obj(X)?ry(X):{to:X},!X.config){const ce=f||R.config;X.config=Mi(ce,W.item,Y,Z)}O+=a;const H=gt({},R,{delay:$+O,ref:c,immediate:q.immediate,reset:!1},X);if(Z==mi.ENTER&&ne.und(H.from)){const ce=r?r():e,_e=ne.und(ce.initial)||y?ce.from:ce.initial;H.from=Mi(_e,W.item,Y)}const{onResolve:se}=H;H.onResolve=ce=>{Mi(se,ce);const _e=b.current,be=_e.find(De=>De.key===ee);if(!!be&&!(ce.cancelled&&be.phase!=mi.UPDATE)&&be.ctrl.idle){const De=_e.every(de=>de.ctrl.idle);if(be.phase==mi.LEAVE){const de=Mi(o,be.item);if(de!==!1){const Me=de===!0?0:de;if(be.expired=!0,!De&&Me>0){Me<=2147483647&&(be.expirationId=setTimeout(M,Me));return}}}De&&_e.some(de=>de.expired)&&(E.current.delete(be),l&&(C.current=!0),M())}};const me=Kv(W.ctrl,H);Z===mi.LEAVE&&l?E.current.set(W,{phase:Z,springs:me,payload:H}):A.set(W,{phase:Z,springs:me,payload:H})});const P=J.exports.useContext(ec),U=Uv(P),B=P!==U&&lC(P);js(()=>{B&&ke(g,W=>{W.ctrl.start({default:P})})},[P]),ke(A,(W,Y)=>{if(E.current.size){const ee=g.findIndex(K=>K.key===Y.key);g.splice(ee,1)}}),js(()=>{ke(E.current.size?E.current:A,({phase:W,payload:Y},ee)=>{const{ctrl:K}=ee;ee.phase=W,d?.add(K),B&&W==mi.ENTER&&K.start({default:P}),Y&&(uC(K,Y.ref),(K.ref||d)&&!C.current?K.update(Y):(K.start(Y),C.current&&(C.current=!1)))})},n?void 0:i);const G=W=>J.exports.createElement(J.exports.Fragment,null,g.map((Y,ee)=>{const{springs:K}=A.get(Y)||Y.ctrl,q=W(gt({},K),Y.item,Y,ee);return q&&q.type?J.exports.createElement(q.type,gt({},q.props,{key:ne.str(Y.key)||ne.num(Y.key)?Y.key:Y.ctrl.id,ref:q.ref})):q}));return d?[G,d]:G}let yj=1;function _j(t,{key:e,keys:i=e},r){if(i===null){const n=new Set;return t.map(s=>{const a=r&&r.find(o=>o.item===s&&o.phase!==mi.LEAVE&&!n.has(o));return a?(n.add(a),a.key):yj++})}return ne.und(i)?t:ne.fun(i)?t.map(i):Ti(i)}class bj extends oy{constructor(e,i){super(),this.key=void 0,this.idle=!0,this.calc=void 0,this._active=new Set,this.source=e,this.calc=xu(...i);const r=this._get(),n=Bv(r);iy(this,n.create(r))}advance(e){const i=this._get(),r=this.get();or(i,r)||(Fn(this).setValue(i),this._onChange(i,this.idle)),!this.idle&&mx(this._active)&&Hp(this)}_get(){const e=ne.arr(this.source)?this.source.map(Di):Ti(Di(this.source));return this.calc(...e)}_start(){this.idle&&!mx(this._active)&&(this.idle=!1,ke(Th(this),e=>{e.done=!1}),tr.skipAnimation?(Ae.batchedUpdates(()=>this.advance()),Hp(this)):gh.start(this))}_attach(){let e=1;ke(Ti(this.source),i=>{ln(i)&&Do(i,this),Wv(i)&&(i.idle||this._active.add(i),e=Math.max(e,i.priority+1))}),this.priority=e,this._start()}_detach(){ke(Ti(this.source),e=>{ln(e)&&Su(e,this)}),this._active.clear(),Hp(this)}eventObserved(e){e.type=="change"?e.idle?this.advance():(this._active.add(e.parent),this._start()):e.type=="idle"?this._active.delete(e.parent):e.type=="priority"&&(this.priority=Ti(this.source).reduce((i,r)=>Math.max(i,(Wv(r)?r.priority:0)+1),0))}}function Tj(t){return t.idle!==!1}function mx(t){return!t.size||Array.from(t).every(Tj)}function Hp(t){t.idle||(t.idle=!0,ke(Th(t),e=>{e.done=!0}),wu(t,{type:"idle",parent:t}))}tr.assign({createStringInterpolator:nC,to:(t,e)=>new bj(t,e)});function ly(t,e){if(t==null)return{};var i={},r=Object.keys(t),n,s;for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&(i[n]=t[n]);return i}const xj=["style","children","scrollTop","scrollLeft","viewBox"],wC=/^--/;function wj(t,e){return e==null||typeof e=="boolean"||e===""?"":typeof e=="number"&&e!==0&&!wC.test(t)&&!(Jl.hasOwnProperty(t)&&Jl[t])?e+"px":(""+e).trim()}const vx={};function Sj(t,e){if(!t.nodeType||!t.setAttribute)return!1;const i=t.nodeName==="filter"||t.parentNode&&t.parentNode.nodeName==="filter",r=e,{style:n,children:s,scrollTop:a,scrollLeft:o,viewBox:l}=r,u=ly(r,xj),c=Object.values(u),f=Object.keys(u).map(d=>i||t.hasAttribute(d)?d:vx[d]||(vx[d]=d.replace(/([A-Z])/g,p=>"-"+p.toLowerCase())));s!==void 0&&(t.textContent=s);for(let d in n)if(n.hasOwnProperty(d)){const p=wj(d,n[d]);wC.test(d)?t.style.setProperty(d,p):t.style[d]=p}f.forEach((d,p)=>{t.setAttribute(d,c[p])}),a!==void 0&&(t.scrollTop=a),o!==void 0&&(t.scrollLeft=o),l!==void 0&&t.setAttribute("viewBox",l)}let Jl={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};const Ej=(t,e)=>t+e.charAt(0).toUpperCase()+e.substring(1),Cj=["Webkit","Ms","Moz","O"];Jl=Object.keys(Jl).reduce((t,e)=>(Cj.forEach(i=>t[Ej(i,e)]=t[e]),t),Jl);const kj=["x","y","z"],Pj=/^(matrix|translate|scale|rotate|skew)/,Oj=/^(translate)/,Aj=/^(rotate|skew)/,Wp=(t,e)=>ne.num(t)&&t!==0?t+e:t,Dd=(t,e)=>ne.arr(t)?t.every(i=>Dd(i,e)):ne.num(t)?t===e:parseFloat(t)===e;class Ij extends xh{constructor(e){let{x:i,y:r,z:n}=e,s=ly(e,kj);const a=[],o=[];(i||r||n)&&(a.push([i||0,r||0,n||0]),o.push(l=>[`translate3d(${l.map(u=>Wp(u,"px")).join(",")})`,Dd(l,0)])),er(s,(l,u)=>{if(u==="transform")a.push([l||""]),o.push(c=>[c,c===""]);else if(Pj.test(u)){if(delete s[u],ne.und(l))return;const c=Oj.test(u)?"px":Aj.test(u)?"deg":"";a.push(Ti(l)),o.push(u==="rotate3d"?([f,d,p,g])=>[`rotate3d(${f},${d},${p},${Wp(g,c)})`,Dd(g,0)]:f=>[`${u}(${f.map(d=>Wp(d,c)).join(",")})`,Dd(f,u.startsWith("scale")?1:0)])}}),a.length&&(s.transform=new Dj(a,o)),super(s)}}class Dj extends eC{constructor(e,i){super(),this._value=null,this.inputs=e,this.transforms=i}get(){return this._value||(this._value=this._get())}_get(){let e="",i=!0;return ke(this.inputs,(r,n)=>{const s=Di(r[0]),[a,o]=this.transforms[n](ne.arr(s)?s:r.map(Di));e+=" "+a,i=i&&o}),i?"none":e}observerAdded(e){e==1&&ke(this.inputs,i=>ke(i,r=>ln(r)&&Do(r,this)))}observerRemoved(e){e==0&&ke(this.inputs,i=>ke(i,r=>ln(r)&&Su(r,this)))}eventObserved(e){e.type=="change"&&(this._value=null),wu(this,e)}}const Mj=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Rj=["scrollTop","scrollLeft"];tr.assign({batchedUpdates:Jg.exports.unstable_batchedUpdates,createStringInterpolator:nC,colors:b2});const Lj=Z2(Mj,{applyAnimatedValues:Sj,createAnimatedStyle:t=>new Ij(t),getComponentProps:t=>ly(t,Rj)}),Sh=Lj.animated;var uy={exports:{}},tc={};/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jj=J.exports,SC=60103;tc.Fragment=60107;if(typeof Symbol=="function"&&Symbol.for){var gx=Symbol.for;SC=gx("react.element"),tc.Fragment=gx("react.fragment")}var Nj=jj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Fj=Object.prototype.hasOwnProperty,Uj={key:!0,ref:!0,__self:!0,__source:!0};function EC(t,e,i){var r,n={},s=null,a=null;i!==void 0&&(s=""+i),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)Fj.call(e,r)&&!Uj.hasOwnProperty(r)&&(n[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)n[r]===void 0&&(n[r]=e[r]);return{$$typeof:SC,type:t,key:s,ref:a,props:n,_owner:Nj.current}}tc.jsx=EC;tc.jsxs=EC;uy.exports=tc;const te=uy.exports.jsx,Je=uy.exports.jsxs,Bj="#706f7180",yx="#c5c3c600",zj=t=>t.replace(/\s+/g,"").toLowerCase(),hl=t=>{const{children:e,route:i,submenu:r}=t,[{backgroundColor:n},s]=xC(()=>({backgroundColor:yx,config:sy.stiff})),a=Sh(WE);return te(a,{to:`/${i??zj(e)}`,onMouseOver:()=>s({backgroundColor:Bj}),onMouseLeave:()=>s({backgroundColor:yx}),style:{backgroundColor:n},className:Av.link,children:r?te("h4",{children:e}):te("h3",{children:e})})},Vj=()=>{const[t,e]=J.exports.useState(!1),i=t&&Je("div",{className:Av.projects,children:[te(hl,{submenu:!0,children:"Encounters"}),te(hl,{submenu:!0,children:"Interviews"}),te(hl,{submenu:!0,children:"Mirrorland"})]});return Je("div",{className:Av.root,children:[te(hl,{route:"",children:"Home"}),te(hl,{children:"Inspiration"}),Je("div",{onMouseOver:()=>e(!0),onMouseLeave:()=>e(!1),children:[te("h3",{style:{marginLeft:"10px"},children:"Projects"}),i]})]})};class Hj{constructor(){this._listeners=new Map}addEventListener(e,i){var r;this.removeEventListener(e,i),this._listeners.get(e)||this._listeners.set(e,[]),(r=this._listeners.get(e))===null||r===void 0||r.push(i)}dispatchEvent(e,i){var r;(r=this._listeners.get(e))===null||r===void 0||r.forEach(n=>n(i))}hasEventListener(e){return!!this._listeners.get(e)}removeAllEventListeners(e){e?this._listeners.delete(e):this._listeners=new Map}removeEventListener(e,i){const r=this._listeners.get(e);if(!r)return;const n=r.length,s=r.indexOf(i);s<0||(n===1?this._listeners.delete(e):r.splice(s,1))}}class Qi{constructor(e,i,r){if(typeof e!="number"&&e){this.x=e.x,this.y=e.y;const n=e;this.z=n.z?n.z:0}else if(e!==void 0&&i!==void 0)this.x=e,this.y=i,this.z=r??0;else throw new Error("tsParticles - Vector3d not initialized correctly")}static get origin(){return Qi.create(0,0,0)}get angle(){return Math.atan2(this.y,this.x)}set angle(e){this.updateFromAngle(e,this.length)}get length(){return Math.sqrt(this.getLengthSq())}set length(e){this.updateFromAngle(this.angle,e)}static clone(e){return Qi.create(e.x,e.y,e.z)}static create(e,i,r){return new Qi(e,i,r)}add(e){return Qi.create(this.x+e.x,this.y+e.y,this.z+e.z)}addTo(e){this.x+=e.x,this.y+=e.y,this.z+=e.z}copy(){return Qi.clone(this)}distanceTo(e){return this.sub(e).length}distanceToSq(e){return this.sub(e).getLengthSq()}div(e){return Qi.create(this.x/e,this.y/e,this.z/e)}divTo(e){this.x/=e,this.y/=e,this.z/=e}getLengthSq(){return this.x**2+this.y**2}mult(e){return Qi.create(this.x*e,this.y*e,this.z*e)}multTo(e){this.x*=e,this.y*=e,this.z*=e}rotate(e){return Qi.create(this.x*Math.cos(e)-this.y*Math.sin(e),this.x*Math.sin(e)+this.y*Math.cos(e),0)}setTo(e){this.x=e.x,this.y=e.y;const i=e;this.z=i.z?i.z:0}sub(e){return Qi.create(this.x-e.x,this.y-e.y,this.z-e.z)}subFrom(e){this.x-=e.x,this.y-=e.y,this.z-=e.z}updateFromAngle(e,i){this.x=Math.cos(e)*i,this.y=Math.sin(e)*i}}class Qe extends Qi{constructor(e,i){super(e,i,0)}static get origin(){return Qe.create(0,0)}static clone(e){return Qe.create(e.x,e.y)}static create(e,i){return new Qe(e,i)}}let Wj=Math.random;const qj=new Map;function CC(t){return qj.get(t)||(e=>e)}function Ie(){return Dn(Wj(),0,1-1e-16)}function Dn(t,e,i){return Math.min(Math.max(t,e),i)}function qp(t,e,i,r){return Math.floor((t*i+e*r)/(i+r))}function Ot(t){const e=Wn(t);let i=Ou(t);return e===i&&(i=0),Ie()*(e-i)+i}function he(t){return typeof t=="number"?t:Ot(t)}function Ou(t){return typeof t=="number"?t:t.min}function Wn(t){return typeof t=="number"?t:t.max}function xe(t,e){if(t===e||e===void 0&&typeof t=="number")return t;const i=Ou(t),r=Wn(t);return e!==void 0?{min:Math.min(i,e),max:Math.max(r,e)}:xe(i,r)}function xr(t){const e=t.random,{enable:i,minimumValue:r}=typeof e=="boolean"?{enable:e,minimumValue:0}:e;return he(i?xe(t.value,r):t.value)}function wi(t,e){const i=t.x-e.x,r=t.y-e.y;return{dx:i,dy:r,distance:Math.sqrt(i**2+r**2)}}function At(t,e){return wi(t,e).distance}function $j(t,e,i){if(typeof t=="number")return t*Math.PI/180;switch(t){case"top":return-Math.PI/2;case"top-right":return-Math.PI/4;case"right":return 0;case"bottom-right":return Math.PI/4;case"bottom":return Math.PI/2;case"bottom-left":return 3*Math.PI/4;case"left":return Math.PI;case"top-left":return-3*Math.PI/4;case"inside":return Math.atan2(i.y-e.y,i.x-e.x);case"outside":return Math.atan2(e.y-i.y,e.x-i.x);default:return Ie()*Math.PI*2}}function Gj(t){const e=Qe.origin;return e.length=1,e.angle=t,e}function _x(t,e,i,r){return Qe.create(t.x*(i-r)/(i+r)+e.x*2*r/(i+r),t.y)}function Kj(t){return t.position&&t.position.x!==void 0&&t.position.y!==void 0?{x:t.position.x*t.size.width/100,y:t.position.y*t.size.height/100}:void 0}function kC(t){var e,i,r,n;return{x:((i=(e=t.position)===null||e===void 0?void 0:e.x)!==null&&i!==void 0?i:Ie()*100)*t.size.width/100,y:((n=(r=t.position)===null||r===void 0?void 0:r.y)!==null&&n!==void 0?n:Ie()*100)*t.size.height/100}}function PC(t){var e,i;const r={x:((e=t.position)===null||e===void 0?void 0:e.x)!==void 0?he(t.position.x):void 0,y:((i=t.position)===null||i===void 0?void 0:i.y)!==void 0?he(t.position.y):void 0};return kC({size:t.size,position:r})}function Xj(t){var e,i,r,n;return{x:(i=(e=t.position)===null||e===void 0?void 0:e.x)!==null&&i!==void 0?i:Ie()*t.size.width,y:(n=(r=t.position)===null||r===void 0?void 0:r.y)!==null&&n!==void 0?n:Ie()*t.size.height}}function OC(t){return t?t.endsWith("%")?parseFloat(t)/100:parseFloat(t):1}function bx(t,e,i,r,n,s){const a={bounced:!1};return e.min<r.min||e.min>r.max||e.max<r.min||e.max>r.max||(t.max>=i.min&&t.max<=(i.max+i.min)/2&&n>0||t.min<=i.max&&t.min>(i.max+i.min)/2&&n<0)&&(a.velocity=n*-s,a.bounced=!0),a}function Yj(t,e){const i=st(e,r=>t.matches(r));return i instanceof Array?i.some(r=>r):i}function Xs(){return typeof window>"u"||!window||typeof window.document>"u"||!window.document}function Qj(){return!Xs()&&typeof matchMedia<"u"}function AC(t){if(!!Qj())return matchMedia(t)}function Jj(){return Xs()?t=>setTimeout(t):t=>(requestAnimationFrame||setTimeout)(t)}function Zj(){return Xs()?t=>clearTimeout(t):t=>(cancelAnimationFrame||clearTimeout)(t)}function rt(t,e){return t===e||e instanceof Array&&e.indexOf(t)>-1}async function eN(t,e){try{await document.fonts.load(`${e??"400"} 36px '${t??"Verdana"}'`)}catch{}}function IC(t){return Math.floor(Ie()*t.length)}function ic(t,e,i=!0){return t[e!==void 0&&i?e%t.length:IC(t)]}function nc(t,e,i,r,n){return tN(rc(t,r??0),e,i,n)}function tN(t,e,i,r){let n=!0;return(!r||r==="bottom")&&(n=t.top<e.height+i.x),n&&(!r||r==="left")&&(n=t.right>i.x),n&&(!r||r==="right")&&(n=t.left<e.width+i.y),n&&(!r||r==="top")&&(n=t.bottom>i.y),n}function rc(t,e){return{bottom:t.y+e,left:t.x-e,right:t.x+e,top:t.y-e}}function Et(t,...e){for(const i of e){if(i==null)continue;if(typeof i!="object"){t=i;continue}const r=Array.isArray(i);r&&(typeof t!="object"||!t||!Array.isArray(t))?t=[]:!r&&(typeof t!="object"||!t||Array.isArray(t))&&(t={});for(const n in i){if(n==="__proto__")continue;const s=i,a=s[n],o=typeof a=="object",l=t;l[n]=o&&Array.isArray(a)?a.map(u=>Et(l[n],u)):Et(l[n],a)}}return t}function cy(t,e){return!!RC(e,i=>i.enable&&rt(t,i.mode))}function dy(t,e,i){st(e,r=>{const n=r.mode;r.enable&&rt(t,n)&&iN(r,i)})}function iN(t,e){const i=t.selectors;st(i,r=>{e(r,t)})}function DC(t,e){if(!(!e||!t))return RC(t,i=>Yj(e,i.selectors))}function Xv(t){return{position:t.getPosition(),radius:t.getRadius(),mass:t.getMass(),velocity:t.velocity,factor:Qe.create(xr(t.options.bounce.horizontal),xr(t.options.bounce.vertical))}}function MC(t,e){const{x:i,y:r}=t.velocity.sub(e.velocity),[n,s]=[t.position,e.position],{dx:a,dy:o}=wi(s,n);if(i*a+r*o<0)return;const l=-Math.atan2(o,a),u=t.mass,c=e.mass,f=t.velocity.rotate(l),d=e.velocity.rotate(l),p=_x(f,d,u,c),g=_x(d,f,u,c),b=p.rotate(-l),y=g.rotate(-l);t.velocity.x=b.x*t.factor.x,t.velocity.y=b.y*t.factor.y,e.velocity.x=y.x*e.factor.x,e.velocity.y=y.y*e.factor.y}function nN(t,e){const i=t.getPosition(),r=t.getRadius(),n=rc(i,r),s=bx({min:n.left,max:n.right},{min:n.top,max:n.bottom},{min:e.left,max:e.right},{min:e.top,max:e.bottom},t.velocity.x,xr(t.options.bounce.horizontal));s.bounced&&(s.velocity!==void 0&&(t.velocity.x=s.velocity),s.position!==void 0&&(t.position.x=s.position));const a=bx({min:n.top,max:n.bottom},{min:n.left,max:n.right},{min:e.top,max:e.bottom},{min:e.left,max:e.right},t.velocity.y,xr(t.options.bounce.vertical));a.bounced&&(a.velocity!==void 0&&(t.velocity.y=a.velocity),a.position!==void 0&&(t.position.y=a.position))}function st(t,e){return t instanceof Array?t.map((i,r)=>e(i,r)):e(t,0)}function hn(t,e,i){return t instanceof Array?ic(t,e,i):t}function RC(t,e){return t instanceof Array?t.find((i,r)=>e(i,r)):e(t,0)?t:void 0}const bf="random",Md="mid",Eh=new Map;function LC(t){Eh.set(t.key,t)}function $p(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+(e-t)*6*i:i<1/2?e:i<2/3?t+(e-t)*(2/3-i)*6:t}function rN(t){for(const[,s]of Eh)if(t.startsWith(s.stringPrefix))return s.parseString(t);const e=/^#?([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,i=t.replace(e,(s,a,o,l,u)=>a+a+o+o+l+l+(u!==void 0?u+u:"")),r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,n=r.exec(i);return n?{a:n[4]!==void 0?parseInt(n[4],16)/255:1,b:parseInt(n[3],16),g:parseInt(n[2],16),r:parseInt(n[1],16)}:void 0}function pn(t,e,i=!0){if(!t)return;const r=typeof t=="string"?{value:t}:t;if(typeof r.value=="string")return jC(r.value,e,i);if(r.value instanceof Array)return pn({value:ic(r.value,e,i)});for(const[,n]of Eh){const s=n.handleRangeColor(r);if(s)return s}}function jC(t,e,i=!0){if(!t)return;const r=typeof t=="string"?{value:t}:t;if(typeof r.value=="string")return r.value===bf?FC():sN(r.value);if(r.value instanceof Array)return jC({value:ic(r.value,e,i)});for(const[,n]of Eh){const s=n.handleColor(r);if(s)return s}}function cs(t,e,i=!0){const r=pn(t,e,i);return r?NC(r):void 0}function NC(t){const e=t.r/255,i=t.g/255,r=t.b/255,n=Math.max(e,i,r),s=Math.min(e,i,r),a={h:0,l:(n+s)/2,s:0};return n!==s&&(a.s=a.l<.5?(n-s)/(n+s):(n-s)/(2-n-s),a.h=e===n?(i-r)/(n-s):a.h=i===n?2+(r-e)/(n-s):4+(e-i)/(n-s)),a.l*=100,a.s*=100,a.h*=60,a.h<0&&(a.h+=360),a.h>=360&&(a.h-=360),a}function sN(t){return rN(t)}function ao(t){const e={b:0,g:0,r:0},i={h:t.h/360,l:t.l/100,s:t.s/100};if(!i.s)e.b=i.l,e.g=i.l,e.r=i.l;else{const r=i.l<.5?i.l*(1+i.s):i.l+i.s-i.l*i.s,n=2*i.l-r;e.r=$p(n,r,i.h+1/3),e.g=$p(n,r,i.h),e.b=$p(n,r,i.h-1/3)}return e.r=Math.floor(e.r*255),e.g=Math.floor(e.g*255),e.b=Math.floor(e.b*255),e}function aN(t){const e=ao(t);return{a:t.a,b:e.b,g:e.g,r:e.r}}function FC(t){const e=t??0;return{b:Math.floor(Ot(xe(e,256))),g:Math.floor(Ot(xe(e,256))),r:Math.floor(Ot(xe(e,256)))}}function Yn(t,e){return`rgba(${t.r}, ${t.g}, ${t.b}, ${e??1})`}function oo(t,e){return`hsla(${t.h}, ${t.s}%, ${t.l}%, ${e??1})`}function fy(t,e,i,r){let n=t,s=e;return n.r===void 0&&(n=ao(t)),s.r===void 0&&(s=ao(e)),{b:qp(n.b,s.b,i,r),g:qp(n.g,s.g,i,r),r:qp(n.r,s.r,i,r)}}function Yv(t,e,i){var r,n;if(i===bf)return FC();if(i===Md){const s=(r=t.getFillColor())!==null&&r!==void 0?r:t.getStrokeColor(),a=(n=e?.getFillColor())!==null&&n!==void 0?n:e?.getStrokeColor();if(s&&a&&e)return fy(s,a,t.getRadius(),e.getRadius());{const o=s??a;if(o)return ao(o)}}else return i}function UC(t,e,i){const r=typeof t=="string"?t:t.value;return r===bf?i?pn({value:r}):e?bf:Md:r===Md?Md:pn({value:r})}function Tx(t){return t!==void 0?{h:t.h.value,s:t.s.value,l:t.l.value}:void 0}function BC(t,e,i){const r={h:{enable:!1,value:t.h},s:{enable:!1,value:t.s},l:{enable:!1,value:t.l}};return e&&(Gp(r.h,e.h,i),Gp(r.s,e.s,i),Gp(r.l,e.l,i)),r}function Gp(t,e,i){t.enable=e.enable,t.enable?(t.velocity=he(e.speed)/100*i,t.decay=1-he(e.decay),t.status="increasing",t.loops=0,t.maxLoops=he(e.count),e.sync||(t.velocity*=Ie(),t.value*=Ie()),t.initialValue=t.value):t.velocity=0}function Zl(t,e,i){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(i.x,i.y),t.closePath()}function oN(t,e,i,r){t.beginPath(),t.moveTo(e.x,e.y),t.lineTo(i.x,i.y),t.lineTo(r.x,r.y),t.closePath()}function lN(t,e,i){t.fillStyle=i??"rgba(0,0,0,0)",t.fillRect(0,0,e.width,e.height)}function uN(t,e,i,r){!i||(t.globalAlpha=r,t.drawImage(i,0,0,e.width,e.height),t.globalAlpha=1)}function Kp(t,e){t.clearRect(0,0,e.width,e.height)}function cN(t){var e,i,r,n,s;const{container:a,context:o,particle:l,delta:u,colorStyles:c,backgroundMask:f,composite:d,radius:p,opacity:g,shadow:b,transform:y}=t,T=l.getPosition(),S=l.rotation+(l.pathRotation?l.velocity.angle:0),I={sin:Math.sin(S),cos:Math.cos(S)},O={a:I.cos*((e=y.a)!==null&&e!==void 0?e:1),b:I.sin*((i=y.b)!==null&&i!==void 0?i:1),c:-I.sin*((r=y.c)!==null&&r!==void 0?r:1),d:I.cos*((n=y.d)!==null&&n!==void 0?n:1)};o.setTransform(O.a,O.b,O.c,O.d,T.x,T.y),o.beginPath(),f&&(o.globalCompositeOperation=d);const M=l.shadowColor;b.enable&&M&&(o.shadowBlur=b.blur,o.shadowColor=Yn(M),o.shadowOffsetX=b.offset.x,o.shadowOffsetY=b.offset.y),c.fill&&(o.fillStyle=c.fill);const R=(s=l.strokeWidth)!==null&&s!==void 0?s:0;o.lineWidth=R,c.stroke&&(o.strokeStyle=c.stroke),dN(a,o,l,p,g,u),R>0&&o.stroke(),l.close&&o.closePath(),l.fill&&o.fill(),fN(a,o,l,p,g,u),o.globalCompositeOperation="source-over",o.setTransform(1,0,0,1,0,0)}function dN(t,e,i,r,n,s){if(!i.shape)return;const a=t.drawers.get(i.shape);!a||a.draw(e,i,r,n,s,t.retina.pixelRatio)}function fN(t,e,i,r,n,s){if(!i.shape)return;const a=t.drawers.get(i.shape);!a?.afterEffect||a.afterEffect(e,i,r,n,s,t.retina.pixelRatio)}function hN(t,e,i){!e.draw||e.draw(t,i)}function pN(t,e,i,r){!e.drawParticle||e.drawParticle(t,i,r)}function mN(t,e,i){return{h:t.h,s:t.s,l:t.l+(e==="darken"?-1:1)*i}}const eu="generated",xx="touchend",vN="pointerdown",gN="pointerup",Ys="pointermove",yN="touchstart",_N="touchmove",Qv="pointerleave",bN="pointerout",TN="touchcancel",xN="resize",wN="visibilitychange";function SN(t,e,i){var r;const n=e[i];n!==void 0&&(t[i]=((r=t[i])!==null&&r!==void 0?r:1)*n)}class EN{constructor(e){this.container=e,this.size={height:0,width:0},this._context=null,this._generated=!1,this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[],this._mutationObserver=!Xs()&&typeof MutationObserver<"u"?new MutationObserver(i=>{for(const r of i)r.type==="attributes"&&r.attributeName==="style"&&this._repairStyle()}):void 0}get _fullScreen(){return this.container.actualOptions.fullScreen.enable}clear(){const e=this.container.actualOptions,i=e.particles.move.trail,r=this._trailFill;e.backgroundMask.enable?this.paint():i.enable&&i.length>0&&r?r.color?this._paintBase(Yn(r.color,r.opacity)):r.image&&this._paintImage(r.image,r.opacity):this.draw(n=>{Kp(n,this.size)})}destroy(){var e,i;(e=this._mutationObserver)===null||e===void 0||e.disconnect(),this._generated?(i=this.element)===null||i===void 0||i.remove():this._resetOriginalStyle(),this.stop(),this._preDrawUpdaters=[],this._postDrawUpdaters=[],this._resizePlugins=[],this._colorPlugins=[]}draw(e){if(!!this._context)return e(this._context)}drawParticle(e,i){var r;if(e.spawning||e.destroyed)return;const n=e.getRadius();if(n<=0)return;const s=e.getFillColor(),a=(r=e.getStrokeColor())!==null&&r!==void 0?r:s;let[o,l]=this._getPluginParticleColors(e);o||(o=s),l||(l=a),!(!o&&!l)&&this.draw(u=>{var c,f,d,p;const g=this.container.actualOptions,b=e.options.zIndex,y=(1-e.zIndexFactor)**b.opacityRate,T=(d=(c=e.bubble.opacity)!==null&&c!==void 0?c:(f=e.opacity)===null||f===void 0?void 0:f.value)!==null&&d!==void 0?d:1,S=(p=e.strokeOpacity)!==null&&p!==void 0?p:T,I=T*y,O=S*y,M={},R={fill:o?oo(o,I):void 0};R.stroke=l?oo(l,O):R.fill,this._applyPreDrawUpdaters(u,e,n,I,R,M),cN({container:this.container,context:u,particle:e,delta:i,colorStyles:R,backgroundMask:g.backgroundMask.enable,composite:g.backgroundMask.composite,radius:n*(1-e.zIndexFactor)**b.sizeRate,opacity:I,shadow:e.options.shadow,transform:M}),this._applyPostDrawUpdaters(e)})}drawParticlePlugin(e,i,r){this.draw(n=>{pN(n,e,i,r)})}drawPlugin(e,i){this.draw(r=>{hN(r,e,i)})}async init(){var e;this.resize(),this._initStyle(),this._initCover();try{await this._initTrail()}catch(i){console.error(i)}this.initBackground(),this.element&&((e=this._mutationObserver)===null||e===void 0||e.observe(this.element,{attributes:!0})),this.initUpdaters(),this.initPlugins(),this.paint()}initBackground(){const e=this.container.actualOptions,i=e.background,r=this.element,n=r?.style;if(!!n){if(i.color){const s=pn(i.color);n.backgroundColor=s?Yn(s,i.opacity):""}else n.backgroundColor="";n.backgroundImage=i.image||"",n.backgroundPosition=i.position||"",n.backgroundRepeat=i.repeat||"",n.backgroundSize=i.size||""}}initPlugins(){this._resizePlugins=[];for(const[,e]of this.container.plugins)e.resize&&this._resizePlugins.push(e),(e.particleFillColor||e.particleStrokeColor)&&this._colorPlugins.push(e)}initUpdaters(){this._preDrawUpdaters=[],this._postDrawUpdaters=[];for(const e of this.container.particles.updaters)e.afterDraw&&this._postDrawUpdaters.push(e),(e.getColorStyles||e.getTransformValues||e.beforeDraw)&&this._preDrawUpdaters.push(e)}loadCanvas(e){var i,r;this._generated&&((i=this.element)===null||i===void 0||i.remove()),this._generated=e.dataset&&eu in e.dataset?e.dataset[eu]==="true":this._generated,this.element=e,this.element.ariaHidden="true",this._originalStyle=Et({},this.element.style),this.size.height=e.offsetHeight,this.size.width=e.offsetWidth,this._context=this.element.getContext("2d"),(r=this._mutationObserver)===null||r===void 0||r.observe(this.element,{attributes:!0}),this.container.retina.init(),this.initBackground()}paint(){const e=this.container.actualOptions;this.draw(i=>{e.backgroundMask.enable&&e.backgroundMask.cover?(Kp(i,this.size),this._paintBase(this._coverColorStyle)):this._paintBase()})}resize(){if(!this.element)return;const e=this.container,i=e.retina.pixelRatio,r=e.canvas.size,n={width:this.element.offsetWidth*i,height:this.element.offsetHeight*i};if(n.height===r.height&&n.width===r.width&&n.height===this.element.height&&n.width===this.element.width)return;const s=Object.assign({},r);this.element.width=r.width=this.element.offsetWidth*i,this.element.height=r.height=this.element.offsetHeight*i,this.container.started&&(this.resizeFactor={width:r.width/s.width,height:r.height/s.height})}stop(){this.draw(e=>{Kp(e,this.size)})}async windowResize(){if(!this.element)return;this.resize();const e=this.container,i=e.updateActualOptions();e.particles.setDensity(),this._applyResizePlugins(),i&&await e.refresh()}_applyPostDrawUpdaters(e){var i;for(const r of this._postDrawUpdaters)(i=r.afterDraw)===null||i===void 0||i.call(r,e)}_applyPreDrawUpdaters(e,i,r,n,s,a){var o;for(const l of this._preDrawUpdaters){if(l.getColorStyles){const{fill:u,stroke:c}=l.getColorStyles(i,e,r,n);u&&(s.fill=u),c&&(s.stroke=c)}if(l.getTransformValues){const u=l.getTransformValues(i);for(const c in u)SN(a,u,c)}(o=l.beforeDraw)===null||o===void 0||o.call(l,i)}}_applyResizePlugins(){for(const e of this._resizePlugins)e.resize&&e.resize()}_getPluginParticleColors(e){let i,r;for(const n of this._colorPlugins)if(!i&&n.particleFillColor&&(i=cs(n.particleFillColor(e))),!r&&n.particleStrokeColor&&(r=cs(n.particleStrokeColor(e))),i&&r)break;return[i,r]}_initCover(){const e=this.container.actualOptions,i=e.backgroundMask.cover,r=i.color,n=pn(r);if(n){const s={r:n.r,g:n.g,b:n.b,a:i.opacity};this._coverColorStyle=Yn(s,s.a)}}_initStyle(){const e=this.element,i=this.container.actualOptions;if(!!e){this._fullScreen?(this._originalStyle=Et({},e.style),this._setFullScreenStyle()):this._resetOriginalStyle();for(const r in i.style){if(!r||!i.style)continue;const n=i.style[r];!n||e.style.setProperty(r,n,"important")}}}async _initTrail(){const e=this.container.actualOptions,i=e.particles.move.trail,r=i.fill;if(!!i.enable)if(r.color){const n=pn(r.color);if(!n)return;const s=e.particles.move.trail;this._trailFill={color:Object.assign({},n),opacity:1/s.length}}else await new Promise((n,s)=>{if(!r.image)return;const a=document.createElement("img");a.addEventListener("load",()=>{this._trailFill={image:a,opacity:1/i.length},n()}),a.addEventListener("error",o=>{s(o.error)}),a.src=r.image})}_paintBase(e){this.draw(i=>{lN(i,this.size,e)})}_paintImage(e,i){this.draw(r=>{uN(r,this.size,e,i)})}_repairStyle(){var e,i;const r=this.element;!r||((e=this._mutationObserver)===null||e===void 0||e.disconnect(),this._initStyle(),this.initBackground(),(i=this._mutationObserver)===null||i===void 0||i.observe(r,{attributes:!0}))}_resetOriginalStyle(){const e=this.element,i=this._originalStyle;!(e&&i)||(e.style.position=i.position,e.style.zIndex=i.zIndex,e.style.top=i.top,e.style.left=i.left,e.style.width=i.width,e.style.height=i.height)}_setFullScreenStyle(){const e=this.element;if(!e)return;const i="important";e.style.setProperty("position","fixed",i),e.style.setProperty("z-index",this.container.actualOptions.fullScreen.zIndex.toString(10),i),e.style.setProperty("top","0",i),e.style.setProperty("left","0",i),e.style.setProperty("width","100%",i),e.style.setProperty("height","100%",i)}}function sn(t,e,i,r,n){if(r){let s={passive:!0};typeof n=="boolean"?s.capture=n:n!==void 0&&(s=n),t.addEventListener(e,i,s)}else{const s=n;t.removeEventListener(e,i,s)}}class CN{constructor(e){this.container=e,this.canPush=!0,this.handlers={mouseMove:i=>this.mouseTouchMove(i),touchStart:i=>this.mouseTouchMove(i),touchMove:i=>this.mouseTouchMove(i),touchEnd:()=>this.mouseTouchFinish(),mouseLeave:()=>this.mouseTouchFinish(),touchCancel:()=>this.mouseTouchFinish(),touchEndClick:i=>this.mouseTouchClick(i),mouseUp:i=>this.mouseTouchClick(i),mouseDown:()=>this.mouseDown(),visibilityChange:()=>this.handleVisibilityChange(),themeChange:i=>this.handleThemeChange(i),oldThemeChange:i=>this.handleThemeChange(i),resize:()=>this.handleWindowResize()}}addListeners(){this.manageListeners(!0)}removeListeners(){this.manageListeners(!1)}doMouseTouchClick(e){const i=this.container,r=i.actualOptions;if(this.canPush){const n=i.interactivity.mouse,s=n.position;if(!s)return;n.clickPosition=Object.assign({},s),n.clickTime=new Date().getTime();const a=r.interactivity.events.onClick;st(a.mode,o=>this.handleClickMode(o))}e.type==="touchend"&&setTimeout(()=>this.mouseTouchFinish(),500)}handleClickMode(e){this.container.handleClickMode(e)}handleThemeChange(e){const i=e,r=this.container,n=r.options,s=n.defaultThemes,a=i.matches?s.dark:s.light,o=n.themes.find(l=>l.name===a);o&&o.default.auto&&r.loadTheme(a)}handleVisibilityChange(){const e=this.container,i=e.actualOptions;this.mouseTouchFinish(),i.pauseOnBlur&&(document?.hidden?(e.pageHidden=!0,e.pause()):(e.pageHidden=!1,e.getAnimationStatus()?e.play(!0):e.draw(!0)))}handleWindowResize(){this.resizeTimeout&&(clearTimeout(this.resizeTimeout),delete this.resizeTimeout),this.resizeTimeout=setTimeout(async()=>{var e;return(e=this.container.canvas)===null||e===void 0?void 0:e.windowResize()},this.container.actualOptions.interactivity.events.resize.delay*1e3)}manageListeners(e){var i;const r=this.handlers,n=this.container,s=n.actualOptions,a=s.interactivity.detectsOn;let o=Qv;if(a==="window")n.interactivity.element=window,o=bN;else if(a==="parent"&&n.canvas.element){const f=n.canvas.element;n.interactivity.element=(i=f.parentElement)!==null&&i!==void 0?i:f.parentNode}else n.interactivity.element=n.canvas.element;const l=AC("(prefers-color-scheme: dark)");l&&(l.addEventListener!==void 0?sn(l,"change",r.themeChange,e):l.addListener!==void 0&&(e?l.addListener(r.oldThemeChange):l.removeListener(r.oldThemeChange)));const u=n.interactivity.element;if(!u)return;const c=u;(s.interactivity.events.onHover.enable||s.interactivity.events.onClick.enable)&&(sn(u,Ys,r.mouseMove,e),sn(u,yN,r.touchStart,e),sn(u,_N,r.touchMove,e),s.interactivity.events.onClick.enable?(sn(u,xx,r.touchEndClick,e),sn(u,gN,r.mouseUp,e),sn(u,vN,r.mouseDown,e)):sn(u,xx,r.touchEnd,e),sn(u,o,r.mouseLeave,e),sn(u,TN,r.touchCancel,e)),n.canvas.element&&(n.canvas.element.style.pointerEvents=c===n.canvas.element?"initial":"none"),s.interactivity.events.resize&&(typeof ResizeObserver<"u"?this.resizeObserver&&!e?(n.canvas.element&&this.resizeObserver.unobserve(n.canvas.element),this.resizeObserver.disconnect(),delete this.resizeObserver):!this.resizeObserver&&e&&n.canvas.element&&(this.resizeObserver=new ResizeObserver(f=>{!f.find(p=>p.target===n.canvas.element)||this.handleWindowResize()}),this.resizeObserver.observe(n.canvas.element)):sn(window,xN,r.resize,e)),document&&sn(document,wN,r.visibilityChange,e,!1)}mouseDown(){const e=this.container.interactivity;if(e){const i=e.mouse;i.clicking=!0,i.downPosition=i.position}}mouseTouchClick(e){const i=this.container,r=i.actualOptions,n=i.interactivity.mouse;n.inside=!0;let s=!1;const a=n.position;if(!(!a||!r.interactivity.events.onClick.enable)){for(const[,o]of i.plugins)if(!!o.clickPositionValid&&(s=o.clickPositionValid(a),s))break;s||this.doMouseTouchClick(e),n.clicking=!1}}mouseTouchFinish(){const e=this.container.interactivity;if(!e)return;const i=e.mouse;delete i.position,delete i.clickPosition,delete i.downPosition,e.status=Qv,i.inside=!1,i.clicking=!1}mouseTouchMove(e){var i,r,n,s,a,o,l;const u=this.container,c=u.actualOptions;if(!(!((i=u.interactivity)===null||i===void 0)&&i.element))return;u.interactivity.mouse.inside=!0;let f;const d=u.canvas.element;if(e.type.startsWith("pointer")){this.canPush=!0;const g=e;if(u.interactivity.element===window){if(d){const b=d.getBoundingClientRect();f={x:g.clientX-b.left,y:g.clientY-b.top}}}else if(c.interactivity.detectsOn==="parent"){const b=g.target,y=g.currentTarget,T=u.canvas.element;if(b&&y&&T){const S=b.getBoundingClientRect(),I=y.getBoundingClientRect(),O=T.getBoundingClientRect();f={x:g.offsetX+2*S.left-(I.left+O.left),y:g.offsetY+2*S.top-(I.top+O.top)}}else f={x:(r=g.offsetX)!==null&&r!==void 0?r:g.clientX,y:(n=g.offsetY)!==null&&n!==void 0?n:g.clientY}}else g.target===u.canvas.element&&(f={x:(s=g.offsetX)!==null&&s!==void 0?s:g.clientX,y:(a=g.offsetY)!==null&&a!==void 0?a:g.clientY})}else{this.canPush=e.type!=="touchmove";const g=e,b=g.touches[g.touches.length-1],y=d?.getBoundingClientRect();f={x:b.clientX-((o=y?.left)!==null&&o!==void 0?o:0),y:b.clientY-((l=y?.top)!==null&&l!==void 0?l:0)}}const p=u.retina.pixelRatio;f&&(f.x*=p,f.y*=p),u.interactivity.mouse.position=f,u.interactivity.status=Ys}}function kN(t,e=60,i=!1){return{value:t,factor:i?60/e:60*t/1e3}}class PN{constructor(e){this.container=e}async nextFrame(e){var i;try{const r=this.container;if(!r.smooth&&r.lastFrameTime!==void 0&&e<r.lastFrameTime+1e3/r.fpsLimit){r.draw(!1);return}(i=r.lastFrameTime)!==null&&i!==void 0||(r.lastFrameTime=e);const n=kN(e-r.lastFrameTime,r.fpsLimit,r.smooth);if(r.lifeTime+=n.value,r.lastFrameTime=e,n.value>1e3){r.draw(!1);return}if(await r.particles.draw(n),r.duration>0&&r.lifeTime>r.duration){r.destroy();return}r.getAnimationStatus()&&r.draw(!1)}catch(r){console.error("tsParticles error in animation loop",r)}}}class yt{constructor(){this.value=""}static create(e,i){const r=new yt;return r.load(e),i!==void 0&&(typeof i=="string"||i instanceof Array?r.load({value:i}):r.load(i)),r}load(e){e?.value!==void 0&&(this.value=e.value)}}class ON{constructor(){this.color=new yt,this.color.value="",this.image="",this.position="",this.repeat="",this.size="",this.opacity=1}load(e){!e||(e.color!==void 0&&(this.color=yt.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image),e.position!==void 0&&(this.position=e.position),e.repeat!==void 0&&(this.repeat=e.repeat),e.size!==void 0&&(this.size=e.size),e.opacity!==void 0&&(this.opacity=e.opacity))}}class AN{constructor(){this.color=new yt,this.color.value="#fff",this.opacity=1}load(e){!e||(e.color!==void 0&&(this.color=yt.create(this.color,e.color)),e.opacity!==void 0&&(this.opacity=e.opacity))}}class IN{constructor(){this.composite="destination-out",this.cover=new AN,this.enable=!1}load(e){if(!!e){if(e.composite!==void 0&&(this.composite=e.composite),e.cover!==void 0){const i=e.cover,r=typeof e.cover=="string"?{color:e.cover}:e.cover;this.cover.load(i.color!==void 0?i:{color:r})}e.enable!==void 0&&(this.enable=e.enable)}}}class DN{constructor(){this.enable=!0,this.zIndex=0}load(e){!e||(e.enable!==void 0&&(this.enable=e.enable),e.zIndex!==void 0&&(this.zIndex=e.zIndex))}}class MN{constructor(){this.enable=!1,this.mode=[]}load(e){!e||(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode))}}class wx{constructor(){this.selectors=[],this.enable=!1,this.mode=[],this.type="circle"}get el(){return this.elementId}set el(e){this.elementId=e}get elementId(){return this.ids}set elementId(e){this.ids=e}get ids(){return st(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=st(e,i=>`#${i}`)}load(e){var i,r;if(!e)return;const n=(r=(i=e.ids)!==null&&i!==void 0?i:e.elementId)!==null&&r!==void 0?r:e.el;n!==void 0&&(this.ids=n),e.selectors!==void 0&&(this.selectors=e.selectors),e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),e.type!==void 0&&(this.type=e.type)}}class RN{constructor(){this.enable=!1,this.force=2,this.smooth=10}load(e){!e||(e.enable!==void 0&&(this.enable=e.enable),e.force!==void 0&&(this.force=e.force),e.smooth!==void 0&&(this.smooth=e.smooth))}}class LN{constructor(){this.enable=!1,this.mode=[],this.parallax=new RN}load(e){!e||(e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),this.parallax.load(e.parallax))}}class jN{constructor(){this.delay=.5,this.enable=!0}load(e){e!==void 0&&(e.delay!==void 0&&(this.delay=e.delay),e.enable!==void 0&&(this.enable=e.enable))}}class NN{constructor(){this.onClick=new MN,this.onDiv=new wx,this.onHover=new LN,this.resize=new jN}get onclick(){return this.onClick}set onclick(e){this.onClick=e}get ondiv(){return this.onDiv}set ondiv(e){this.onDiv=e}get onhover(){return this.onHover}set onhover(e){this.onHover=e}load(e){var i,r,n;if(!e)return;this.onClick.load((i=e.onClick)!==null&&i!==void 0?i:e.onclick);const s=(r=e.onDiv)!==null&&r!==void 0?r:e.ondiv;s!==void 0&&(this.onDiv=st(s,a=>{const o=new wx;return o.load(a),o})),this.onHover.load((n=e.onHover)!==null&&n!==void 0?n:e.onhover),typeof e.resize=="boolean"?this.resize.enable=e.resize:this.resize.load(e.resize)}}class FN{constructor(e,i){this._engine=e,this._container=i}load(e){if(!!e&&this._container){const i=this._engine.plugins.interactors.get(this._container);if(i)for(const r of i)r.loadModeOptions&&r.loadModeOptions(this,e)}}}class zC{constructor(e,i){this.detectsOn="window",this.events=new NN,this.modes=new FN(e,i)}get detect_on(){return this.detectsOn}set detect_on(e){this.detectsOn=e}load(e){var i;if(!e)return;const r=(i=e.detectsOn)!==null&&i!==void 0?i:e.detect_on;r!==void 0&&(this.detectsOn=r),this.events.load(e.events),this.modes.load(e.modes)}}class UN{load(e){var i,r;!e||(e.position!==void 0&&(this.position={x:(i=e.position.x)!==null&&i!==void 0?i:50,y:(r=e.position.y)!==null&&r!==void 0?r:50}),e.options!==void 0&&(this.options=Et({},e.options)))}}class BN{constructor(){this.maxWidth=1/0,this.options={},this.mode="canvas"}load(e){!e||(e.maxWidth!==void 0&&(this.maxWidth=e.maxWidth),e.mode!==void 0&&(e.mode==="screen"?this.mode="screen":this.mode="canvas"),e.options!==void 0&&(this.options=Et({},e.options)))}}class zN{constructor(){this.auto=!1,this.mode="any",this.value=!1}load(e){!e||(e.auto!==void 0&&(this.auto=e.auto),e.mode!==void 0&&(this.mode=e.mode),e.value!==void 0&&(this.value=e.value))}}class VN{constructor(){this.name="",this.default=new zN}load(e){!e||(e.name!==void 0&&(this.name=e.name),this.default.load(e.default),e.options!==void 0&&(this.options=Et({},e.options)))}}class Xp{constructor(){this.count=0,this.enable=!1,this.offset=0,this.speed=1,this.decay=0,this.sync=!0}load(e){!e||(e.count!==void 0&&(this.count=xe(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(this.offset=xe(e.offset)),e.speed!==void 0&&(this.speed=xe(e.speed)),e.decay!==void 0&&(this.decay=xe(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class HN{constructor(){this.h=new Xp,this.s=new Xp,this.l=new Xp}load(e){!e||(this.h.load(e.h),this.s.load(e.s),this.l.load(e.l))}}class lo extends yt{constructor(){super(),this.animation=new HN}static create(e,i){const r=new lo;return r.load(e),i!==void 0&&(typeof i=="string"||i instanceof Array?r.load({value:i}):r.load(i)),r}load(e){if(super.load(e),!e)return;const i=e.animation;i!==void 0&&(i.enable!==void 0?this.animation.h.load(i):this.animation.load(e.animation))}}class WN{constructor(){this.speed=2}load(e){!e||e.speed!==void 0&&(this.speed=e.speed)}}class qN{constructor(){this.enable=!0,this.retries=0}load(e){!e||(e.enable!==void 0&&(this.enable=e.enable),e.retries!==void 0&&(this.retries=e.retries))}}class $N{constructor(){this.enable=!1,this.minimumValue=0}load(e){!e||(e.enable!==void 0&&(this.enable=e.enable),e.minimumValue!==void 0&&(this.minimumValue=e.minimumValue))}}class bn{constructor(){this.random=new $N,this.value=0}load(e){!e||(typeof e.random=="boolean"?this.random.enable=e.random:this.random.load(e.random),e.value!==void 0&&(this.value=xe(e.value,this.random.enable?this.random.minimumValue:void 0)))}}class Sx extends bn{constructor(){super(),this.random.minimumValue=.1,this.value=1}}class VC{constructor(){this.horizontal=new Sx,this.vertical=new Sx}load(e){!e||(this.horizontal.load(e.horizontal),this.vertical.load(e.vertical))}}class GN{constructor(){this.absorb=new WN,this.bounce=new VC,this.enable=!1,this.mode="bounce",this.overlap=new qN}load(e){!e||(this.absorb.load(e.absorb),this.bounce.load(e.bounce),e.enable!==void 0&&(this.enable=e.enable),e.mode!==void 0&&(this.mode=e.mode),this.overlap.load(e.overlap))}}class KN{constructor(){this.offset=0,this.value=90}load(e){!e||(e.offset!==void 0&&(this.offset=xe(e.offset)),e.value!==void 0&&(this.value=xe(e.value)))}}class XN{constructor(){this.distance=200,this.enable=!1,this.rotate={x:3e3,y:3e3}}get rotateX(){return this.rotate.x}set rotateX(e){this.rotate.x=e}get rotateY(){return this.rotate.y}set rotateY(e){this.rotate.y=e}load(e){var i,r,n,s;if(!e)return;e.distance!==void 0&&(this.distance=xe(e.distance)),e.enable!==void 0&&(this.enable=e.enable);const a=(r=(i=e.rotate)===null||i===void 0?void 0:i.x)!==null&&r!==void 0?r:e.rotateX;a!==void 0&&(this.rotate.x=a);const o=(s=(n=e.rotate)===null||n===void 0?void 0:n.y)!==null&&s!==void 0?s:e.rotateY;o!==void 0&&(this.rotate.y=o)}}class YN{constructor(){this.x=50,this.y=50,this.mode="percent",this.radius=0}load(e){!e||(e.x!==void 0&&(this.x=e.x),e.y!==void 0&&(this.y=e.y),e.mode!==void 0&&(this.mode=e.mode),e.radius!==void 0&&(this.radius=e.radius))}}class QN{constructor(){this.acceleration=9.81,this.enable=!1,this.inverse=!1,this.maxSpeed=50}load(e){!e||(e.acceleration!==void 0&&(this.acceleration=xe(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),e.inverse!==void 0&&(this.inverse=e.inverse),e.maxSpeed!==void 0&&(this.maxSpeed=xe(e.maxSpeed)))}}class JN{constructor(){this.clamp=!0,this.delay=new bn,this.enable=!1,this.options={}}load(e){!e||(e.clamp!==void 0&&(this.clamp=e.clamp),this.delay.load(e.delay),e.enable!==void 0&&(this.enable=e.enable),this.generator=e.generator,e.options&&(this.options=Et(this.options,e.options)))}}class ZN{load(e){!e||(e.color!==void 0&&(this.color=yt.create(this.color,e.color)),e.image!==void 0&&(this.image=e.image))}}class eF{constructor(){this.enable=!1,this.length=10,this.fill=new ZN}get fillColor(){return this.fill.color}set fillColor(e){this.fill.load({color:e})}load(e){!e||(e.enable!==void 0&&(this.enable=e.enable),(e.fill!==void 0||e.fillColor!==void 0)&&this.fill.load(e.fill||{color:e.fillColor}),e.length!==void 0&&(this.length=e.length))}}class tF{constructor(){this.default="out"}load(e){var i,r,n,s;!e||(e.default!==void 0&&(this.default=e.default),this.bottom=(i=e.bottom)!==null&&i!==void 0?i:e.default,this.left=(r=e.left)!==null&&r!==void 0?r:e.default,this.right=(n=e.right)!==null&&n!==void 0?n:e.default,this.top=(s=e.top)!==null&&s!==void 0?s:e.default)}}class iF{constructor(){this.acceleration=0,this.enable=!1}load(e){!e||(e.acceleration!==void 0&&(this.acceleration=xe(e.acceleration)),e.enable!==void 0&&(this.enable=e.enable),this.position=e.position?Et({},e.position):void 0)}}class nF{constructor(){this.angle=new KN,this.attract=new XN,this.center=new YN,this.decay=0,this.distance={},this.direction="none",this.drift=0,this.enable=!1,this.gravity=new QN,this.path=new JN,this.outModes=new tF,this.random=!1,this.size=!1,this.speed=2,this.spin=new iF,this.straight=!1,this.trail=new eF,this.vibrate=!1,this.warp=!1}get bounce(){return this.collisions}set bounce(e){this.collisions=e}get collisions(){return!1}set collisions(e){}get noise(){return this.path}set noise(e){this.path=e}get outMode(){return this.outModes.default}set outMode(e){this.outModes.default=e}get out_mode(){return this.outMode}set out_mode(e){this.outMode=e}load(e){var i,r,n;if(!e)return;this.angle.load(typeof e.angle=="number"?{value:e.angle}:e.angle),this.attract.load(e.attract),this.center.load(e.center),e.decay!==void 0&&(this.decay=xe(e.decay)),e.direction!==void 0&&(this.direction=e.direction),e.distance!==void 0&&(this.distance=typeof e.distance=="number"?{horizontal:e.distance,vertical:e.distance}:Object.assign({},e.distance)),e.drift!==void 0&&(this.drift=xe(e.drift)),e.enable!==void 0&&(this.enable=e.enable),this.gravity.load(e.gravity);const s=(r=(i=e.outModes)!==null&&i!==void 0?i:e.outMode)!==null&&r!==void 0?r:e.out_mode;s!==void 0&&(typeof s=="object"?this.outModes.load(s):this.outModes.load({default:s})),this.path.load((n=e.path)!==null&&n!==void 0?n:e.noise),e.random!==void 0&&(this.random=e.random),e.size!==void 0&&(this.size=e.size),e.speed!==void 0&&(this.speed=xe(e.speed)),this.spin.load(e.spin),e.straight!==void 0&&(this.straight=e.straight),this.trail.load(e.trail),e.vibrate!==void 0&&(this.vibrate=e.vibrate),e.warp!==void 0&&(this.warp=e.warp)}}class HC{constructor(){this.count=0,this.enable=!1,this.speed=1,this.decay=0,this.sync=!1}load(e){!e||(e.count!==void 0&&(this.count=xe(e.count)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=xe(e.speed)),e.decay!==void 0&&(this.decay=xe(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class rF extends HC{constructor(){super(),this.destroy="none",this.enable=!1,this.speed=2,this.startValue="random",this.sync=!1}get opacity_min(){return this.minimumValue}set opacity_min(e){this.minimumValue=e}load(e){var i;!e||(super.load(e),e.destroy!==void 0&&(this.destroy=e.destroy),e.enable!==void 0&&(this.enable=e.enable),this.minimumValue=(i=e.minimumValue)!==null&&i!==void 0?i:e.opacity_min,e.speed!==void 0&&(this.speed=e.speed),e.startValue!==void 0&&(this.startValue=e.startValue),e.sync!==void 0&&(this.sync=e.sync))}}class sF extends bn{constructor(){super(),this.animation=new rF,this.random.minimumValue=.1,this.value=1}get anim(){return this.animation}set anim(e){this.animation=e}load(e){var i;if(!e)return;super.load(e);const r=(i=e.animation)!==null&&i!==void 0?i:e.anim;r!==void 0&&(this.animation.load(r),this.value=xe(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class aF{constructor(){this.enable=!1,this.width=1920,this.height=1080}get area(){return this.width}set area(e){this.width=e}get factor(){return this.height}set factor(e){this.height=e}get value_area(){return this.area}set value_area(e){this.area=e}load(e){var i,r,n;if(!e)return;e.enable!==void 0&&(this.enable=e.enable);const s=(r=(i=e.width)!==null&&i!==void 0?i:e.area)!==null&&r!==void 0?r:e.value_area;s!==void 0&&(this.width=s);const a=(n=e.height)!==null&&n!==void 0?n:e.factor;a!==void 0&&(this.height=a)}}class oF{constructor(){this.density=new aF,this.limit=0,this.value=0}get max(){return this.limit}set max(e){this.limit=e}load(e){var i;if(!e)return;this.density.load(e.density);const r=(i=e.limit)!==null&&i!==void 0?i:e.max;r!==void 0&&(this.limit=r),e.value!==void 0&&(this.value=e.value)}}class lF{constructor(){this.blur=0,this.color=new yt,this.enable=!1,this.offset={x:0,y:0},this.color.value="#000"}load(e){!e||(e.blur!==void 0&&(this.blur=e.blur),this.color=yt.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable),e.offset!==void 0&&(e.offset.x!==void 0&&(this.offset.x=e.offset.x),e.offset.y!==void 0&&(this.offset.y=e.offset.y)))}}const Yp="character",Qp="char",Jp="image",Zp="images",em="polygon",tm="star";class uF{constructor(){this.options={},this.type="circle"}get character(){var e;return(e=this.options[Yp])!==null&&e!==void 0?e:this.options[Qp]}set character(e){this.options[Qp]=this.options[Yp]=e}get custom(){return this.options}set custom(e){this.options=e}get image(){var e;return(e=this.options[Jp])!==null&&e!==void 0?e:this.options[Zp]}set image(e){this.options[Zp]=this.options[Jp]=e}get images(){return this.image}set images(e){this.image=e}get polygon(){var e;return(e=this.options[em])!==null&&e!==void 0?e:this.options[tm]}set polygon(e){this.options[tm]=this.options[em]=e}get stroke(){return[]}set stroke(e){}load(e){var i,r,n;if(!e)return;const s=(i=e.options)!==null&&i!==void 0?i:e.custom;if(s!==void 0)for(const a in s){const o=s[a];o&&(this.options[a]=Et((r=this.options[a])!==null&&r!==void 0?r:{},o))}this.loadShape(e.character,Yp,Qp,!0),this.loadShape(e.polygon,em,tm,!1),this.loadShape((n=e.image)!==null&&n!==void 0?n:e.images,Jp,Zp,!0),e.type!==void 0&&(this.type=e.type)}loadShape(e,i,r,n){var s,a;if(!e)return;const o=e instanceof Array,l=o?[]:{},u=o!==this.options[i]instanceof Array,c=o!==this.options[r]instanceof Array;u&&(this.options[i]=l),c&&n&&(this.options[r]=l),this.options[i]=Et((s=this.options[i])!==null&&s!==void 0?s:l,e),(!this.options[r]||n)&&(this.options[r]=Et((a=this.options[r])!==null&&a!==void 0?a:l,e))}}class cF extends HC{constructor(){super(),this.destroy="none",this.enable=!1,this.speed=5,this.startValue="random",this.sync=!1}get size_min(){return this.minimumValue}set size_min(e){this.minimumValue=e}load(e){var i;super.load(e),e&&(e.destroy!==void 0&&(this.destroy=e.destroy),e.enable!==void 0&&(this.enable=e.enable),this.minimumValue=(i=e.minimumValue)!==null&&i!==void 0?i:e.size_min,e.speed!==void 0&&(this.speed=e.speed),e.startValue!==void 0&&(this.startValue=e.startValue),e.sync!==void 0&&(this.sync=e.sync))}}class dF extends bn{constructor(){super(),this.animation=new cF,this.random.minimumValue=1,this.value=3}get anim(){return this.animation}set anim(e){this.animation=e}load(e){var i;if(super.load(e),!e)return;const r=(i=e.animation)!==null&&i!==void 0?i:e.anim;r!==void 0&&(this.animation.load(r),this.value=xe(this.value,this.animation.enable?this.animation.minimumValue:void 0))}}class Ex{constructor(){this.width=0}load(e){!e||(e.color!==void 0&&(this.color=lo.create(this.color,e.color)),e.width!==void 0&&(this.width=xe(e.width)),e.opacity!==void 0&&(this.opacity=xe(e.opacity)))}}class fF extends bn{constructor(){super(),this.opacityRate=1,this.sizeRate=1,this.velocityRate=1}load(e){super.load(e),e&&(e.opacityRate!==void 0&&(this.opacityRate=e.opacityRate),e.sizeRate!==void 0&&(this.sizeRate=e.sizeRate),e.velocityRate!==void 0&&(this.velocityRate=e.velocityRate))}}class hF{constructor(e,i){this._engine=e,this._container=i,this.bounce=new VC,this.collisions=new GN,this.color=new lo,this.color.value="#fff",this.groups={},this.move=new nF,this.number=new oF,this.opacity=new sF,this.reduceDuplicates=!1,this.shadow=new lF,this.shape=new uF,this.size=new dF,this.stroke=new Ex,this.zIndex=new fF}load(e){var i,r,n,s,a,o;if(!e)return;if(this.bounce.load(e.bounce),this.color.load(lo.create(this.color,e.color)),e.groups!==void 0)for(const c in e.groups){const f=e.groups[c];f!==void 0&&(this.groups[c]=Et((i=this.groups[c])!==null&&i!==void 0?i:{},f))}this.move.load(e.move),this.number.load(e.number),this.opacity.load(e.opacity),e.reduceDuplicates!==void 0&&(this.reduceDuplicates=e.reduceDuplicates),this.shape.load(e.shape),this.size.load(e.size),this.shadow.load(e.shadow),this.zIndex.load(e.zIndex);const l=(n=(r=e.move)===null||r===void 0?void 0:r.collisions)!==null&&n!==void 0?n:(s=e.move)===null||s===void 0?void 0:s.bounce;l!==void 0&&(this.collisions.enable=l),this.collisions.load(e.collisions),e.interactivity!==void 0&&(this.interactivity=Et({},e.interactivity));const u=(a=e.stroke)!==null&&a!==void 0?a:(o=e.shape)===null||o===void 0?void 0:o.stroke;if(u&&(this.stroke=st(u,c=>{const f=new Ex;return f.load(c),f})),this._container){const c=this._engine.plugins.updaters.get(this._container);if(c)for(const d of c)d.loadOptions&&d.loadOptions(this,e);const f=this._engine.plugins.interactors.get(this._container);if(f)for(const d of f)d.loadParticlesOptions&&d.loadParticlesOptions(this,e)}}}function WC(t,...e){for(const i of e)t.load(i)}function hy(t,e,...i){const r=new hF(t,e);return WC(r,...i),r}class pF{constructor(e,i){this._engine=e,this._container=i,this.autoPlay=!0,this.background=new ON,this.backgroundMask=new IN,this.defaultThemes={},this.delay=0,this.fullScreen=new DN,this.detectRetina=!0,this.duration=0,this.fpsLimit=120,this.interactivity=new zC(e,i),this.manualParticles=[],this.particles=hy(this._engine,this._container),this.pauseOnBlur=!0,this.pauseOnOutsideViewport=!0,this.responsive=[],this.smooth=!1,this.style={},this.themes=[],this.zLayers=100}get backgroundMode(){return this.fullScreen}set backgroundMode(e){this.fullScreen.load(e)}get fps_limit(){return this.fpsLimit}set fps_limit(e){this.fpsLimit=e}get retina_detect(){return this.detectRetina}set retina_detect(e){this.detectRetina=e}load(e){var i,r,n,s,a;if(!e)return;e.preset!==void 0&&st(e.preset,f=>this._importPreset(f)),e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.delay!==void 0&&(this.delay=xe(e.delay));const o=(i=e.detectRetina)!==null&&i!==void 0?i:e.retina_detect;o!==void 0&&(this.detectRetina=o),e.duration!==void 0&&(this.duration=xe(e.duration));const l=(r=e.fpsLimit)!==null&&r!==void 0?r:e.fps_limit;l!==void 0&&(this.fpsLimit=l),e.pauseOnBlur!==void 0&&(this.pauseOnBlur=e.pauseOnBlur),e.pauseOnOutsideViewport!==void 0&&(this.pauseOnOutsideViewport=e.pauseOnOutsideViewport),e.zLayers!==void 0&&(this.zLayers=e.zLayers),this.background.load(e.background);const u=(n=e.fullScreen)!==null&&n!==void 0?n:e.backgroundMode;typeof u=="boolean"?this.fullScreen.enable=u:this.fullScreen.load(u),this.backgroundMask.load(e.backgroundMask),this.interactivity.load(e.interactivity),e.manualParticles!==void 0&&(this.manualParticles=e.manualParticles.map(f=>{const d=new UN;return d.load(f),d})),this.particles.load(e.particles),this.style=Et(this.style,e.style),this._engine.plugins.loadOptions(this,e),e.smooth!==void 0&&(this.smooth=e.smooth);const c=this._engine.plugins.interactors.get(this._container);if(c)for(const f of c)f.loadOptions&&f.loadOptions(this,e);if(e.responsive!==void 0)for(const f of e.responsive){const d=new BN;d.load(f),this.responsive.push(d)}if(this.responsive.sort((f,d)=>f.maxWidth-d.maxWidth),e.themes!==void 0)for(const f of e.themes){const d=this.themes.find(p=>p.name===f.name);if(d)d.load(f);else{const p=new VN;p.load(f),this.themes.push(p)}}this.defaultThemes.dark=(s=this._findDefaultTheme("dark"))===null||s===void 0?void 0:s.name,this.defaultThemes.light=(a=this._findDefaultTheme("light"))===null||a===void 0?void 0:a.name}setResponsive(e,i,r){this.load(r);const n=this.responsive.find(s=>s.mode==="screen"&&screen?s.maxWidth>screen.availWidth:s.maxWidth*i>e);return this.load(n?.options),n?.maxWidth}setTheme(e){if(e){const i=this.themes.find(r=>r.name===e);i&&this.load(i.options)}else{const i=AC("(prefers-color-scheme: dark)"),r=i&&i.matches,n=this._findDefaultTheme(r?"dark":"light");n&&this.load(n.options)}}_findDefaultTheme(e){var i;return(i=this.themes.find(r=>r.default.value&&r.default.mode===e))!==null&&i!==void 0?i:this.themes.find(r=>r.default.value&&r.default.mode==="any")}_importPreset(e){this.load(this._engine.plugins.getPreset(e))}}class mF{constructor(e,i){this.container=i,this._engine=e,this._interactors=this._engine.plugins.getInteractors(this.container,!0),this._externalInteractors=[],this._particleInteractors=[]}async externalInteract(e){for(const i of this._externalInteractors)i.isEnabled()&&await i.interact(e)}handleClickMode(e){for(const i of this._externalInteractors)i.handleClickMode&&i.handleClickMode(e)}init(){this._externalInteractors=[],this._particleInteractors=[];for(const e of this._interactors){switch(e.type){case"external":this._externalInteractors.push(e);break;case"particles":this._particleInteractors.push(e);break}e.init()}}async particlesInteract(e,i){for(const r of this._externalInteractors)r.clear(e,i);for(const r of this._particleInteractors)r.isEnabled(e)&&await r.interact(e,i)}async reset(e){for(const i of this._externalInteractors)i.isEnabled()&&await i.reset(e);for(const i of this._particleInteractors)i.isEnabled(e)&&await i.reset(e)}}const Cx=t=>{!rt(t.outMode,t.checkModes)||(t.coord>t.maxCoord-t.radius*2?t.setCb(-t.radius):t.coord<t.radius*2&&t.setCb(t.radius))};class vF{constructor(e,i,r,n,s,a){this.container=r,this._engine=e,this.init(i,n,s,a)}destroy(e){var i;if(!(this.unbreakable||this.destroyed)){this.destroyed=!0,this.bubble.inRange=!1,this.slow.inRange=!1;for(const[,r]of this.container.plugins)r.particleDestroyed&&r.particleDestroyed(this,e);for(const r of this.container.particles.updaters)r.particleDestroyed&&r.particleDestroyed(this,e);(i=this.pathGenerator)===null||i===void 0||i.reset(this)}}draw(e){const i=this.container;for(const[,r]of i.plugins)i.canvas.drawParticlePlugin(r,this,e);i.canvas.drawParticle(this,e)}getFillColor(){var e;return this._getRollColor((e=this.bubble.color)!==null&&e!==void 0?e:Tx(this.color))}getMass(){return this.getRadius()**2*Math.PI/2}getPosition(){return{x:this.position.x+this.offset.x,y:this.position.y+this.offset.y,z:this.position.z}}getRadius(){var e;return(e=this.bubble.radius)!==null&&e!==void 0?e:this.size.value}getStrokeColor(){var e;return this._getRollColor((e=this.bubble.color)!==null&&e!==void 0?e:Tx(this.strokeColor))}init(e,i,r,n){var s,a,o,l,u,c,f,d,p;const g=this.container,b=this._engine;this.id=e,this.group=n,this.fill=!0,this.pathRotation=!1,this.close=!0,this.lastPathTime=0,this.destroyed=!1,this.unbreakable=!1,this.rotation=0,this.misplaced=!1,this.retina={maxDistance:{}},this.outType="normal",this.ignoresResizeRatio=!0;const y=g.retina.pixelRatio,T=g.actualOptions,S=hy(this._engine,g,T.particles),I=S.shape.type,{reduceDuplicates:O}=S;this.shape=hn(I,this.id,O);const M=S.shape;if(r&&r.shape&&r.shape.type){const K=r.shape.type,q=hn(K,this.id,O);q&&(this.shape=q,M.load(r.shape))}this.shapeData=this._loadShapeData(M,O),S.load(r),S.load((s=this.shapeData)===null||s===void 0?void 0:s.particles),this.interactivity=new zC(b,g),this.interactivity.load(g.actualOptions.interactivity),this.interactivity.load(S.interactivity),this.fill=(o=(a=this.shapeData)===null||a===void 0?void 0:a.fill)!==null&&o!==void 0?o:this.fill,this.close=(u=(l=this.shapeData)===null||l===void 0?void 0:l.close)!==null&&u!==void 0?u:this.close,this.options=S;const R=this.options.move.path;this.pathDelay=xr(R.delay)*1e3,R.generator&&(this.pathGenerator=this._engine.plugins.getPathGenerator(R.generator),this.pathGenerator&&g.addPath(R.generator,this.pathGenerator)&&this.pathGenerator.init(g));const A=he(this.options.zIndex.value);g.retina.initParticle(this);const E=this.options.size,C=E.value,P=E.animation;if(this.size={enable:E.animation.enable,value:he(E.value)*g.retina.pixelRatio,max:Wn(C)*y,min:Ou(C)*y,loops:0,maxLoops:he(E.animation.count)},P.enable)switch(this.size.status="increasing",this.size.decay=1-he(P.decay),P.startValue){case"min":this.size.value=this.size.min,this.size.status="increasing";break;case"random":this.size.value=Ot(this.size),this.size.status=Ie()>=.5?"increasing":"decreasing";break;case"max":default:this.size.value=this.size.max,this.size.status="decreasing";break}this.size.initialValue=this.size.value,this.bubble={inRange:!1},this.slow={inRange:!1,factor:1},this.position=this._calcPosition(g,i,Dn(A,0,g.zLayers)),this.initialPosition=this.position.copy();const U=g.canvas.size,B=Object.assign({},this.options.move.center),G=B.mode==="percent";switch(this.moveCenter={x:B.x*(G?U.width/100:1),y:B.y*(G?U.height/100:1),radius:(c=this.options.move.center.radius)!==null&&c!==void 0?c:0,mode:(f=this.options.move.center.mode)!==null&&f!==void 0?f:"percent"},this.direction=$j(this.options.move.direction,this.position,this.moveCenter),this.options.move.direction){case"inside":this.outType="inside";break;case"outside":this.outType="outside";break}this.initialVelocity=this._calculateVelocity(),this.velocity=this.initialVelocity.copy(),this.moveDecay=1-he(this.options.move.decay),this.offset=Qe.origin;const W=g.particles;W.needsSort=W.needsSort||W.lastZIndex<this.position.z,W.lastZIndex=this.position.z,this.zIndexFactor=this.position.z/g.zLayers,this.sides=24;let Y=g.drawers.get(this.shape);Y||(Y=this._engine.plugins.getShapeDrawer(this.shape),Y&&g.drawers.set(this.shape,Y)),Y?.loadShape&&Y?.loadShape(this);const ee=Y?.getSidesCount;ee&&(this.sides=ee(this)),this.spawning=!1,this.shadowColor=pn(this.options.shadow.color);for(const K of g.particles.updaters)K.init(this);for(const K of g.particles.movers)(d=K.init)===null||d===void 0||d.call(K,this);Y?.particleInit&&Y.particleInit(g,this);for(const[,K]of g.plugins)(p=K.particleCreated)===null||p===void 0||p.call(K,this)}isInsideCanvas(){const e=this.getRadius(),i=this.container.canvas.size;return this.position.x>=-e&&this.position.y>=-e&&this.position.y<=i.height+e&&this.position.x<=i.width+e}isVisible(){return!this.destroyed&&!this.spawning&&this.isInsideCanvas()}reset(){var e;for(const i of this.container.particles.updaters)(e=i.reset)===null||e===void 0||e.call(i,this)}_calcPosition(e,i,r,n=0){var s,a,o,l;for(const[,y]of e.plugins){const T=y.particlePosition!==void 0?y.particlePosition(i,this):void 0;if(T!==void 0)return Qi.create(T.x,T.y,r)}const u=e.canvas.size,c=Xj({size:u,position:i}),f=Qi.create(c.x,c.y,r),d=this.getRadius(),p=this.options.move.outModes,g=y=>{Cx({outMode:y,checkModes:["bounce","bounce-horizontal"],coord:f.x,maxCoord:e.canvas.size.width,setCb:T=>f.x+=T,radius:d})},b=y=>{Cx({outMode:y,checkModes:["bounce","bounce-vertical"],coord:f.y,maxCoord:e.canvas.size.height,setCb:T=>f.y+=T,radius:d})};return g((s=p.left)!==null&&s!==void 0?s:p.default),g((a=p.right)!==null&&a!==void 0?a:p.default),b((o=p.top)!==null&&o!==void 0?o:p.default),b((l=p.bottom)!==null&&l!==void 0?l:p.default),this._checkOverlap(f,n)?this._calcPosition(e,void 0,r,n+1):f}_calculateVelocity(){const e=Gj(this.direction),i=e.copy(),r=this.options.move;if(r.direction==="inside"||r.direction==="outside")return i;const n=Math.PI/180*he(r.angle.value),s=Math.PI/180*he(r.angle.offset),a={left:s-n/2,right:s+n/2};return r.straight||(i.angle+=Ot(xe(a.left,a.right))),r.random&&typeof r.speed=="number"&&(i.length*=Ie()),i}_checkOverlap(e,i=0){const r=this.options.collisions,n=this.getRadius();if(!r.enable)return!1;const s=r.overlap;if(s.enable)return!1;const a=s.retries;if(a>=0&&i>a)throw new Error("Particle is overlapping and can't be placed");let o=!1;for(const l of this.container.particles.array)if(At(e,l.position)<n+l.getRadius()){o=!0;break}return o}_getRollColor(e){var i;if(!e||!this.roll||!this.backColor&&!this.roll.alter)return e;const r=this.roll.horizontal&&this.roll.vertical?2:1,n=this.roll.horizontal?Math.PI/2:0;return Math.floor((((i=this.roll.angle)!==null&&i!==void 0?i:0)+n)/(Math.PI/r))%2?this.backColor?this.backColor:this.roll.alter?mN(e,this.roll.alter.type,this.roll.alter.value):e:e}_loadShapeData(e,i){const r=e.options[this.shape];if(r)return Et({},hn(r,this.id,i))}}class gF{constructor(e,i){this.position=e,this.particle=i}}class qC{constructor(e,i){this.position={x:e,y:i}}}class Bi extends qC{constructor(e,i,r){super(e,i),this.radius=r}contains(e){return At(e,this.position)<=this.radius}intersects(e){const i=e,r=e,n=this.position,s=e.position,a={x:Math.abs(s.x-n.x),y:Math.abs(s.y-n.y)},o=this.radius;if(r.radius!==void 0){const l=o+r.radius,u=Math.sqrt(a.x**2+a.y**2);return l>u}else if(i.size!==void 0){const l=i.size.width,u=i.size.height;return Math.pow(a.x-l,2)+Math.pow(a.y-u,2)<=o**2||a.x<=o+l&&a.y<=o+u||a.x<=l||a.y<=u}return!1}}class Li extends qC{constructor(e,i,r,n){super(e,i),this.size={height:n,width:r}}contains(e){const i=this.size.width,r=this.size.height,n=this.position;return e.x>=n.x&&e.x<=n.x+i&&e.y>=n.y&&e.y<=n.y+r}intersects(e){e instanceof Bi&&e.intersects(this);const i=this.size.width,r=this.size.height,n=this.position,s=e.position,a=e instanceof Li?e.size:{width:0,height:0},o=a.width,l=a.height;return s.x<n.x+i&&s.x+o>n.x&&s.y<n.y+r&&s.y+l>n.y}}class Ns{constructor(e,i){this.rectangle=e,this.capacity=i,this._points=[],this._divided=!1}insert(e){var i,r,n,s,a;return this.rectangle.contains(e.position)?this._points.length<this.capacity?(this._points.push(e),!0):(this._divided||this.subdivide(),(a=((i=this._NE)===null||i===void 0?void 0:i.insert(e))||((r=this._NW)===null||r===void 0?void 0:r.insert(e))||((n=this._SE)===null||n===void 0?void 0:n.insert(e))||((s=this._SW)===null||s===void 0?void 0:s.insert(e)))!==null&&a!==void 0?a:!1):!1}query(e,i,r){var n,s,a,o;const l=r??[];if(!e.intersects(this.rectangle))return[];for(const u of this._points)!e.contains(u.position)&&At(e.position,u.position)>u.particle.getRadius()&&(!i||i(u.particle))||l.push(u.particle);return this._divided&&((n=this._NE)===null||n===void 0||n.query(e,i,l),(s=this._NW)===null||s===void 0||s.query(e,i,l),(a=this._SE)===null||a===void 0||a.query(e,i,l),(o=this._SW)===null||o===void 0||o.query(e,i,l)),l}queryCircle(e,i,r){return this.query(new Bi(e.x,e.y,i),r)}queryRectangle(e,i,r){return this.query(new Li(e.x,e.y,i.width,i.height),r)}subdivide(){const e=this.rectangle.position.x,i=this.rectangle.position.y,r=this.rectangle.size.width,n=this.rectangle.size.height,s=this.capacity;this._NE=new Ns(new Li(e,i,r/2,n/2),s),this._NW=new Ns(new Li(e+r/2,i,r/2,n/2),s),this._SE=new Ns(new Li(e,i+n/2,r/2,n/2),s),this._SW=new Ns(new Li(e+r/2,i+n/2,r/2,n/2),s),this._divided=!0}}class yF{constructor(e,i){this.container=i,this._engine=e,this.nextId=0,this.array=[],this.zArray=[],this.pool=[],this.limit=0,this.needsSort=!1,this.lastZIndex=0,this.interactionManager=new mF(this._engine,i);const r=this.container.canvas.size;this.quadTree=new Ns(new Li(-r.width/4,-r.height/4,r.width*3/2,r.height*3/2),4),this.movers=this._engine.plugins.getMovers(i,!0),this.updaters=this._engine.plugins.getUpdaters(i,!0)}get count(){return this.array.length}addManualParticles(){const e=this.container,i=e.actualOptions;for(const r of i.manualParticles)this.addParticle(Kj({size:e.canvas.size,position:r.position}),r.options)}addParticle(e,i,r,n){const s=this.container,a=s.actualOptions,o=a.particles.number.limit;if(o>0){const l=this.count+1-o;l>0&&this.removeQuantity(l)}return this._pushParticle(e,i,r,n)}clear(){this.array=[],this.zArray=[]}destroy(){this.array=[],this.zArray=[],this.movers=[],this.updaters=[]}async draw(e){const i=this.container,r=this.container.canvas.size;this.quadTree=new Ns(new Li(-r.width/4,-r.height/4,r.width*3/2,r.height*3/2),4),i.canvas.clear(),await this.update(e),this.needsSort&&(this.zArray.sort((n,s)=>s.position.z-n.position.z||n.id-s.id),this.lastZIndex=this.zArray[this.zArray.length-1].position.z,this.needsSort=!1);for(const[,n]of i.plugins)i.canvas.drawPlugin(n,e);for(const n of this.zArray)n.draw(e)}handleClickMode(e){this.interactionManager.handleClickMode(e)}init(){var e;const i=this.container,r=i.actualOptions;this.lastZIndex=0,this.needsSort=!1;let n=!1;this.updaters=this._engine.plugins.getUpdaters(i,!0),this.interactionManager.init();for(const[,s]of i.plugins)if(s.particlesInitialization!==void 0&&(n=s.particlesInitialization()),n)break;this.interactionManager.init();for(const[,s]of i.pathGenerators)s.init(i);if(this.addManualParticles(),!n){for(const s in r.particles.groups){const a=r.particles.groups[s];for(let o=this.count,l=0;l<((e=a.number)===null||e===void 0?void 0:e.value)&&o<r.particles.number.value;o++,l++)this.addParticle(void 0,a,s)}for(let s=this.count;s<r.particles.number.value;s++)this.addParticle()}}push(e,i,r,n){this.pushing=!0;for(let s=0;s<e;s++)this.addParticle(i?.position,r,n);this.pushing=!1}async redraw(){this.clear(),this.init(),await this.draw({value:0,factor:0})}remove(e,i,r){this.removeAt(this.array.indexOf(e),void 0,i,r)}removeAt(e,i=1,r,n){if(e<0||e>this.count)return;let s=0;for(let a=e;s<i&&a<this.count;a++){const o=this.array[a];if(!o||o.group!==r)continue;o.destroy(n),this.array.splice(a--,1);const l=this.zArray.indexOf(o);this.zArray.splice(l,1),this.pool.push(o),s++,this._engine.dispatchEvent("particleRemoved",{container:this.container,data:{particle:o}})}}removeQuantity(e,i){this.removeAt(0,e,i)}setDensity(){const e=this.container.actualOptions;for(const i in e.particles.groups)this._applyDensity(e.particles.groups[i],0,i);this._applyDensity(e.particles,e.manualParticles.length)}async update(e){var i,r;const n=this.container,s=[];for(const[,a]of n.pathGenerators)a.update();for(const[,a]of n.plugins)(i=a.update)===null||i===void 0||i.call(a,e);for(const a of this.array){const o=n.canvas.resizeFactor;o&&!a.ignoresResizeRatio&&(a.position.x*=o.width,a.position.y*=o.height,a.initialPosition.x*=o.width,a.initialPosition.y*=o.height),a.ignoresResizeRatio=!1,await this.interactionManager.reset(a);for(const[,l]of this.container.plugins){if(a.destroyed)break;(r=l.particleUpdate)===null||r===void 0||r.call(l,a,e)}for(const l of this.movers)l.isEnabled(a)&&l.move(a,e);if(a.destroyed){s.push(a);continue}this.quadTree.insert(new gF(a.getPosition(),a))}for(const a of s)this.remove(a);await this.interactionManager.externalInteract(e);for(const a of this.array){for(const o of this.updaters)o.update(a,e);!a.destroyed&&!a.spawning&&await this.interactionManager.particlesInteract(a,e)}delete n.canvas.resizeFactor}_applyDensity(e,i,r){var n;if(!(!((n=e.number.density)===null||n===void 0)&&n.enable))return;const s=e.number,a=this._initDensityFactor(s.density),o=s.value,l=s.limit>0?s.limit:o,u=Math.min(o,l)*a+i,c=Math.min(this.count,this.array.filter(f=>f.group===r).length);this.limit=s.limit*a,c<u?this.push(Math.abs(u-c),void 0,e,r):c>u&&this.removeQuantity(c-u,r)}_initDensityFactor(e){const i=this.container;if(!i.canvas.element||!e.enable)return 1;const r=i.canvas.element,n=i.retina.pixelRatio;return r.width*r.height/(e.factor*n**2*e.area)}_pushParticle(e,i,r,n){try{let s=this.pool.pop();s?s.init(this.nextId,e,i,r):s=new vF(this._engine,this.nextId,this.container,e,i,r);let a=!0;return n&&(a=n(s)),a?(this.array.push(s),this.zArray.push(s),this.nextId++,this._engine.dispatchEvent("particleAdded",{container:this.container,data:{particle:s}}),s):void 0}catch(s){console.warn(`error adding particle: ${s}`);return}}}class _F{constructor(e){this.container=e}init(){const e=this.container,i=e.actualOptions;this.pixelRatio=!i.detectRetina||Xs()?1:window.devicePixelRatio,this.reduceFactor=1;const r=this.pixelRatio;if(e.canvas.element){const s=e.canvas.element;e.canvas.size.width=s.offsetWidth*r,e.canvas.size.height=s.offsetHeight*r}const n=i.particles;this.attractDistance=he(n.move.attract.distance)*r,this.sizeAnimationSpeed=he(n.size.animation.speed)*r,this.maxSpeed=he(n.move.gravity.maxSpeed)*r}initParticle(e){const i=e.options,r=this.pixelRatio,n=i.move.distance,s=e.retina;s.attractDistance=he(i.move.attract.distance)*r,s.moveDrift=he(i.move.drift)*r,s.moveSpeed=he(i.move.speed)*r,s.sizeAnimationSpeed=he(i.size.animation.speed)*r;const a=s.maxDistance;a.horizontal=n.horizontal!==void 0?n.horizontal*r:void 0,a.vertical=n.vertical!==void 0?n.vertical*r:void 0,s.maxSpeed=he(i.move.gravity.maxSpeed)*r}}function ut(t){return t&&!t.destroyed}function pl(t,e,...i){const r=new pF(t,e);return WC(r,...i),r}const bF="default",kx={generate:t=>{const e=t.velocity.copy();return e.angle+=e.length*Math.PI/180,e},init:()=>{},update:()=>{},reset:()=>{}};class TF{constructor(e,i,r){this.id=i,this._engine=e,this.fpsLimit=120,this.smooth=!1,this._delay=0,this.duration=0,this.lifeTime=0,this._firstStart=!0,this.started=!1,this.destroyed=!1,this._paused=!0,this.lastFrameTime=0,this.zLayers=100,this.pageHidden=!1,this._sourceOptions=r,this._initialSourceOptions=r,this.retina=new _F(this),this.canvas=new EN(this),this.particles=new yF(this._engine,this),this.frameManager=new PN(this),this.pathGenerators=new Map,this.interactivity={mouse:{clicking:!1,inside:!1}},this.plugins=new Map,this.drawers=new Map,this._options=pl(this._engine,this),this.actualOptions=pl(this._engine,this),this._eventListeners=new CN(this),typeof IntersectionObserver<"u"&&IntersectionObserver&&(this._intersectionObserver=new IntersectionObserver(n=>this._intersectionManager(n))),this._engine.dispatchEvent("containerBuilt",{container:this})}get options(){return this._options}get sourceOptions(){return this._sourceOptions}addClickHandler(e){if(!ut(this))return;const i=this.interactivity.element;if(!i)return;const r=(f,d,p)=>{if(!ut(this))return;const g=this.retina.pixelRatio,b={x:d.x*g,y:d.y*g},y=this.particles.quadTree.queryCircle(b,p*g);e(f,y)},n=f=>{if(!ut(this))return;const d=f,p={x:d.offsetX||d.clientX,y:d.offsetY||d.clientY};r(f,p,1)},s=()=>{!ut(this)||(u=!0,c=!1)},a=()=>{!ut(this)||(c=!0)},o=f=>{if(!!ut(this)){if(u&&!c){const d=f;let p=d.touches[d.touches.length-1];if(!p&&(p=d.changedTouches[d.changedTouches.length-1],!p))return;const g=this.canvas.element,b=g?g.getBoundingClientRect():void 0,y={x:p.clientX-(b?b.left:0),y:p.clientY-(b?b.top:0)};r(f,y,Math.max(p.radiusX,p.radiusY))}u=!1,c=!1}},l=()=>{!ut(this)||(u=!1,c=!1)};let u=!1,c=!1;i.addEventListener("click",n),i.addEventListener("touchstart",s),i.addEventListener("touchmove",a),i.addEventListener("touchend",o),i.addEventListener("touchcancel",l)}addPath(e,i,r=!1){return!ut(this)||!r&&this.pathGenerators.has(e)?!1:(this.pathGenerators.set(e,i??kx),!0)}destroy(){if(!ut(this))return;this.stop(),this.particles.destroy(),this.canvas.destroy();for(const[,r]of this.drawers)r.destroy&&r.destroy(this);for(const r of this.drawers.keys())this.drawers.delete(r);this._engine.plugins.destroy(this),this.destroyed=!0;const e=this._engine.dom(),i=e.findIndex(r=>r===this);i>=0&&e.splice(i,1),this._engine.dispatchEvent("containerDestroyed",{container:this})}draw(e){if(!ut(this))return;let i=e;this._drawAnimationFrame=Jj()(async r=>{i&&(this.lastFrameTime=void 0,i=!1),await this.frameManager.nextFrame(r)})}exportConfiguration(){return JSON.stringify(this.actualOptions,(e,i)=>{if(!(e==="_engine"||e==="_container"))return i},2)}exportImage(e,i,r){const n=this.canvas.element;n&&n.toBlob(e,i??"image/png",r)}exportImg(e){this.exportImage(e)}getAnimationStatus(){return!this._paused&&!this.pageHidden&&ut(this)}handleClickMode(e){if(!!ut(this)){this.particles.handleClickMode(e);for(const[,i]of this.plugins)i.handleClickMode&&i.handleClickMode(e)}}async init(){if(!ut(this))return;const e=this._engine.plugins.getSupportedShapes();for(const r of e){const n=this._engine.plugins.getShapeDrawer(r);n&&this.drawers.set(r,n)}this._options=pl(this._engine,this,this._initialSourceOptions,this.sourceOptions),this.actualOptions=pl(this._engine,this,this._options);const i=this._engine.plugins.getAvailablePlugins(this);for(const[r,n]of i)this.plugins.set(r,n);this.retina.init(),await this.canvas.init(),this.updateActualOptions(),this.canvas.initBackground(),this.canvas.resize(),this.zLayers=this.actualOptions.zLayers,this.duration=he(this.actualOptions.duration)*1e3,this._delay=he(this.actualOptions.delay)*1e3,this.lifeTime=0,this.fpsLimit=this.actualOptions.fpsLimit>0?this.actualOptions.fpsLimit:120,this.smooth=this.actualOptions.smooth;for(const[,r]of this.drawers)r.init&&await r.init(this);for(const[,r]of this.plugins)r.init&&await r.init();this._engine.dispatchEvent("containerInit",{container:this}),this.particles.init(),this.particles.setDensity();for(const[,r]of this.plugins)r.particlesSetup&&r.particlesSetup();this._engine.dispatchEvent("particlesSetup",{container:this})}async loadTheme(e){!ut(this)||(this._currentTheme=e,await this.refresh())}pause(){if(!!ut(this)&&(this._drawAnimationFrame!==void 0&&(Zj()(this._drawAnimationFrame),delete this._drawAnimationFrame),!this._paused)){for(const[,e]of this.plugins)e.pause&&e.pause();this.pageHidden||(this._paused=!0),this._engine.dispatchEvent("containerPaused",{container:this})}}play(e){if(!ut(this))return;const i=this._paused||e;if(this._firstStart&&!this.actualOptions.autoPlay){this._firstStart=!1;return}if(this._paused&&(this._paused=!1),i)for(const[,r]of this.plugins)r.play&&r.play();this._engine.dispatchEvent("containerPlay",{container:this}),this.draw(i||!1)}async refresh(){if(!!ut(this))return this.stop(),this.start()}async reset(){if(!!ut(this))return this._options=pl(this._engine,this),this.refresh()}setNoise(e,i,r){!ut(this)||this.setPath(e,i,r)}setPath(e,i,r){if(!e||!ut(this))return;const n=Object.assign({},kx);if(typeof e=="function")n.generate=e,i&&(n.init=i),r&&(n.update=r);else{const s=n;n.generate=e.generate||s.generate,n.init=e.init||s.init,n.update=e.update||s.update}this.addPath(bF,n,!0)}async start(){!ut(this)||this.started||(await this.init(),this.started=!0,await new Promise(e=>{this._delayTimeout=setTimeout(async()=>{this._eventListeners.addListeners(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.observe(this.interactivity.element);for(const[,i]of this.plugins)i.start&&await i.start();this._engine.dispatchEvent("containerStarted",{container:this}),this.play(),e()},this._delay)}))}stop(){if(!(!ut(this)||!this.started)){this._delayTimeout&&(clearTimeout(this._delayTimeout),delete this._delayTimeout),this._firstStart=!0,this.started=!1,this._eventListeners.removeListeners(),this.pause(),this.particles.clear(),this.canvas.stop(),this.interactivity.element instanceof HTMLElement&&this._intersectionObserver&&this._intersectionObserver.unobserve(this.interactivity.element);for(const[,e]of this.plugins)e.stop&&e.stop();for(const e of this.plugins.keys())this.plugins.delete(e);this._sourceOptions=this._options,this._engine.dispatchEvent("containerStopped",{container:this})}}updateActualOptions(){this.actualOptions.responsive=[];const e=this.actualOptions.setResponsive(this.canvas.size.width,this.retina.pixelRatio,this._options);return this.actualOptions.setTheme(this._currentTheme),this.responsiveMaxWidth===e?!1:(this.responsiveMaxWidth=e,!0)}_intersectionManager(e){if(!(!ut(this)||!this.actualOptions.pauseOnOutsideViewport))for(const i of e)i.target===this.interactivity.element&&(i.isIntersecting?this.play:this.pause)()}}async function xF(t,e){const i=hn(t,e);if(!i)return;const r=await fetch(i);if(r.ok)return r.json();console.error(`tsParticles - Error ${r.status} while retrieving config file`)}class wF{constructor(e){this._engine=e}load(e,i,r){const n={index:r,remote:!1};return typeof e=="string"?n.tagId=e:n.options=e,typeof i=="number"?n.index=i:n.options=i??n.options,this.loadOptions(n)}async loadJSON(e,i,r){let n,s;return typeof i=="number"||i===void 0?n=e:(s=e,n=i),this.loadRemoteOptions({tagId:s,url:n,index:r,remote:!0})}async loadOptions(e){var i,r,n;const s=(i=e.tagId)!==null&&i!==void 0?i:`tsparticles${Math.floor(Ie()*1e4)}`,{index:a,url:o,remote:l}=e,u=l?await xF(o,a):e.options;let c=(r=e.element)!==null&&r!==void 0?r:document.getElementById(s);c||(c=document.createElement("div"),c.id=s,(n=document.querySelector("body"))===null||n===void 0||n.append(c));const f=hn(u,a),d=this._engine.dom(),p=d.findIndex(y=>y.id===s);if(p>=0){const y=this._engine.domItem(p);y&&!y.destroyed&&(y.destroy(),d.splice(p,1))}let g;if(c.tagName.toLowerCase()==="canvas")g=c,g.dataset[eu]="false";else{const y=c.getElementsByTagName("canvas");y.length?(g=y[0],g.dataset[eu]="false"):(g=document.createElement("canvas"),g.dataset[eu]="true",c.appendChild(g))}g.style.width||(g.style.width="100%"),g.style.height||(g.style.height="100%");const b=new TF(this._engine,s,f);return p>=0?d.splice(p,0,b):d.push(b),b.canvas.loadCanvas(g),await b.start(),b}async loadRemoteOptions(e){return this.loadOptions(e)}async set(e,i,r,n){const s={index:n,remote:!1};return typeof e=="string"?s.tagId=e:s.element=e,i instanceof HTMLElement?s.element=i:s.options=i,typeof r=="number"?s.index=r:s.options=r??s.options,this.loadOptions(s)}async setJSON(e,i,r,n){let s,a,o,l;return e instanceof HTMLElement?(l=e,s=i,o=r):(a=e,l=i,s=r,o=n),this.loadRemoteOptions({tagId:a,url:s,index:o,element:l,remote:!0})}}function im(t,e,i,r=!1){let n=e.get(t);return(!n||r)&&(n=[...i.values()].map(s=>s(t)),e.set(t,n)),n}class SF{constructor(e){this._engine=e,this.plugins=[],this._initializers={interactors:new Map,movers:new Map,updaters:new Map},this.interactors=new Map,this.movers=new Map,this.updaters=new Map,this.presets=new Map,this.drawers=new Map,this.pathGenerators=new Map}addInteractor(e,i){this._initializers.interactors.set(e,i)}addParticleMover(e,i){this._initializers.movers.set(e,i)}addParticleUpdater(e,i){this._initializers.updaters.set(e,i)}addPathGenerator(e,i){this.getPathGenerator(e)||this.pathGenerators.set(e,i)}addPlugin(e){this.getPlugin(e.id)||this.plugins.push(e)}addPreset(e,i,r=!1){(r||!this.getPreset(e))&&this.presets.set(e,i)}addShapeDrawer(e,i){st(e,r=>{this.getShapeDrawer(r)||this.drawers.set(r,i)})}destroy(e){this.updaters.delete(e),this.movers.delete(e),this.interactors.delete(e)}getAvailablePlugins(e){const i=new Map;for(const r of this.plugins)!r.needsPlugin(e.actualOptions)||i.set(r.id,r.getPlugin(e));return i}getInteractors(e,i=!1){return im(e,this.interactors,this._initializers.interactors,i)}getMovers(e,i=!1){return im(e,this.movers,this._initializers.movers,i)}getPathGenerator(e){return this.pathGenerators.get(e)}getPlugin(e){return this.plugins.find(i=>i.id===e)}getPreset(e){return this.presets.get(e)}getShapeDrawer(e){return this.drawers.get(e)}getSupportedShapes(){return this.drawers.keys()}getUpdaters(e,i=!1){return im(e,this.updaters,this._initializers.updaters,i)}loadOptions(e,i){for(const r of this.plugins)r.loadOptions(e,i)}loadParticlesOptions(e,i,...r){const n=this.updaters.get(e);if(!!n)for(const s of n)s.loadOptions&&s.loadOptions(i,...r)}}class EF{constructor(){this._domArray=[],this._eventDispatcher=new Hj,this._initialized=!1,this._loader=new wF(this),this.plugins=new SF(this)}get version(){return"2.9.3"}addEventListener(e,i){this._eventDispatcher.addEventListener(e,i)}async addInteractor(e,i){this.plugins.addInteractor(e,i),await this.refresh()}async addMover(e,i){this.plugins.addParticleMover(e,i),await this.refresh()}async addParticleUpdater(e,i){this.plugins.addParticleUpdater(e,i),await this.refresh()}async addPathGenerator(e,i){this.plugins.addPathGenerator(e,i),await this.refresh()}async addPlugin(e){this.plugins.addPlugin(e),await this.refresh()}async addPreset(e,i,r=!1){this.plugins.addPreset(e,i,r),await this.refresh()}async addShape(e,i,r,n,s){let a;typeof i=="function"?a={afterEffect:n,destroy:s,draw:i,init:r}:a=i,this.plugins.addShapeDrawer(e,a),await this.refresh()}dispatchEvent(e,i){this._eventDispatcher.dispatchEvent(e,i)}dom(){return this._domArray}domItem(e){const i=this.dom(),r=i[e];if(r&&!r.destroyed)return r;i.splice(e,1)}init(){this._initialized||(this._initialized=!0)}async load(e,i){return this._loader.load(e,i)}async loadFromArray(e,i,r){return this._loader.load(e,i,r)}async loadJSON(e,i,r){return this._loader.loadJSON(e,i,r)}async refresh(){for(const e of this.dom())await e.refresh()}removeEventListener(e,i){this._eventDispatcher.removeEventListener(e,i)}async set(e,i,r){return this._loader.set(e,i,r)}async setJSON(e,i,r,n){return this._loader.setJSON(e,i,r,n)}setOnClickHandler(e){const i=this.dom();if(!i.length)throw new Error("Can only set click handlers after calling tsParticles.load() or tsParticles.loadJSON()");for(const r of i)r.addClickHandler(e)}}class CF{constructor(){this.key="hsl",this.stringPrefix="hsl"}handleColor(e){var i;const r=e.value,n=(i=r.hsl)!==null&&i!==void 0?i:e.value;if(n.h!==void 0&&n.s!==void 0&&n.l!==void 0)return ao(n)}handleRangeColor(e){var i;const r=e.value,n=(i=r.hsl)!==null&&i!==void 0?i:e.value;if(n.h!==void 0&&n.l!==void 0)return ao({h:he(n.h),l:he(n.l),s:he(n.s)})}parseString(e){if(!e.startsWith("hsl"))return;const i=/hsla?\(\s*(\d+)\s*,\s*(\d+)%\s*,\s*(\d+)%\s*(,\s*([\d.%]+)\s*)?\)/i,r=i.exec(e);return r?aN({a:r.length>4?OC(r[5]):1,h:parseInt(r[1],10),l:parseInt(r[3],10),s:parseInt(r[2],10)}):void 0}}class kF{constructor(){this.key="rgb",this.stringPrefix="rgb"}handleColor(e){var i;const r=e.value,n=(i=r.rgb)!==null&&i!==void 0?i:e.value;if(n.r!==void 0)return n}handleRangeColor(e){var i;const r=e.value,n=(i=r.rgb)!==null&&i!==void 0?i:e.value;if(n.r!==void 0)return{r:he(n.r),g:he(n.g),b:he(n.b)}}parseString(e){if(!e.startsWith(this.stringPrefix))return;const i=/rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([\d.%]+)\s*)?\)/i,r=i.exec(e);return r?{a:r.length>4?OC(r[5]):1,b:parseInt(r[3],10),g:parseInt(r[2],10),r:parseInt(r[1],10)}:void 0}}class Ln{constructor(e){this.container=e,this.type="external"}}class py{constructor(e){this.container=e,this.type="particles"}}const PF=new kF,OF=new CF;LC(PF);LC(OF);const Rd=new EF;Rd.init();var AF=function t(e,i){if(e===i)return!0;if(e&&i&&typeof e=="object"&&typeof i=="object"){if(e.constructor!==i.constructor)return!1;var r,n,s;if(Array.isArray(e)){if(r=e.length,r!=i.length)return!1;for(n=r;n--!==0;)if(!t(e[n],i[n]))return!1;return!0}if(e.constructor===RegExp)return e.source===i.source&&e.flags===i.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===i.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===i.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(i).length)return!1;for(n=r;n--!==0;)if(!Object.prototype.hasOwnProperty.call(i,s[n]))return!1;for(n=r;n--!==0;){var a=s[n];if(!(a==="_owner"&&e.$$typeof)&&!t(e[a],i[a]))return!1}return!0}return e!==e&&i!==i};const $C="tsparticles";class Ch extends J.exports.Component{constructor(e){super(e),this.state={init:!1,library:void 0}}destroy(){!this.state.library||(this.state.library.destroy(),this.setState({library:void 0}))}shouldComponentUpdate(e){return!AF(e,this.props)}componentDidUpdate(){this.refresh()}forceUpdate(){this.refresh().then(()=>{super.forceUpdate()})}componentDidMount(){(async()=>(this.props.init&&await this.props.init(Rd),this.setState({init:!0},async()=>{await this.loadParticles()})))()}componentWillUnmount(){this.destroy()}render(){const{width:e,height:i,className:r,canvasClassName:n,id:s}=this.props;return te("div",{className:r,id:s,children:te("canvas",{className:n,style:Object.assign(Object.assign({},this.props.style),{width:e,height:i})})})}async refresh(){this.destroy(),await this.loadParticles()}async loadParticles(){var e,i,r;if(!this.state.init)return;const n=async o=>{this.props.container&&(this.props.container.current=o),this.setState({library:o}),this.props.loaded&&await this.props.loaded(o)},s=(i=(e=this.props.id)!==null&&e!==void 0?e:Ch.defaultProps.id)!==null&&i!==void 0?i:$C,a=this.props.url?await Rd.loadJSON(s,this.props.url):await Rd.load(s,(r=this.props.params)!==null&&r!==void 0?r:this.props.options);await n(a)}}Ch.defaultProps={width:"100%",height:"100%",options:{},style:{},url:void 0,id:$C};class IF{constructor(){this.radius=0,this.mass=0}load(e){!e||(e.mass!==void 0&&(this.mass=e.mass),e.radius!==void 0&&(this.radius=e.radius))}}class DF extends bn{constructor(){super(),this.density=5,this.value=50,this.limit=new IF}load(e){!e||(super.load(e),e.density!==void 0&&(this.density=e.density),typeof e.limit=="number"?this.limit.radius=e.limit:this.limit.load(e.limit))}}class Tf{constructor(){this.color=new yt,this.color.value="#000000",this.draggable=!1,this.opacity=1,this.destroy=!0,this.orbits=!1,this.size=new DF}load(e){e!==void 0&&(e.color!==void 0&&(this.color=yt.create(this.color,e.color)),e.draggable!==void 0&&(this.draggable=e.draggable),this.name=e.name,e.opacity!==void 0&&(this.opacity=e.opacity),e.position!==void 0&&(this.position={},e.position.x!==void 0&&(this.position.x=xe(e.position.x)),e.position.y!==void 0&&(this.position.y=xe(e.position.y))),e.size!==void 0&&this.size.load(e.size),e.destroy!==void 0&&(this.destroy=e.destroy),e.orbits!==void 0&&(this.orbits=e.orbits))}}class MF{constructor(e,i,r,n){var s,a,o;this.absorbers=e,this.container=i,this.initialPosition=n?Qe.create(n.x,n.y):void 0,r instanceof Tf?this.options=r:(this.options=new Tf,this.options.load(r)),this.dragging=!1,this.name=this.options.name,this.opacity=this.options.opacity,this.size=he(this.options.size.value)*i.retina.pixelRatio,this.mass=this.size*this.options.size.density*i.retina.reduceFactor;const l=this.options.size.limit;this.limit={radius:l.radius*i.retina.pixelRatio*i.retina.reduceFactor,mass:l.mass},this.color=(s=pn(this.options.color))!==null&&s!==void 0?s:{b:0,g:0,r:0},this.position=(o=(a=this.initialPosition)===null||a===void 0?void 0:a.copy())!==null&&o!==void 0?o:this.calcPosition()}attract(e){const i=this.container,r=this.options;if(r.draggable){const u=i.interactivity.mouse;u.clicking&&u.downPosition?At(this.position,u.downPosition)<=this.size&&(this.dragging=!0):this.dragging=!1,this.dragging&&u.position&&(this.position.x=u.position.x,this.position.y=u.position.y)}const n=e.getPosition(),{dx:s,dy:a,distance:o}=wi(this.position,n),l=Qe.create(s,a);if(l.length=this.mass/Math.pow(o,2)*i.retina.reduceFactor,o<this.size+e.getRadius()){const u=e.getRadius()*.033*i.retina.pixelRatio;this.size>e.getRadius()&&o<this.size-e.getRadius()||e.absorberOrbit!==void 0&&e.absorberOrbit.length<0?r.destroy?e.destroy():(e.needsNewPosition=!0,this.updateParticlePosition(e,l)):(r.destroy&&(e.size.value-=u),this.updateParticlePosition(e,l)),(this.limit.radius<=0||this.size<this.limit.radius)&&(this.size+=u),(this.limit.mass<=0||this.mass<this.limit.mass)&&(this.mass+=u*this.options.size.density*i.retina.reduceFactor)}else this.updateParticlePosition(e,l)}draw(e){e.translate(this.position.x,this.position.y),e.beginPath(),e.arc(0,0,this.size,0,Math.PI*2,!1),e.closePath(),e.fillStyle=Yn(this.color,this.opacity),e.fill()}resize(){const e=this.initialPosition;this.position=e&&nc(e,this.container.canvas.size,Qe.origin)?e:this.calcPosition()}calcPosition(){const e=PC({size:this.container.canvas.size,position:this.options.position});return Qe.create(e.x,e.y)}updateParticlePosition(e,i){var r;if(e.destroyed)return;const n=this.container,s=n.canvas.size;if(e.needsNewPosition){const a=kC({size:s});e.position.setTo(a),e.velocity.setTo(e.initialVelocity),e.absorberOrbit=void 0,e.needsNewPosition=!1}if(this.options.orbits){if(e.absorberOrbit===void 0&&(e.absorberOrbit=Qe.create(0,0),e.absorberOrbit.length=At(e.getPosition(),this.position),e.absorberOrbit.angle=Ie()*Math.PI*2),e.absorberOrbit.length<=this.size&&!this.options.destroy){const c=Math.min(s.width,s.height);e.absorberOrbit.length=c*(1+(Ie()*.2-.1))}e.absorberOrbitDirection===void 0&&(e.absorberOrbitDirection=e.velocity.x>=0?"clockwise":"counter-clockwise");const a=e.absorberOrbit.length,o=e.absorberOrbit.angle,l=e.absorberOrbitDirection;e.velocity.setTo(Qe.origin);const u={x:l==="clockwise"?Math.cos:Math.sin,y:l==="clockwise"?Math.sin:Math.cos};e.position.x=this.position.x+a*u.x(o),e.position.y=this.position.y+a*u.y(o),e.absorberOrbit.length-=i.length,e.absorberOrbit.angle+=((r=e.retina.moveSpeed)!==null&&r!==void 0?r:0)*n.retina.pixelRatio/100*n.retina.reduceFactor}else{const a=Qe.origin;a.length=i.length,a.angle=i.angle,e.velocity.addTo(a)}}}class RF{constructor(e){this.container=e,this.array=[],this.absorbers=[],this.interactivityAbsorbers=[],e.getAbsorber=i=>i===void 0||typeof i=="number"?this.array[i||0]:this.array.find(r=>r.name===i),e.addAbsorber=(i,r)=>this.addAbsorber(i,r)}addAbsorber(e,i){const r=new MF(this,this.container,e,i);return this.array.push(r),r}draw(e){for(const i of this.array)i.draw(e)}handleClickMode(e){const i=this.absorbers,r=this.interactivityAbsorbers;if(e==="absorber"){const n=hn(r),s=n??hn(i),a=this.container.interactivity.mouse.clickPosition;this.addAbsorber(s,a)}}async init(){this.absorbers=this.container.actualOptions.absorbers,this.interactivityAbsorbers=this.container.actualOptions.interactivity.modes.absorbers,st(this.absorbers,e=>{this.addAbsorber(e)})}particleUpdate(e){for(const i of this.array)if(i.attract(e),e.destroyed)break}removeAbsorber(e){const i=this.array.indexOf(e);i>=0&&this.array.splice(i,1)}resize(){for(const e of this.array)e.resize()}stop(){this.array=[]}}class LF{constructor(){this.id="absorbers"}getPlugin(e){return new RF(e)}loadOptions(e,i){var r,n;!this.needsPlugin(e)&&!this.needsPlugin(i)||(i?.absorbers&&(e.absorbers=st(i.absorbers,s=>{const a=new Tf;return a.load(s),a})),e.interactivity.modes.absorbers=st((n=(r=i?.interactivity)===null||r===void 0?void 0:r.modes)===null||n===void 0?void 0:n.absorbers,s=>{const a=new Tf;return a.load(s),a}))}needsPlugin(e){var i,r,n;if(!e)return!1;const s=e.absorbers;return s instanceof Array?!!s.length:s?!0:!!(((n=(r=(i=e.interactivity)===null||i===void 0?void 0:i.events)===null||r===void 0?void 0:r.onClick)===null||n===void 0?void 0:n.mode)&&rt("absorber",e.interactivity.events.onClick.mode))}}async function jF(t){const e=new LF;await t.addPlugin(e)}class NF{load(e){!e||(e.bottom!==void 0&&(this.bottom=xe(e.bottom)),e.left!==void 0&&(this.left=xe(e.left)),e.right!==void 0&&(this.right=xe(e.right)),e.top!==void 0&&(this.top=xe(e.top)))}}class FF extends bn{constructor(){super(),this.value=3}}class UF extends bn{constructor(){super(),this.value={min:4,max:9}}}class BF{constructor(){this.count=1,this.factor=new FF,this.rate=new UF,this.sizeOffset=!0}load(e){var i;!e||(e.color!==void 0&&(this.color=yt.create(this.color,e.color)),e.count!==void 0&&(this.count=e.count),this.factor.load(e.factor),this.rate.load(e.rate),this.particles=st(e.particles,r=>Et({},r)),e.sizeOffset!==void 0&&(this.sizeOffset=e.sizeOffset),e.colorOffset&&(this.colorOffset=(i=this.colorOffset)!==null&&i!==void 0?i:{},e.colorOffset.h!==void 0&&(this.colorOffset.h=e.colorOffset.h),e.colorOffset.s!==void 0&&(this.colorOffset.s=e.colorOffset.s),e.colorOffset.l!==void 0&&(this.colorOffset.l=e.colorOffset.l)))}}class zF{constructor(){this.bounds=new NF,this.mode="none",this.split=new BF}load(e){!e||(e.mode&&(this.mode=e.mode),e.bounds&&this.bounds.load(e.bounds),this.split.load(e.split))}}class VF{constructor(e,i){this.engine=e,this.container=i}init(e){const i=this.container,r=e.options,n=r.destroy;if(!n)return;e.splitCount=0;const s=n.bounds;e.destroyBounds||(e.destroyBounds={}),s.bottom&&(e.destroyBounds.bottom=he(s.bottom)*i.canvas.size.height/100),s.left&&(e.destroyBounds.left=he(s.left)*i.canvas.size.width/100),s.right&&(e.destroyBounds.right=he(s.right)*i.canvas.size.width/100),s.top&&(e.destroyBounds.top=he(s.top)*i.canvas.size.height/100)}isEnabled(e){return!e.destroyed}loadOptions(e,...i){e.destroy||(e.destroy=new zF);for(const r of i)e.destroy.load(r?.destroy)}particleDestroyed(e,i){if(i)return;const r=e.options.destroy;r&&r.mode==="split"&&this.split(e)}update(e){if(!this.isEnabled(e))return;const i=e.getPosition(),r=e.destroyBounds;!r||(r.bottom!==void 0&&i.y>=r.bottom||r.left!==void 0&&i.x<=r.left||r.right!==void 0&&i.x>=r.right||r.top!==void 0&&i.y<=r.top)&&e.destroy()}addSplitParticle(e,i){var r,n,s;const a=e.options.destroy;if(!a)return;const o=a.split,l=hy(this.engine,this.container,e.options),u=xr(o.factor),c=e.getFillColor();o.color?l.color.load(o.color):o.colorOffset&&c?l.color.load({value:{hsl:{h:c.h+he((r=o.colorOffset.h)!==null&&r!==void 0?r:0),s:c.s+he((n=o.colorOffset.s)!==null&&n!==void 0?n:0),l:c.l+he((s=o.colorOffset.l)!==null&&s!==void 0?s:0)}}}):l.color.load({value:{hsl:e.getFillColor()}}),l.move.load({center:{x:e.position.x,y:e.position.y,mode:"precise"}}),typeof l.size.value=="number"?l.size.value/=u:(l.size.value.min/=u,l.size.value.max/=u),l.load(i);const f=o.sizeOffset?xe(-e.size.value,e.size.value):0,d={x:e.position.x+Ot(f),y:e.position.y+Ot(f)};return this.container.particles.addParticle(d,l,e.group,p=>{var g;return p.size.value<.5?!1:(p.velocity.length=Ot(xe(e.velocity.length,p.velocity.length)),p.splitCount=((g=e.splitCount)!==null&&g!==void 0?g:0)+1,p.unbreakable=!0,setTimeout(()=>{p.unbreakable=!1},500),!0)})}split(e){const i=e.options.destroy;if(!i)return;const r=i.split;if(r.count>=0&&(e.splitCount===void 0||e.splitCount++>r.count))return;const n=xr(r.rate),s=hn(r.particles);for(let a=0;a<n;a++)this.addSplitParticle(e,s)}}async function HF(t){await t.addParticleUpdater("destroy",e=>new VF(t,e))}class WF{randomPosition(e,i,r){const n=(f,d)=>{const p=Ie()/4,g=Math.atan(d/f*Math.tan(2*Math.PI*p)),b=Ie();return b<.25?g:b<.5?Math.PI-g:b<.75?Math.PI+g:-g},s=(f,d,p)=>f*d/Math.sqrt((d*Math.cos(p))**2+(f*Math.sin(p))**2),[a,o]=[i.width/2,i.height/2],l=n(a,o),u=s(a,o,l),c=r?u*Math.sqrt(Ie()):u;return{x:e.x+c*Math.cos(l),y:e.y+c*Math.sin(l)}}}class qF{constructor(){this.wait=!1}load(e){!e||(e.count!==void 0&&(this.count=e.count),e.delay!==void 0&&(this.delay=e.delay),e.duration!==void 0&&(this.duration=e.duration),e.wait!==void 0&&(this.wait=e.wait))}}class $F{constructor(){this.quantity=1,this.delay=.1}load(e){e!==void 0&&(e.quantity!==void 0&&(this.quantity=xe(e.quantity)),e.delay!==void 0&&(this.delay=xe(e.delay)))}}class GC{constructor(){this.mode="percent",this.height=0,this.width=0}load(e){e!==void 0&&(e.mode!==void 0&&(this.mode=e.mode),e.height!==void 0&&(this.height=e.height),e.width!==void 0&&(this.width=e.width))}}class Br{constructor(){this.autoPlay=!0,this.fill=!0,this.life=new qF,this.rate=new $F,this.shape="square",this.startCount=0}load(e){!e||(e.autoPlay!==void 0&&(this.autoPlay=e.autoPlay),e.size!==void 0&&(this.size||(this.size=new GC),this.size.load(e.size)),e.direction!==void 0&&(this.direction=e.direction),this.domId=e.domId,e.fill!==void 0&&(this.fill=e.fill),this.life.load(e.life),this.name=e.name,this.particles=st(e.particles,i=>Et({},i)),this.rate.load(e.rate),e.shape!==void 0&&(this.shape=e.shape),e.position!==void 0&&(this.position={},e.position.x!==void 0&&(this.position.x=xe(e.position.x)),e.position.y!==void 0&&(this.position.y=xe(e.position.y))),e.spawnColor!==void 0&&(this.spawnColor===void 0&&(this.spawnColor=new lo),this.spawnColor.load(e.spawnColor)),e.startCount!==void 0&&(this.startCount=e.startCount))}}class GF{constructor(e,i,r,n,s){var a,o,l,u,c,f,d,p;this.emitters=i,this.container=r,this._engine=e,this._currentDuration=0,this._currentEmitDelay=0,this._currentSpawnDelay=0,this._initialPosition=s,n instanceof Br?this.options=n:(this.options=new Br,this.options.load(n)),this._spawnDelay=((a=this.options.life.delay)!==null&&a!==void 0?a:0)*1e3/this.container.retina.reduceFactor,this.position=(o=this._initialPosition)!==null&&o!==void 0?o:this.calcPosition(),this.name=this.options.name,this._shape=(l=this._engine.emitterShapeManager)===null||l===void 0?void 0:l.getShape(this.options.shape),this.fill=this.options.fill,this._firstSpawn=!this.options.life.wait,this._startParticlesAdded=!1;let g=Et({},this.options.particles);g??(g={}),(u=g.move)!==null&&u!==void 0||(g.move={}),(c=(p=g.move).direction)!==null&&c!==void 0||(p.direction=this.options.direction),this.options.spawnColor&&(this.spawnColor=cs(this.options.spawnColor)),this._paused=!this.options.autoPlay,this._particlesOptions=g,this.size=(f=this.options.size)!==null&&f!==void 0?f:(()=>{const b=new GC;return b.load({height:0,mode:"percent",width:0}),b})(),this._lifeCount=(d=this.options.life.count)!==null&&d!==void 0?d:-1,this._immortal=this._lifeCount<=0,this._engine.dispatchEvent("emitterCreated",{container:r,data:{emitter:this}}),this.play()}externalPause(){this._paused=!0,this.pause()}externalPlay(){this._paused=!1,this.play()}getPosition(){if(this.options.domId){const e=this.container,i=document.getElementById(this.options.domId);if(i){const r=i.getBoundingClientRect();return{x:(r.x+r.width/2)*e.retina.pixelRatio,y:(r.y+r.height/2)*e.retina.pixelRatio}}}return this.position}getSize(){const e=this.container;if(this.options.domId){const i=document.getElementById(this.options.domId);if(i){const r=i.getBoundingClientRect();return{width:r.width*e.retina.pixelRatio,height:r.height*e.retina.pixelRatio}}}return{width:this.size.mode==="percent"?e.canvas.size.width*this.size.width/100:this.size.width,height:this.size.mode==="percent"?e.canvas.size.height*this.size.height/100:this.size.height}}pause(){this._paused||delete this._emitDelay}play(){var e;if(!this._paused&&!!(this.container.retina.reduceFactor&&(this._lifeCount>0||this._immortal||!this.options.life.count)&&(this._firstSpawn||this._currentSpawnDelay>=((e=this._spawnDelay)!==null&&e!==void 0?e:0)))){if(this._emitDelay===void 0){const i=he(this.options.rate.delay);this._emitDelay=1e3*i/this.container.retina.reduceFactor}(this._lifeCount>0||this._immortal)&&this.prepareToDie()}}resize(){const e=this._initialPosition;this.position=e&&nc(e,this.container.canvas.size,Qe.origin)?e:this.calcPosition()}update(e){var i,r,n;this._paused||(this._firstSpawn&&(this._firstSpawn=!1,this._currentSpawnDelay=(i=this._spawnDelay)!==null&&i!==void 0?i:0,this._currentEmitDelay=(r=this._emitDelay)!==null&&r!==void 0?r:0),this._startParticlesAdded||(this._startParticlesAdded=!0,this.emitParticles(this.options.startCount)),this._duration!==void 0&&(this._currentDuration+=e.value,this._currentDuration>=this._duration&&(this.pause(),this._spawnDelay!==void 0&&delete this._spawnDelay,this._immortal||this._lifeCount--,this._lifeCount>0||this._immortal?(this.position=this.calcPosition(),this._spawnDelay=((n=this.options.life.delay)!==null&&n!==void 0?n:0)*1e3/this.container.retina.reduceFactor):this.destroy(),this._currentDuration-=this._duration,delete this._duration)),this._spawnDelay!==void 0&&(this._currentSpawnDelay+=e.value,this._currentSpawnDelay>=this._spawnDelay&&(this._engine.dispatchEvent("emitterPlay",{container:this.container}),this.play(),this._currentSpawnDelay-=this._currentSpawnDelay,delete this._spawnDelay)),this._emitDelay!==void 0&&(this._currentEmitDelay+=e.value,this._currentEmitDelay>=this._emitDelay&&(this.emit(),this._currentEmitDelay-=this._emitDelay)))}calcPosition(){return PC({size:this.container.canvas.size,position:this.options.position})}destroy(){this.emitters.removeEmitter(this),this._engine.dispatchEvent("emitterDestroyed",{container:this.container,data:{emitter:this}})}emit(){if(this._paused)return;const e=he(this.options.rate.quantity);this.emitParticles(e)}emitParticles(e){var i,r,n;const s=this.getPosition(),a=this.getSize(),o=hn(this._particlesOptions);for(let l=0;l<e;l++){const u=Et({},o);if(this.spawnColor){const f=(i=this.options.spawnColor)===null||i===void 0?void 0:i.animation;f&&(this.spawnColor.h=this.setColorAnimation(f.h,this.spawnColor.h,360),this.spawnColor.s=this.setColorAnimation(f.s,this.spawnColor.s,100),this.spawnColor.l=this.setColorAnimation(f.l,this.spawnColor.l,100)),u.color?u.color.value=this.spawnColor:u.color={value:this.spawnColor}}if(!s)return;const c=(n=(r=this._shape)===null||r===void 0?void 0:r.randomPosition(s,a,this.fill))!==null&&n!==void 0?n:s;this.container.particles.addParticle(c,u)}}prepareToDie(){var e;if(this._paused)return;const i=(e=this.options.life)===null||e===void 0?void 0:e.duration;this.container.retina.reduceFactor&&(this._lifeCount>0||this._immortal)&&i!==void 0&&i>0&&(this._duration=i*1e3)}setColorAnimation(e,i,r){var n;const s=this.container;if(!e.enable)return i;const a=Ot(e.offset),o=he(this.options.rate.delay),l=1e3*o/s.retina.reduceFactor,u=he((n=e.speed)!==null&&n!==void 0?n:0);return(i+u*s.fpsLimit/l+a*3.6)%r}}class KF{constructor(e,i){this.container=i,this._engine=e,this.array=[],this.emitters=[],this.interactivityEmitters={random:{count:1,enable:!1},value:[]},i.getEmitter=r=>r===void 0||typeof r=="number"?this.array[r||0]:this.array.find(n=>n.name===r),i.addEmitter=(r,n)=>this.addEmitter(r,n),i.removeEmitter=r=>{const n=i.getEmitter(r);n&&this.removeEmitter(n)},i.playEmitter=r=>{const n=i.getEmitter(r);n&&n.externalPlay()},i.pauseEmitter=r=>{const n=i.getEmitter(r);n&&n.externalPause()}}addEmitter(e,i){const r=new Br;r.load(e);const n=new GF(this._engine,this,this.container,r,i);return this.array.push(n),n}handleClickMode(e){const i=this.emitters,r=this.interactivityEmitters;if(e!=="emitter")return;let n;if(r&&r.value instanceof Array)if(r.value.length>0&&r.random.enable){n=[];const o=[];for(let l=0;l<r.random.count;l++){const u=IC(r.value);if(o.includes(u)&&o.length<r.value.length){l--;continue}o.push(u),n.push(ic(r.value,u))}}else n=r.value;else n=r?.value;const s=n??i,a=this.container.interactivity.mouse.clickPosition;st(s,o=>{this.addEmitter(o,a)})}async init(){if(this.emitters=this.container.actualOptions.emitters,this.interactivityEmitters=this.container.actualOptions.interactivity.modes.emitters,!!this.emitters)if(this.emitters instanceof Array)for(const e of this.emitters)this.addEmitter(e);else this.addEmitter(this.emitters)}pause(){for(const e of this.array)e.pause()}play(){for(const e of this.array)e.play()}removeEmitter(e){const i=this.array.indexOf(e);i>=0&&this.array.splice(i,1)}resize(){for(const e of this.array)e.resize()}stop(){this.array=[]}update(e){for(const i of this.array)i.update(e)}}const nm=new Map;class XF{constructor(e){this._engine=e}addShape(e,i){this.getShape(e)||nm.set(e,i)}getShape(e){return nm.get(e)}getSupportedShapes(){return nm.keys()}}function Px(t,e){return t+e*(Ie()-.5)}class YF{randomPosition(e,i,r){if(r)return{x:Px(e.x,i.width),y:Px(e.y,i.height)};{const n=i.width/2,s=i.height/2,a=Math.floor(Ie()*4),o=(Ie()-.5)*2;switch(a){case 0:return{x:e.x+o*n,y:e.y-s};case 1:return{x:e.x-n,y:e.y+o*s};case 2:return{x:e.x+o*n,y:e.y+s};case 3:default:return{x:e.x+n,y:e.y+o*s}}}}}class QF{constructor(e){this._engine=e,this.id="emitters"}getPlugin(e){return new KF(this._engine,e)}loadOptions(e,i){var r,n,s,a,o,l;if(!this.needsPlugin(e)&&!this.needsPlugin(i))return;i?.emitters&&(e.emitters=st(i.emitters,c=>{const f=new Br;return f.load(c),f}));const u=(n=(r=i?.interactivity)===null||r===void 0?void 0:r.modes)===null||n===void 0?void 0:n.emitters;if(u)if(u instanceof Array)e.interactivity.modes.emitters={random:{count:1,enable:!0},value:u.map(c=>{const f=new Br;return f.load(c),f})};else{const c=u;if(c.value!==void 0)if(c.value instanceof Array)e.interactivity.modes.emitters={random:{count:(s=c.random.count)!==null&&s!==void 0?s:1,enable:(a=c.random.enable)!==null&&a!==void 0?a:!1},value:c.value.map(f=>{const d=new Br;return d.load(f),d})};else{const f=new Br;f.load(c.value),e.interactivity.modes.emitters={random:{count:(o=c.random.count)!==null&&o!==void 0?o:1,enable:(l=c.random.enable)!==null&&l!==void 0?l:!1},value:f}}else(e.interactivity.modes.emitters={random:{count:1,enable:!1},value:new Br}).value.load(u)}}needsPlugin(e){var i,r,n;if(!e)return!1;const s=e.emitters;return s instanceof Array&&!!s.length||s!==void 0||!!(!((n=(r=(i=e.interactivity)===null||i===void 0?void 0:i.events)===null||r===void 0?void 0:r.onClick)===null||n===void 0)&&n.mode)&&rt("emitter",e.interactivity.events.onClick.mode)}}async function JF(t){t.emitterShapeManager||(t.emitterShapeManager=new XF(t)),t.addEmitterShape||(t.addEmitterShape=(i,r)=>{var n;(n=t.emitterShapeManager)===null||n===void 0||n.addShape(i,r)});const e=new QF(t);await t.addPlugin(e),t.addEmitterShape("circle",new WF),t.addEmitterShape("square",new YF)}class ZF{constructor(){this.delay=1,this.pauseOnStop=!1,this.quantity=1}load(e){!e||(e.delay!==void 0&&(this.delay=e.delay),e.quantity!==void 0&&(this.quantity=e.quantity),e.particles!==void 0&&(this.particles=Et({},e.particles)),e.pauseOnStop!==void 0&&(this.pauseOnStop=e.pauseOnStop))}}class eU extends Ln{constructor(e){super(e),this._delay=0}clear(){}init(){}async interact(e){var i,r,n,s;if(!this.container.retina.reduceFactor)return;const a=this.container,o=a.actualOptions,l=o.interactivity.modes.trail;if(!l)return;const u=l.delay*1e3/this.container.retina.reduceFactor;if(this._delay<u&&(this._delay+=e.value),this._delay<u)return;let c=!0;l.pauseOnStop&&(a.interactivity.mouse.position===this._lastPosition||((i=a.interactivity.mouse.position)===null||i===void 0?void 0:i.x)===((r=this._lastPosition)===null||r===void 0?void 0:r.x)&&((n=a.interactivity.mouse.position)===null||n===void 0?void 0:n.y)===((s=this._lastPosition)===null||s===void 0?void 0:s.y))&&(c=!1),a.interactivity.mouse.position?this._lastPosition={x:a.interactivity.mouse.position.x,y:a.interactivity.mouse.position.y}:delete this._lastPosition,c&&a.particles.push(l.quantity,a.interactivity.mouse,l.particles),this._delay-=u}isEnabled(e){var i;const r=this.container,n=r.actualOptions,s=r.interactivity.mouse,a=((i=e?.interactivity)!==null&&i!==void 0?i:n.interactivity).events;return s.clicking&&s.inside&&!!s.position&&rt("trail",a.onClick.mode)||s.inside&&!!s.position&&rt("trail",a.onHover.mode)}loadModeOptions(e,...i){e.trail||(e.trail=new ZF);for(const r of i)e.trail.load(r?.trail)}reset(){}}async function tU(t){await t.addInteractor("externalTrail",e=>new eU(e))}class Ox{constructor(){this.enable=!1,this.value=0}load(e){!e||(e.enable!==void 0&&(this.enable=e.enable),e.value!==void 0&&(this.value=xe(e.value)))}}class iU{constructor(){this.darken=new Ox,this.enable=!1,this.enlighten=new Ox,this.mode="vertical",this.speed=25}load(e){!e||(e.backColor!==void 0&&(this.backColor=yt.create(this.backColor,e.backColor)),this.darken.load(e.darken),e.enable!==void 0&&(this.enable=e.enable),this.enlighten.load(e.enlighten),e.mode!==void 0&&(this.mode=e.mode),e.speed!==void 0&&(this.speed=xe(e.speed)))}}function nU(t,e){const i=t.options.roll;if(!t.roll||!i?.enable)return;const r=t.roll.speed*e.factor,n=2*Math.PI;t.roll.angle+=r,t.roll.angle>n&&(t.roll.angle-=n)}class rU{getTransformValues(e){var i;const r=((i=e.roll)===null||i===void 0?void 0:i.enable)&&e.roll,n=r&&r.horizontal,s=r&&r.vertical;return{a:n?Math.cos(r.angle):void 0,d:s?Math.sin(r.angle):void 0}}init(e){const i=e.options.roll;if(i?.enable)if(e.roll={enable:i.enable,horizontal:i.mode==="horizontal"||i.mode==="both",vertical:i.mode==="vertical"||i.mode==="both",angle:Ie()*Math.PI*2,speed:he(i.speed)/360},i.backColor)e.backColor=cs(i.backColor);else if(i.darken.enable&&i.enlighten.enable){const r=Ie()>=.5?"darken":"enlighten";e.roll.alter={type:r,value:he(r==="darken"?i.darken.value:i.enlighten.value)}}else i.darken.enable?e.roll.alter={type:"darken",value:he(i.darken.value)}:i.enlighten.enable&&(e.roll.alter={type:"enlighten",value:he(i.enlighten.value)});else e.roll={enable:!1,horizontal:!1,vertical:!1,angle:0,speed:0}}isEnabled(e){const i=e.options.roll;return!e.destroyed&&!e.spawning&&!!i?.enable}loadOptions(e,...i){e.roll||(e.roll=new iU);for(const r of i)e.roll.load(r?.roll)}update(e,i){!this.isEnabled(e)||nU(e,i)}}async function sU(t){await t.addParticleUpdater("roll",()=>new rU)}const aU=t=>{const e=(r,n)=>t.load(r,n);e.load=(r,n,s)=>{t.loadJSON(r,n).then(a=>{a&&s(a)}).catch(()=>{s(void 0)})},e.setOnClickHandler=r=>{t.setOnClickHandler(r)};const i=t.dom();return{particlesJS:e,pJSDom:i}};class oU{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){!e||(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=xe(e.speed)),e.decay!==void 0&&(this.decay=xe(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class lU extends bn{constructor(){super(),this.animation=new oU,this.direction="clockwise",this.path=!1,this.value=0}load(e){!e||(super.load(e),e.direction!==void 0&&(this.direction=e.direction),this.animation.load(e.animation),e.path!==void 0&&(this.path=e.path))}}function uU(t,e){var i,r;const n=t.rotate,s=t.options.rotate;if(!n||!s)return;const a=s.animation,o=((i=n.velocity)!==null&&i!==void 0?i:0)*e.factor,l=2*Math.PI,u=(r=n.decay)!==null&&r!==void 0?r:1;if(!!a.enable){switch(n.status){case"increasing":n.value+=o,n.value>l&&(n.value-=l);break;case"decreasing":default:n.value-=o,n.value<0&&(n.value+=l);break}n.velocity&&u!==1&&(n.velocity*=u)}}class cU{constructor(e){this.container=e}init(e){const i=e.options.rotate;if(!i)return;e.rotate={enable:i.animation.enable,value:he(i.value)*Math.PI/180},e.pathRotation=i.path;let r=i.direction;switch(r==="random"&&(r=Math.floor(Ie()*2)>0?"counter-clockwise":"clockwise"),r){case"counter-clockwise":case"counterClockwise":e.rotate.status="decreasing";break;case"clockwise":e.rotate.status="increasing";break}const n=i.animation;n.enable&&(e.rotate.decay=1-he(n.decay),e.rotate.velocity=he(n.speed)/360*this.container.retina.reduceFactor,n.sync||(e.rotate.velocity*=Ie())),e.rotation=e.rotate.value}isEnabled(e){const i=e.options.rotate;return i?!e.destroyed&&!e.spawning&&i.animation.enable&&!i.path:!1}loadOptions(e,...i){e.rotate||(e.rotate=new lU);for(const r of i)e.rotate.load(r?.rotate)}update(e,i){var r,n;!this.isEnabled(e)||(uU(e,i),e.rotation=(n=(r=e.rotate)===null||r===void 0?void 0:r.value)!==null&&n!==void 0?n:0)}}async function dU(t){await t.addParticleUpdater("rotate",e=>new cU(e))}function fU(t){const e=t.initialPosition,{dx:i,dy:r}=wi(e,t.position),n=Math.abs(i),s=Math.abs(r),a=t.retina.maxDistance.horizontal,o=t.retina.maxDistance.vertical;if(!(!a&&!o)){if((a&&n>=a||o&&s>=o)&&!t.misplaced)t.misplaced=!!a&&n>a||!!o&&s>o,a&&(t.velocity.x=t.velocity.y/2-t.velocity.x),o&&(t.velocity.y=t.velocity.x/2-t.velocity.y);else if((!a||n<a)&&(!o||s<o)&&t.misplaced)t.misplaced=!1;else if(t.misplaced){const l=t.position,u=t.velocity;a&&(l.x<e.x&&u.x<0||l.x>e.x&&u.x>0)&&(u.x*=-Ie()),o&&(l.y<e.y&&u.y<0||l.y>e.y&&u.y>0)&&(u.y*=-Ie())}}}function hU(t,e){const i=t.container;if(!t.spin)return;const r={x:t.spin.direction==="clockwise"?Math.cos:Math.sin,y:t.spin.direction==="clockwise"?Math.sin:Math.cos};t.position.x=t.spin.center.x+t.spin.radius*r.x(t.spin.angle),t.position.y=t.spin.center.y+t.spin.radius*r.y(t.spin.angle),t.spin.radius+=t.spin.acceleration;const n=Math.max(i.canvas.size.width,i.canvas.size.height);t.spin.radius>n/2?(t.spin.radius=n/2,t.spin.acceleration*=-1):t.spin.radius<0&&(t.spin.radius=0,t.spin.acceleration*=-1),t.spin.angle+=e/100*(1-t.spin.radius/n)}function pU(t,e){var i;const r=t.options,n=r.move.path;if(!n.enable)return;if(t.lastPathTime<=t.pathDelay){t.lastPathTime+=e.value;return}const a=(i=t.pathGenerator)===null||i===void 0?void 0:i.generate(t);a&&t.velocity.addTo(a),n.clamp&&(t.velocity.x=Dn(t.velocity.x,-1,1),t.velocity.y=Dn(t.velocity.y,-1,1)),t.lastPathTime-=t.pathDelay}function mU(t){return t.slow.inRange?t.slow.factor:1}class vU{init(e){var i;const r=e.container,n=e.options,s=n.move.gravity,a=n.move.spin;if(e.gravity={enable:s.enable,acceleration:he(s.acceleration),inverse:s.inverse},a.enable){const o=(i=a.position)!==null&&i!==void 0?i:{x:50,y:50},l={x:o.x/100*r.canvas.size.width,y:o.y/100*r.canvas.size.height},u=e.getPosition(),c=At(u,l),f=he(a.acceleration);e.retina.spinAcceleration=f*r.retina.pixelRatio,e.spin={center:l,direction:e.velocity.x>=0?"clockwise":"counter-clockwise",angle:e.velocity.angle,radius:c,acceleration:e.retina.spinAcceleration}}}isEnabled(e){return!e.destroyed&&e.options.move.enable}move(e,i){var r,n,s,a,o;const l=e.options,u=l.move;if(!u.enable)return;const c=e.container,f=mU(e),d=((r=(a=e.retina).moveSpeed)!==null&&r!==void 0?r:a.moveSpeed=he(u.speed)*c.retina.pixelRatio)*c.retina.reduceFactor,p=(n=(o=e.retina).moveDrift)!==null&&n!==void 0?n:o.moveDrift=he(e.options.move.drift)*c.retina.pixelRatio,g=Wn(l.size.value)*c.retina.pixelRatio,b=u.size?e.getRadius()/g:1,y=b*f*(i.factor||1),T=2,S=d*y/T;if(u.spin.enable)hU(e,S);else{pU(e,i);const I=e.gravity,O=I?.enable&&I.inverse?-1:1;I?.enable&&S&&(e.velocity.y+=O*(I.acceleration*i.factor)/(60*S)),p&&S&&(e.velocity.x+=p*i.factor/(60*S));const M=e.moveDecay;M!=1&&e.velocity.multTo(M);const R=e.velocity.mult(S),A=(s=e.retina.maxSpeed)!==null&&s!==void 0?s:c.retina.maxSpeed;I?.enable&&A>0&&(!I.inverse&&R.y>=0&&R.y>=A||I.inverse&&R.y<=0&&R.y<=-A)&&(R.y=O*A,S&&(e.velocity.y=R.y/S));const E=e.options.zIndex,C=(1-e.zIndexFactor)**E.velocityRate;C!=1&&R.multTo(C),e.position.addTo(R),u.vibrate&&(e.position.x+=Math.sin(e.position.x*Math.cos(e.position.y)),e.position.y+=Math.cos(e.position.y*Math.sin(e.position.x)))}fU(e)}}async function gU(t){t.addMover("base",()=>new vU)}class yU{draw(e,i,r){i.circleRange||(i.circleRange={min:0,max:Math.PI*2});const n=i.circleRange;e.arc(0,0,r,n.min,n.max,!1)}getSidesCount(){return 12}particleInit(e,i){var r;const n=i.shapeData,s=(r=n?.angle)!==null&&r!==void 0?r:{max:360,min:0};i.circleRange=typeof s!="object"?{min:0,max:s*Math.PI/180}:{min:s.min*Math.PI/180,max:s.max*Math.PI/180}}}async function _U(t){await t.addShape("circle",new yU)}function rm(t,e,i,r,n){var s,a;const o=e;if(!o||!i.enable||o.loops!==void 0&&o.maxLoops!==void 0&&o.maxLoops>0&&o.loops>=o.maxLoops)return;const l=Ot(i.offset),u=((s=e.velocity)!==null&&s!==void 0?s:0)*t.factor+l*3.6,c=(a=e.decay)!==null&&a!==void 0?a:1;!n||o.status==="increasing"?(o.value+=u,o.value>r&&(o.loops||(o.loops=0),o.loops++,n&&(o.status="decreasing",o.value-=o.value%r))):(o.value-=u,o.value<0&&(o.loops||(o.loops=0),o.loops++,o.status="increasing",o.value+=o.value)),o.velocity&&c!==1&&(o.velocity*=c),o.value>r&&(o.value%=r)}function bU(t,e){var i,r,n;const s=t.options.color.animation,a=(i=t.color)===null||i===void 0?void 0:i.h,o=(r=t.color)===null||r===void 0?void 0:r.s,l=(n=t.color)===null||n===void 0?void 0:n.l;a&&rm(e,a,s.h,360,!1),o&&rm(e,o,s.s,100,!0),l&&rm(e,l,s.l,100,!0)}class TU{constructor(e){this.container=e}init(e){const i=cs(e.options.color,e.id,e.options.reduceDuplicates);i&&(e.color=BC(i,e.options.color.animation,this.container.retina.reduceFactor))}isEnabled(e){var i,r,n;const s=e.options.color.animation;return!e.destroyed&&!e.spawning&&(((i=e.color)===null||i===void 0?void 0:i.h.value)!==void 0&&s.h.enable||((r=e.color)===null||r===void 0?void 0:r.s.value)!==void 0&&s.s.enable||((n=e.color)===null||n===void 0?void 0:n.l.value)!==void 0&&s.l.enable)}update(e,i){bU(e,i)}}async function xU(t){await t.addParticleUpdater("color",e=>new TU(e))}class wU{constructor(){this.distance=200,this.duration=.4,this.easing="ease-out-quad",this.factor=1,this.maxSpeed=50,this.speed=1}load(e){!e||(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed),e.speed!==void 0&&(this.speed=e.speed))}}class SU extends Ln{constructor(e,i){super(i),this._engine=e,i.attract||(i.attract={particles:[]}),this.handleClickMode=r=>{const n=this.container.actualOptions,s=n.interactivity.modes.attract;if(!(!s||r!=="attract")){i.attract||(i.attract={particles:[]}),i.attract.clicking=!0,i.attract.count=0;for(const a of i.attract.particles)!this.isEnabled(a)||a.velocity.setTo(a.initialVelocity);i.attract.particles=[],i.attract.finish=!1,setTimeout(()=>{i.destroyed||(i.attract||(i.attract={particles:[]}),i.attract.clicking=!1)},s.duration*1e3)}}}clear(){}init(){const e=this.container,i=e.actualOptions.interactivity.modes.attract;!i||(e.retina.attractModeDistance=i.distance*e.retina.pixelRatio)}async interact(){const e=this.container,i=e.actualOptions,r=e.interactivity.status===Ys,n=i.interactivity.events,s=n.onHover.enable,a=n.onHover.mode,o=n.onClick.enable,l=n.onClick.mode;r&&s&&rt("attract",a)?this.hoverAttract():o&&rt("attract",l)&&this.clickAttract()}isEnabled(e){var i;const r=this.container,n=r.actualOptions,s=r.interactivity.mouse,a=((i=e?.interactivity)!==null&&i!==void 0?i:n.interactivity).events;if((!s.position||!a.onHover.enable)&&(!s.clickPosition||!a.onClick.enable))return!1;const o=a.onHover.mode,l=a.onClick.mode;return rt("attract",o)||rt("attract",l)}loadModeOptions(e,...i){e.attract||(e.attract=new wU);for(const r of i)e.attract.load(r?.attract)}reset(){}clickAttract(){const e=this.container;if(e.attract||(e.attract={particles:[]}),e.attract.finish||(e.attract.count||(e.attract.count=0),e.attract.count++,e.attract.count===e.particles.count&&(e.attract.finish=!0)),e.attract.clicking){const i=e.interactivity.mouse.clickPosition,r=e.retina.attractModeDistance;if(!r||r<0||!i)return;this.processAttract(i,r,new Bi(i.x,i.y,r))}else e.attract.clicking===!1&&(e.attract.particles=[])}hoverAttract(){const e=this.container,i=e.interactivity.mouse.position,r=e.retina.attractModeDistance;!r||r<0||!i||this.processAttract(i,r,new Bi(i.x,i.y,r))}processAttract(e,i,r){const n=this.container,s=n.actualOptions.interactivity.modes.attract;if(!s)return;const a=n.particles.quadTree.query(r,o=>this.isEnabled(o));for(const o of a){const{dx:l,dy:u,distance:c}=wi(o.position,e),f=s.speed*s.factor,d=Dn(CC(s.easing)(1-c/i)*f,0,s.maxSpeed),p=Qe.create(c===0?f:l/c*d,c===0?f:u/c*d);o.position.subFrom(p)}}}async function EU(t){await t.addInteractor("externalAttract",e=>new SU(t,e))}class CU{constructor(){this.distance=200}load(e){!e||e.distance!==void 0&&(this.distance=e.distance)}}class kU extends Ln{constructor(e){super(e)}clear(){}init(){const e=this.container,i=e.actualOptions.interactivity.modes.bounce;!i||(e.retina.bounceModeDistance=i.distance*e.retina.pixelRatio)}async interact(){const e=this.container,i=e.actualOptions,r=i.interactivity.events,n=e.interactivity.status===Ys,s=r.onHover.enable,a=r.onHover.mode,o=r.onDiv;n&&s&&rt("bounce",a)?this.processMouseBounce():dy("bounce",o,(l,u)=>this.singleSelectorBounce(l,u))}isEnabled(e){var i;const r=this.container,n=r.actualOptions,s=r.interactivity.mouse,a=((i=e?.interactivity)!==null&&i!==void 0?i:n.interactivity).events,o=a.onDiv;return s.position&&a.onHover.enable&&rt("bounce",a.onHover.mode)||cy("bounce",o)}loadModeOptions(e,...i){e.bounce||(e.bounce=new CU);for(const r of i)e.bounce.load(r?.bounce)}reset(){}processBounce(e,i,r){const n=this.container.particles.quadTree.query(r,s=>this.isEnabled(s));for(const s of n)r instanceof Bi?MC(Xv(s),{position:e,radius:i,mass:i**2*Math.PI/2,velocity:Qe.origin,factor:Qe.origin}):r instanceof Li&&nN(s,rc(e,i))}processMouseBounce(){const e=this.container,i=e.retina.pixelRatio,r=10*i,n=e.interactivity.mouse.position,s=e.retina.bounceModeDistance;!s||s<0||!n||this.processBounce(n,s,new Bi(n.x,n.y,s+r))}singleSelectorBounce(e,i){const r=this.container,n=document.querySelectorAll(e);!n.length||n.forEach(s=>{const a=s,o=r.retina.pixelRatio,l={x:(a.offsetLeft+a.offsetWidth/2)*o,y:(a.offsetTop+a.offsetHeight/2)*o},u=a.offsetWidth/2*o,c=10*o,f=i.type==="circle"?new Bi(l.x,l.y,u+c):new Li(a.offsetLeft*o-c,a.offsetTop*o-c,a.offsetWidth*o+c*2,a.offsetHeight*o+c*2);this.processBounce(l,u,f)})}}async function PU(t){await t.addInteractor("externalBounce",e=>new kU(e))}class KC{constructor(){this.distance=200,this.duration=.4,this.mix=!1}load(e){if(!!e){if(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.mix!==void 0&&(this.mix=e.mix),e.opacity!==void 0&&(this.opacity=e.opacity),e.color!==void 0){const i=this.color instanceof Array?void 0:this.color;this.color=st(e.color,r=>yt.create(i,r))}e.size!==void 0&&(this.size=e.size)}}}class OU extends KC{constructor(){super(),this.selectors=[]}get ids(){return st(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=st(e,i=>`#${i}`)}load(e){super.load(e),e&&(e.ids!==void 0&&(this.ids=e.ids),e.selectors!==void 0&&(this.selectors=e.selectors))}}class AU extends KC{load(e){super.load(e),e&&(this.divs=st(e.divs,i=>{const r=new OU;return r.load(i),r}))}}function Ax(t,e,i,r){if(e>=i){const n=t+(e-i)*r;return Dn(n,t,e)}else if(e<i){const n=t-(i-e)*r;return Dn(n,e,t)}}class IU extends Ln{constructor(e){super(e),e.bubble||(e.bubble={}),this.handleClickMode=i=>{i==="bubble"&&(e.bubble||(e.bubble={}),e.bubble.clicking=!0)}}clear(e,i,r){e.bubble.inRange&&!r||(delete e.bubble.div,delete e.bubble.opacity,delete e.bubble.radius,delete e.bubble.color)}init(){const e=this.container,i=e.actualOptions.interactivity.modes.bubble;!i||(e.retina.bubbleModeDistance=i.distance*e.retina.pixelRatio,i.size!==void 0&&(e.retina.bubbleModeSize=i.size*e.retina.pixelRatio))}async interact(e){const i=this.container.actualOptions,r=i.interactivity.events,n=r.onHover,s=r.onClick,a=n.enable,o=n.mode,l=s.enable,u=s.mode,c=r.onDiv;a&&rt("bubble",o)?this.hoverBubble(e):l&&rt("bubble",u)?this.clickBubble(e):dy("bubble",c,(f,d)=>this.singleSelectorHover(e,f,d))}isEnabled(e){var i;const r=this.container,n=r.actualOptions,s=r.interactivity.mouse,a=((i=e?.interactivity)!==null&&i!==void 0?i:n.interactivity).events,o=a.onDiv,l=cy("bubble",o);if(!(l||a.onHover.enable&&s.position||a.onClick.enable&&s.clickPosition))return!1;const u=a.onHover.mode,c=a.onClick.mode;return rt("bubble",u)||rt("bubble",c)||l}loadModeOptions(e,...i){e.bubble||(e.bubble=new AU);for(const r of i)e.bubble.load(r?.bubble)}reset(e){e.bubble.inRange=!1}clickBubble(e){var i,r;const n=this.container,s=n.actualOptions,a=n.interactivity.mouse.clickPosition,o=s.interactivity.modes.bubble;if(!o||!a)return;n.bubble||(n.bubble={});const l=n.retina.bubbleModeDistance;if(!l||l<0)return;const u=n.particles.quadTree.queryCircle(a,l,c=>this.isEnabled(c));for(const c of u){if(!n.bubble.clicking)continue;c.bubble.inRange=!n.bubble.durationEnd;const f=c.getPosition(),d=At(f,a),p=(new Date().getTime()-(n.interactivity.mouse.clickTime||0))/1e3;p>o.duration&&(n.bubble.durationEnd=!0),p>o.duration*2&&(n.bubble.clicking=!1,n.bubble.durationEnd=!1);const g={bubbleObj:{optValue:n.retina.bubbleModeSize,value:c.bubble.radius},particlesObj:{optValue:Wn(c.options.size.value)*n.retina.pixelRatio,value:c.size.value},type:"size"};this.process(c,d,p,g);const b={bubbleObj:{optValue:o.opacity,value:c.bubble.opacity},particlesObj:{optValue:Wn(c.options.opacity.value),value:(r=(i=c.opacity)===null||i===void 0?void 0:i.value)!==null&&r!==void 0?r:1},type:"opacity"};this.process(c,d,p,b),n.bubble.durationEnd?delete c.bubble.color:d<=l?this.hoverBubbleColor(c,d):delete c.bubble.color}}hoverBubble(e){const i=this.container,r=i.interactivity.mouse.position,n=i.retina.bubbleModeDistance;if(!n||n<0||r===void 0)return;const s=i.particles.quadTree.queryCircle(r,n,a=>this.isEnabled(a));for(const a of s){a.bubble.inRange=!0;const o=a.getPosition(),l=At(o,r),u=1-l/n;l<=n?u>=0&&i.interactivity.status===Ys&&(this.hoverBubbleSize(a,u),this.hoverBubbleOpacity(a,u),this.hoverBubbleColor(a,u)):this.reset(a),i.interactivity.status===Qv&&this.reset(a)}}hoverBubbleColor(e,i,r){const n=this.container.actualOptions,s=r??n.interactivity.modes.bubble;if(!!s){if(!e.bubble.finalColor){const a=s.color;if(!a)return;const o=hn(a);e.bubble.finalColor=cs(o)}if(!!e.bubble.finalColor)if(s.mix){e.bubble.color=void 0;const a=e.getFillColor();e.bubble.color=a?NC(fy(a,e.bubble.finalColor,1-i,i)):e.bubble.finalColor}else e.bubble.color=e.bubble.finalColor}}hoverBubbleOpacity(e,i,r){var n,s,a,o;const l=this.container,u=l.actualOptions,c=(n=r?.opacity)!==null&&n!==void 0?n:(s=u.interactivity.modes.bubble)===null||s===void 0?void 0:s.opacity;if(!c)return;const f=e.options.opacity.value,d=(o=(a=e.opacity)===null||a===void 0?void 0:a.value)!==null&&o!==void 0?o:1,p=Ax(d,c,Wn(f),i);p!==void 0&&(e.bubble.opacity=p)}hoverBubbleSize(e,i,r){const n=this.container,s=r?.size?r.size*n.retina.pixelRatio:n.retina.bubbleModeSize;if(s===void 0)return;const a=Wn(e.options.size.value)*n.retina.pixelRatio,o=e.size.value,l=Ax(o,s,a,i);l!==void 0&&(e.bubble.radius=l)}process(e,i,r,n){const s=this.container,a=n.bubbleObj.optValue,o=s.actualOptions,l=o.interactivity.modes.bubble;if(!l||a===void 0)return;const u=l.duration,c=s.retina.bubbleModeDistance,f=n.particlesObj.optValue,d=n.bubbleObj.value,p=n.particlesObj.value||0,g=n.type;if(!(!c||c<0||a===f))if(s.bubble||(s.bubble={}),s.bubble.durationEnd)d&&(g==="size"&&delete e.bubble.radius,g==="opacity"&&delete e.bubble.opacity);else if(i<=c){if((d??p)!==a){const y=p-r*(p-a)/u;g==="size"&&(e.bubble.radius=y),g==="opacity"&&(e.bubble.opacity=y)}}else g==="size"&&delete e.bubble.radius,g==="opacity"&&delete e.bubble.opacity}singleSelectorHover(e,i,r){const n=this.container,s=document.querySelectorAll(i),a=n.actualOptions.interactivity.modes.bubble;!a||!s.length||s.forEach(o=>{const l=o,u=n.retina.pixelRatio,c={x:(l.offsetLeft+l.offsetWidth/2)*u,y:(l.offsetTop+l.offsetHeight/2)*u},f=l.offsetWidth/2*u,d=r.type==="circle"?new Bi(c.x,c.y,f):new Li(l.offsetLeft*u,l.offsetTop*u,l.offsetWidth*u,l.offsetHeight*u),p=n.particles.quadTree.query(d,g=>this.isEnabled(g));for(const g of p){if(!d.contains(g.getPosition()))continue;g.bubble.inRange=!0;const b=a.divs,y=DC(b,l);(!g.bubble.div||g.bubble.div!==l)&&(this.clear(g,e,!0),g.bubble.div=l),this.hoverBubbleSize(g,1,y),this.hoverBubbleOpacity(g,1,y),this.hoverBubbleColor(g,1,y)}})}}async function DU(t){await t.addInteractor("externalBubble",e=>new IU(e))}class MU{constructor(){this.opacity=.5}load(e){!e||e.opacity!==void 0&&(this.opacity=e.opacity)}}class RU{constructor(){this.distance=80,this.links=new MU,this.radius=60}get lineLinked(){return this.links}set lineLinked(e){this.links=e}get line_linked(){return this.links}set line_linked(e){this.links=e}load(e){var i,r;!e||(e.distance!==void 0&&(this.distance=e.distance),this.links.load((r=(i=e.links)!==null&&i!==void 0?i:e.lineLinked)!==null&&r!==void 0?r:e.line_linked),e.radius!==void 0&&(this.radius=e.radius))}}function LU(t,e,i,r){const n=Math.floor(i.getRadius()/e.getRadius()),s=e.getFillColor(),a=i.getFillColor();if(!s||!a)return;const o=e.getPosition(),l=i.getPosition(),u=fy(s,a,e.getRadius(),i.getRadius()),c=t.createLinearGradient(o.x,o.y,l.x,l.y);return c.addColorStop(0,oo(s,r)),c.addColorStop(n>1?1:n,Yn(u,r)),c.addColorStop(1,oo(a,r)),c}function jU(t,e,i,r,n){Zl(t,r,n),t.lineWidth=e,t.strokeStyle=i,t.stroke()}function NU(t,e,i,r){const n=t.actualOptions,s=n.interactivity.modes.connect;if(!!s)return LU(e,i,r,s.links.opacity)}function FU(t,e,i){t.canvas.draw(r=>{var n;const s=NU(t,r,e,i);if(!s)return;const a=e.getPosition(),o=i.getPosition();jU(r,(n=e.retina.linksWidth)!==null&&n!==void 0?n:0,s,a,o)})}class UU extends Ln{constructor(e){super(e)}clear(){}init(){const e=this.container,i=e.actualOptions.interactivity.modes.connect;!i||(e.retina.connectModeDistance=i.distance*e.retina.pixelRatio,e.retina.connectModeRadius=i.radius*e.retina.pixelRatio)}async interact(){const e=this.container;if(e.actualOptions.interactivity.events.onHover.enable&&e.interactivity.status==="pointermove"){const r=e.interactivity.mouse.position;if(!e.retina.connectModeDistance||e.retina.connectModeDistance<0||!e.retina.connectModeRadius||e.retina.connectModeRadius<0||!r)return;const n=Math.abs(e.retina.connectModeRadius),s=e.particles.quadTree.queryCircle(r,n,o=>this.isEnabled(o));let a=0;for(const o of s){const l=o.getPosition();for(const u of s.slice(a+1)){const c=u.getPosition(),f=Math.abs(e.retina.connectModeDistance),d=Math.abs(l.x-c.x),p=Math.abs(l.y-c.y);d<f&&p<f&&FU(e,o,u)}++a}}}isEnabled(e){var i;const r=this.container,n=r.interactivity.mouse,s=((i=e?.interactivity)!==null&&i!==void 0?i:r.actualOptions.interactivity).events;return s.onHover.enable&&n.position?rt("connect",s.onHover.mode):!1}loadModeOptions(e,...i){e.connect||(e.connect=new RU);for(const r of i)e.connect.load(r?.connect)}reset(){}}async function BU(t){await t.addInteractor("externalConnect",e=>new UU(e))}class zU{constructor(){this.blink=!1,this.consent=!1,this.opacity=1}load(e){!e||(e.blink!==void 0&&(this.blink=e.blink),e.color!==void 0&&(this.color=yt.create(this.color,e.color)),e.consent!==void 0&&(this.consent=e.consent),e.opacity!==void 0&&(this.opacity=e.opacity))}}class VU{constructor(){this.distance=100,this.links=new zU}get lineLinked(){return this.links}set lineLinked(e){this.links=e}get line_linked(){return this.links}set line_linked(e){this.links=e}load(e){var i,r;!e||(e.distance!==void 0&&(this.distance=e.distance),this.links.load((r=(i=e.links)!==null&&i!==void 0?i:e.lineLinked)!==null&&r!==void 0?r:e.line_linked))}}function HU(t,e,i,r,n,s){Zl(t,i,r),t.strokeStyle=Yn(n,s),t.lineWidth=e,t.stroke()}function WU(t,e,i,r,n){t.canvas.draw(s=>{var a;const o=e.getPosition();HU(s,(a=e.retina.linksWidth)!==null&&a!==void 0?a:0,o,n,i,r)})}class qU extends Ln{constructor(e){super(e)}clear(){}init(){const e=this.container,i=e.actualOptions.interactivity.modes.grab;!i||(e.retina.grabModeDistance=i.distance*e.retina.pixelRatio)}async interact(){var e,i;const r=this.container,n=r.actualOptions,s=n.interactivity;if(!s.modes.grab||!s.events.onHover.enable||r.interactivity.status!==Ys)return;const a=r.interactivity.mouse.position;if(!a)return;const o=r.retina.grabModeDistance;if(!o||o<0)return;const l=r.particles.quadTree.queryCircle(a,o,u=>this.isEnabled(u));for(const u of l){const c=u.getPosition(),f=At(c,a);if(f>o)continue;const d=s.modes.grab.links,p=d.opacity,g=p-f*p/o;if(g<=0)continue;const b=(e=d.color)!==null&&e!==void 0?e:(i=u.options.links)===null||i===void 0?void 0:i.color;if(!r.particles.grabLineColor&&b){const T=s.modes.grab.links;r.particles.grabLineColor=UC(b,T.blink,T.consent)}const y=Yv(u,void 0,r.particles.grabLineColor);if(!y)return;WU(r,u,y,g,a)}}isEnabled(e){var i;const r=this.container,n=r.interactivity.mouse,s=((i=e?.interactivity)!==null&&i!==void 0?i:r.actualOptions.interactivity).events;return s.onHover.enable&&!!n.position&&rt("grab",s.onHover.mode)}loadModeOptions(e,...i){e.grab||(e.grab=new VU);for(const r of i)e.grab.load(r?.grab)}reset(){}}async function $U(t){await t.addInteractor("externalGrab",e=>new qU(e))}class GU extends Ln{constructor(e){super(e),this.handleClickMode=i=>{if(i!=="pause")return;const r=this.container;r.getAnimationStatus()?r.pause():r.play()}}clear(){}init(){}async interact(){}isEnabled(){return!0}reset(){}}function KU(t){t.addInteractor("externalPause",e=>new GU(e))}class XU{constructor(){this.default=!0,this.groups=[],this.quantity=4}get particles_nb(){return this.quantity}set particles_nb(e){this.quantity=e}load(e){var i;if(!e)return;e.default!==void 0&&(this.default=e.default),e.groups!==void 0&&(this.groups=e.groups.map(n=>n)),this.groups.length||(this.default=!0);const r=(i=e.quantity)!==null&&i!==void 0?i:e.particles_nb;r!==void 0&&(this.quantity=r)}}class YU extends Ln{constructor(e){super(e),this.handleClickMode=i=>{if(i!=="push")return;const r=this.container,n=r.actualOptions,s=n.interactivity.modes.push;if(!s)return;const a=s.quantity;if(a<=0)return;const o=ic([void 0,...s.groups]),l=o!==void 0?r.actualOptions.particles.groups[o]:void 0;r.particles.push(a,r.interactivity.mouse,l,o)}}clear(){}init(){}async interact(){}isEnabled(){return!0}loadModeOptions(e,...i){e.push||(e.push=new XU);for(const r of i)e.push.load(r?.push)}reset(){}}async function QU(t){await t.addInteractor("externalPush",e=>new YU(e))}class JU{constructor(){this.quantity=2}get particles_nb(){return this.quantity}set particles_nb(e){this.quantity=e}load(e){var i;if(!e)return;const r=(i=e.quantity)!==null&&i!==void 0?i:e.particles_nb;r!==void 0&&(this.quantity=r)}}class ZU extends Ln{constructor(e){super(e),this.handleClickMode=i=>{const r=this.container,n=r.actualOptions;if(!n.interactivity.modes.remove||i!=="remove")return;const s=n.interactivity.modes.remove.quantity;r.particles.removeQuantity(s)}}clear(){}init(){}async interact(){}isEnabled(){return!0}loadModeOptions(e,...i){e.remove||(e.remove=new JU);for(const r of i)e.remove.load(r?.remove)}reset(){}}function e3(t){t.addInteractor("externalRemove",e=>new ZU(e))}class XC{constructor(){this.distance=200,this.duration=.4,this.factor=100,this.speed=1,this.maxSpeed=50,this.easing="ease-out-quad"}load(e){!e||(e.distance!==void 0&&(this.distance=e.distance),e.duration!==void 0&&(this.duration=e.duration),e.easing!==void 0&&(this.easing=e.easing),e.factor!==void 0&&(this.factor=e.factor),e.speed!==void 0&&(this.speed=e.speed),e.maxSpeed!==void 0&&(this.maxSpeed=e.maxSpeed))}}class t3 extends XC{constructor(){super(),this.selectors=[]}get ids(){return st(this.selectors,e=>e.replace("#",""))}set ids(e){this.selectors=st(e,i=>`#${i}`)}load(e){super.load(e),e&&(e.ids!==void 0&&(this.ids=e.ids),e.selectors!==void 0&&(this.selectors=e.selectors))}}class i3 extends XC{load(e){super.load(e),e&&(this.divs=st(e.divs,i=>{const r=new t3;return r.load(i),r}))}}class n3 extends Ln{constructor(e,i){super(i),this._engine=e,i.repulse||(i.repulse={particles:[]}),this.handleClickMode=r=>{const n=this.container.actualOptions,s=n.interactivity.modes.repulse;if(!(!s||r!=="repulse")){i.repulse||(i.repulse={particles:[]}),i.repulse.clicking=!0,i.repulse.count=0;for(const a of i.repulse.particles)!this.isEnabled(a)||a.velocity.setTo(a.initialVelocity);i.repulse.particles=[],i.repulse.finish=!1,setTimeout(()=>{i.destroyed||(i.repulse||(i.repulse={particles:[]}),i.repulse.clicking=!1)},s.duration*1e3)}}}clear(){}init(){const e=this.container,i=e.actualOptions.interactivity.modes.repulse;!i||(e.retina.repulseModeDistance=i.distance*e.retina.pixelRatio)}async interact(){const e=this.container,i=e.actualOptions,r=e.interactivity.status===Ys,n=i.interactivity.events,s=n.onHover.enable,a=n.onHover.mode,o=n.onClick.enable,l=n.onClick.mode,u=n.onDiv;r&&s&&rt("repulse",a)?this.hoverRepulse():o&&rt("repulse",l)?this.clickRepulse():dy("repulse",u,(c,f)=>this.singleSelectorRepulse(c,f))}isEnabled(e){var i;const r=this.container,n=r.actualOptions,s=r.interactivity.mouse,a=((i=e?.interactivity)!==null&&i!==void 0?i:n.interactivity).events,o=a.onDiv,l=cy("repulse",o);if(!(l||a.onHover.enable&&s.position||a.onClick.enable&&s.clickPosition))return!1;const u=a.onHover.mode,c=a.onClick.mode;return rt("repulse",u)||rt("repulse",c)||l}loadModeOptions(e,...i){e.repulse||(e.repulse=new i3);for(const r of i)e.repulse.load(r?.repulse)}reset(){}clickRepulse(){const e=this.container,i=e.actualOptions.interactivity.modes.repulse;if(!!i){if(e.repulse||(e.repulse={particles:[]}),e.repulse.finish||(e.repulse.count||(e.repulse.count=0),e.repulse.count++,e.repulse.count===e.particles.count&&(e.repulse.finish=!0)),e.repulse.clicking){const r=e.retina.repulseModeDistance;if(!r||r<0)return;const n=Math.pow(r/6,3),s=e.interactivity.mouse.clickPosition;if(s===void 0)return;const a=new Bi(s.x,s.y,n),o=e.particles.quadTree.query(a,l=>this.isEnabled(l));for(const l of o){const{dx:u,dy:c,distance:f}=wi(s,l.position),d=f**2,p=i.speed,g=-n*p/d;if(d<=n){e.repulse.particles.push(l);const b=Qe.create(u,c);b.length=g,l.velocity.setTo(b)}}}else if(e.repulse.clicking===!1){for(const r of e.repulse.particles)r.velocity.setTo(r.initialVelocity);e.repulse.particles=[]}}}hoverRepulse(){const e=this.container,i=e.interactivity.mouse.position,r=e.retina.repulseModeDistance;!r||r<0||!i||this.processRepulse(i,r,new Bi(i.x,i.y,r))}processRepulse(e,i,r,n){var s;const a=this.container,o=a.particles.quadTree.query(r,u=>this.isEnabled(u)),l=a.actualOptions.interactivity.modes.repulse;if(!!l)for(const u of o){const{dx:c,dy:f,distance:d}=wi(u.position,e),p=((s=n?.speed)!==null&&s!==void 0?s:l.speed)*l.factor,g=Dn(CC(l.easing)(1-d/i)*p,0,l.maxSpeed),b=Qe.create(d===0?p:c/d*g,d===0?p:f/d*g);u.position.addTo(b)}}singleSelectorRepulse(e,i){const r=this.container,n=r.actualOptions.interactivity.modes.repulse;if(!n)return;const s=document.querySelectorAll(e);!s.length||s.forEach(a=>{const o=a,l=r.retina.pixelRatio,u={x:(o.offsetLeft+o.offsetWidth/2)*l,y:(o.offsetTop+o.offsetHeight/2)*l},c=o.offsetWidth/2*l,f=i.type==="circle"?new Bi(u.x,u.y,c):new Li(o.offsetLeft*l,o.offsetTop*l,o.offsetWidth*l,o.offsetHeight*l),d=n.divs,p=DC(d,o);this.processRepulse(u,c,f,p)})}}async function r3(t){await t.addInteractor("externalRepulse",e=>new n3(t,e))}class s3{constructor(){this.factor=3,this.radius=200}load(e){!e||(e.factor!==void 0&&(this.factor=e.factor),e.radius!==void 0&&(this.radius=e.radius))}}class a3 extends Ln{constructor(e){super(e)}clear(e,i,r){e.slow.inRange&&!r||(e.slow.factor=1)}init(){const e=this.container,i=e.actualOptions.interactivity.modes.slow;!i||(e.retina.slowModeRadius=i.radius*e.retina.pixelRatio)}async interact(){}isEnabled(e){var i;const r=this.container,n=r.interactivity.mouse,s=((i=e?.interactivity)!==null&&i!==void 0?i:r.actualOptions.interactivity).events;return s.onHover.enable&&!!n.position&&rt("slow",s.onHover.mode)}loadModeOptions(e,...i){e.slow||(e.slow=new s3);for(const r of i)e.slow.load(r?.slow)}reset(e){e.slow.inRange=!1;const i=this.container,r=i.actualOptions,n=i.interactivity.mouse.position,s=i.retina.slowModeRadius,a=r.interactivity.modes.slow;if(!a||!s||s<0||!n)return;const o=e.getPosition(),l=At(n,o),u=l/s,c=a.factor;l<=s&&(e.slow.inRange=!0,e.slow.factor=u/c)}}async function o3(t){await t.addInteractor("externalSlow",e=>new a3(e))}const l3=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d.]+%?\))|currentcolor/gi;function u3(t,e,i){const{svgData:r}=t;if(!r)return"";const n=oo(e,i);if(r.includes("fill"))return r.replace(l3,()=>n);const s=r.indexOf(">");return`${r.substring(0,s)} fill="${n}"${r.substring(s)}`}async function my(t){return new Promise(e=>{t.loading=!0;const i=new Image;t.element=i,i.addEventListener("load",()=>{t.loading=!1,e()}),i.addEventListener("error",()=>{t.element=void 0,t.error=!0,t.loading=!1,console.error(`Error tsParticles - loading image: ${t.source}`),e()}),i.src=t.source})}async function c3(t){if(t.type!=="svg"){await my(t);return}t.loading=!0;const e=await fetch(t.source);e.ok||(console.error("Error tsParticles - Image not found"),t.error=!0),t.error||(t.svgData=await e.text()),t.loading=!1}function d3(t,e,i,r){var n,s,a;const o=u3(t,i,(s=(n=r.opacity)===null||n===void 0?void 0:n.value)!==null&&s!==void 0?s:1),l={color:i,data:Object.assign(Object.assign({},t),{svgData:o}),loaded:!1,ratio:e.width/e.height,replaceColor:(a=e.replaceColor)!==null&&a!==void 0?a:e.replace_color,source:e.src};return new Promise(u=>{const c=new Blob([o],{type:"image/svg+xml"}),f=URL||window.URL||window.webkitURL||window,d=f.createObjectURL(c),p=new Image;p.addEventListener("load",()=>{l.loaded=!0,l.element=p,u(l),f.revokeObjectURL(d)}),p.addEventListener("error",async()=>{f.revokeObjectURL(d);const g=Object.assign(Object.assign({},t),{error:!1,loading:!0});await my(g),l.loaded=!0,l.element=g.element,u(l)}),p.src=d})}class f3{constructor(){this._images=[]}addImage(e,i){const r=this.getImages(e);r?.images.push(i)}destroy(){this._images=[]}draw(e,i,r,n){var s;const a=i.image,o=a?.element;if(!o)return;const l=(s=a?.ratio)!==null&&s!==void 0?s:1,u={x:-r,y:-r};e.globalAlpha=n,e.drawImage(o,u.x,u.y,r*2,r*2/l),e.globalAlpha=1}getImages(e){const i=this._images.find(r=>r.id===e.id);return i||(this._images.push({id:e.id,images:[]}),this.getImages(e))}getSidesCount(){return 12}loadShape(e){if(e.shape!=="image"&&e.shape!=="images")return;const i=e.container,r=this.getImages(i).images,n=e.shapeData;r.find(a=>a.source===n.src)||this.loadImageShape(i,n).then(()=>{this.loadShape(e)})}particleInit(e,i){var r;if(i.shape!=="image"&&i.shape!=="images")return;const n=this.getImages(e).images,s=i.shapeData,a=i.getFillColor(),o=(r=s.replaceColor)!==null&&r!==void 0?r:s.replace_color,l=n.find(u=>u.source===s.src);if(!!l){if(l.loading){setTimeout(()=>{this.particleInit(e,i)});return}(async()=>{var u,c;let f;l.svgData&&a?f=await d3(l,s,a,i):f={color:a,data:l,element:l.element,loaded:!0,ratio:s.width/s.height,replaceColor:o,source:s.src},f.ratio||(f.ratio=1);const d=(u=s.fill)!==null&&u!==void 0?u:i.fill,p=(c=s.close)!==null&&c!==void 0?c:i.close,g={image:f,fill:d,close:p};i.image=g.image,i.fill=g.fill,i.close=g.close})()}}async loadImageShape(e,i){var r;const n=i.src;if(!n)throw new Error("Error tsParticles - No image.src");try{const s={source:n,type:n.substring(n.length-3),error:!1,loading:!0};this.addImage(e,s),await(((r=i.replaceColor)!==null&&r!==void 0?r:i.replace_color)?c3:my)(s)}catch{throw new Error(`tsParticles error - ${i.src} not found`)}}}async function h3(t){await t.addShape(["image","images"],new f3)}class p3 extends bn{constructor(){super(),this.sync=!1}load(e){!e||(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class m3 extends bn{constructor(){super(),this.random.minimumValue=1e-4,this.sync=!1}load(e){!e||(super.load(e),e.sync!==void 0&&(this.sync=e.sync))}}class v3{constructor(){this.count=0,this.delay=new p3,this.duration=new m3}load(e){!e||(e.count!==void 0&&(this.count=e.count),this.delay.load(e.delay),this.duration.load(e.duration))}}class g3{constructor(e){this.container=e}init(e){const i=this.container,r=e.options,n=r.life;!n||(e.life={delay:i.retina.reduceFactor?he(n.delay.value)*(n.delay.sync?1:Ie())/i.retina.reduceFactor*1e3:0,delayTime:0,duration:i.retina.reduceFactor?he(n.duration.value)*(n.duration.sync?1:Ie())/i.retina.reduceFactor*1e3:0,time:0,count:n.count},e.life.duration<=0&&(e.life.duration=-1),e.life.count<=0&&(e.life.count=-1),e.life&&(e.spawning=e.life.delay>0))}isEnabled(e){return!e.destroyed}loadOptions(e,...i){e.life||(e.life=new v3);for(const r of i)e.life.load(r?.life)}update(e,i){if(!this.isEnabled(e)||!e.life)return;const r=e.life;let n=!1;if(e.spawning)if(r.delayTime+=i.value,r.delayTime>=e.life.delay)n=!0,e.spawning=!1,r.delayTime=0,r.time=0;else return;if(r.duration===-1||e.spawning||(n?r.time=0:r.time+=i.value,r.time<r.duration))return;if(r.time=0,e.life.count>0&&e.life.count--,e.life.count===0){e.destroy();return}const s=this.container.canvas.size,a=xe(0,s.width),o=xe(0,s.width);e.position.x=Ot(a),e.position.y=Ot(o),e.spawning=!0,r.delayTime=0,r.time=0,e.reset();const l=e.options.life;l&&(r.delay=he(l.delay.value)*1e3,r.duration=he(l.duration.value)*1e3)}}async function y3(t){await t.addParticleUpdater("life",e=>new g3(e))}class _3{draw(e,i,r){e.moveTo(-r/2,0),e.lineTo(r/2,0)}getSidesCount(){return 1}}async function b3(t){await t.addShape("line",new _3)}function T3(t,e,i,r){switch(t.options.opacity.animation.destroy){case"max":e>=r&&t.destroy();break;case"min":e<=i&&t.destroy();break}}function x3(t,e){var i,r,n,s,a,o;if(!t.opacity)return;const l=t.opacity.min,u=t.opacity.max,c=(i=t.opacity.decay)!==null&&i!==void 0?i:1;if(!(t.destroyed||!t.opacity.enable||((r=t.opacity.maxLoops)!==null&&r!==void 0?r:0)>0&&((n=t.opacity.loops)!==null&&n!==void 0?n:0)>((s=t.opacity.maxLoops)!==null&&s!==void 0?s:0))){switch(t.opacity.status){case"increasing":t.opacity.value>=u?(t.opacity.status="decreasing",t.opacity.loops||(t.opacity.loops=0),t.opacity.loops++):t.opacity.value+=((a=t.opacity.velocity)!==null&&a!==void 0?a:0)*e.factor;break;case"decreasing":t.opacity.value<=l?(t.opacity.status="increasing",t.opacity.loops||(t.opacity.loops=0),t.opacity.loops++):t.opacity.value-=((o=t.opacity.velocity)!==null&&o!==void 0?o:0)*e.factor;break}t.opacity.velocity&&t.opacity.decay!==1&&(t.opacity.velocity*=c),T3(t,t.opacity.value,l,u),t.destroyed||(t.opacity.value=Dn(t.opacity.value,l,u))}}class w3{constructor(e){this.container=e}init(e){const i=e.options.opacity;e.opacity={enable:i.animation.enable,max:Wn(i.value),min:Ou(i.value),value:he(i.value),loops:0,maxLoops:he(i.animation.count)};const r=i.animation;if(r.enable){e.opacity.decay=1-he(r.decay),e.opacity.status="increasing";const n=i.value;switch(e.opacity.min=Ou(n),e.opacity.max=Wn(n),r.startValue){case"min":e.opacity.value=e.opacity.min,e.opacity.status="increasing";break;case"random":e.opacity.value=Ot(e.opacity),e.opacity.status=Ie()>=.5?"increasing":"decreasing";break;case"max":default:e.opacity.value=e.opacity.max,e.opacity.status="decreasing";break}e.opacity.velocity=he(r.speed)/100*this.container.retina.reduceFactor,r.sync||(e.opacity.velocity*=Ie())}e.opacity.initialValue=e.opacity.value}isEnabled(e){var i,r,n,s;return!e.destroyed&&!e.spawning&&!!e.opacity&&e.opacity.enable&&(((i=e.opacity.maxLoops)!==null&&i!==void 0?i:0)<=0||((r=e.opacity.maxLoops)!==null&&r!==void 0?r:0)>0&&((n=e.opacity.loops)!==null&&n!==void 0?n:0)<((s=e.opacity.maxLoops)!==null&&s!==void 0?s:0))}reset(e){e.opacity&&(e.opacity.loops=0)}update(e,i){!this.isEnabled(e)||x3(e,i)}}async function S3(t){await t.addParticleUpdater("opacity",e=>new w3(e))}function E3(t){if(t.outMode!=="bounce"&&t.outMode!=="bounce-horizontal"&&t.outMode!=="bounceHorizontal"&&t.outMode!=="split")return;t.bounds.right<0?t.particle.position.x=t.size+t.offset.x:t.bounds.left>t.canvasSize.width&&(t.particle.position.x=t.canvasSize.width-t.size-t.offset.x);const e=t.particle.velocity.x;let i=!1;if(t.direction==="right"&&t.bounds.right>=t.canvasSize.width&&e>0||t.direction==="left"&&t.bounds.left<=0&&e<0){const n=xr(t.particle.options.bounce.horizontal);t.particle.velocity.x*=-n,i=!0}if(!i)return;const r=t.offset.x+t.size;t.bounds.right>=t.canvasSize.width?t.particle.position.x=t.canvasSize.width-r:t.bounds.left<=0&&(t.particle.position.x=r),t.outMode==="split"&&t.particle.destroy()}function C3(t){if(t.outMode!=="bounce"&&t.outMode!=="bounce-vertical"&&t.outMode!=="bounceVertical"&&t.outMode!=="split")return;t.bounds.bottom<0?t.particle.position.y=t.size+t.offset.y:t.bounds.top>t.canvasSize.height&&(t.particle.position.y=t.canvasSize.height-t.size-t.offset.y);const e=t.particle.velocity.y;let i=!1;if(t.direction==="bottom"&&t.bounds.bottom>=t.canvasSize.height&&e>0||t.direction==="top"&&t.bounds.top<=0&&e<0){const n=xr(t.particle.options.bounce.vertical);t.particle.velocity.y*=-n,i=!0}if(!i)return;const r=t.offset.y+t.size;t.bounds.bottom>=t.canvasSize.height?t.particle.position.y=t.canvasSize.height-r:t.bounds.top<=0&&(t.particle.position.y=r),t.outMode==="split"&&t.particle.destroy()}class k3{constructor(e){this.container=e,this.modes=["bounce","bounce-vertical","bounce-horizontal","bounceVertical","bounceHorizontal","split"]}update(e,i,r,n){if(!this.modes.includes(n))return;const s=this.container;let a=!1;for(const[,d]of s.plugins)if(d.particleBounce!==void 0&&(a=d.particleBounce(e,r,i)),a)break;if(a)return;const o=e.getPosition(),l=e.offset,u=e.getRadius(),c=rc(o,u),f=s.canvas.size;E3({particle:e,outMode:n,direction:i,bounds:c,canvasSize:f,offset:l,size:u}),C3({particle:e,outMode:n,direction:i,bounds:c,canvasSize:f,offset:l,size:u})}}class P3{constructor(e){this.container=e,this.modes=["destroy"]}update(e,i,r,n){if(!this.modes.includes(n))return;const s=this.container;switch(e.outType){case"normal":case"outside":if(nc(e.position,s.canvas.size,Qe.origin,e.getRadius(),i))return;break;case"inside":{const{dx:a,dy:o}=wi(e.position,e.moveCenter),{x:l,y:u}=e.velocity;if(l<0&&a>e.moveCenter.radius||u<0&&o>e.moveCenter.radius||l>=0&&a<-e.moveCenter.radius||u>=0&&o<-e.moveCenter.radius)return;break}}s.particles.remove(e,void 0,!0)}}class O3{constructor(e){this.container=e,this.modes=["none"]}update(e,i,r,n){if(!this.modes.includes(n)||e.options.move.distance.horizontal&&(i==="left"||i==="right")||e.options.move.distance.vertical&&(i==="top"||i==="bottom"))return;const s=e.options.move.gravity,a=this.container,o=a.canvas.size,l=e.getRadius();if(s.enable){const u=e.position;(!s.inverse&&u.y>o.height+l&&i==="bottom"||s.inverse&&u.y<-l&&i==="top")&&a.particles.remove(e)}else{if(e.velocity.y>0&&e.position.y<=o.height+l||e.velocity.y<0&&e.position.y>=-l||e.velocity.x>0&&e.position.x<=o.width+l||e.velocity.x<0&&e.position.x>=-l)return;nc(e.position,a.canvas.size,Qe.origin,l,i)||a.particles.remove(e)}}}class A3{constructor(e){this.container=e,this.modes=["out"]}update(e,i,r,n){if(!this.modes.includes(n))return;const s=this.container;switch(e.outType){case"inside":{const{x:a,y:o}=e.velocity,l=Qe.origin;l.length=e.moveCenter.radius,l.angle=e.velocity.angle+Math.PI,l.addTo(Qe.create(e.moveCenter));const{dx:u,dy:c}=wi(e.position,l);if(a<=0&&u>=0||o<=0&&c>=0||a>=0&&u<=0||o>=0&&c<=0)return;e.position.x=Math.floor(Ot({min:0,max:s.canvas.size.width})),e.position.y=Math.floor(Ot({min:0,max:s.canvas.size.height}));const{dx:f,dy:d}=wi(e.position,e.moveCenter);e.direction=Math.atan2(-d,-f),e.velocity.angle=e.direction;break}default:{if(nc(e.position,s.canvas.size,Qe.origin,e.getRadius(),i))return;switch(e.outType){case"outside":{e.position.x=Math.floor(Ot({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.x,e.position.y=Math.floor(Ot({min:-e.moveCenter.radius,max:e.moveCenter.radius}))+e.moveCenter.y;const{dx:a,dy:o}=wi(e.position,e.moveCenter);e.moveCenter.radius&&(e.direction=Math.atan2(o,a),e.velocity.angle=e.direction);break}case"normal":{const a=e.options.move.warp,o=s.canvas.size,l={bottom:o.height+e.getRadius()+e.offset.y,left:-e.getRadius()-e.offset.x,right:o.width+e.getRadius()+e.offset.x,top:-e.getRadius()-e.offset.y},u=e.getRadius(),c=rc(e.position,u);i==="right"&&c.left>o.width+e.offset.x?(e.position.x=l.left,e.initialPosition.x=e.position.x,a||(e.position.y=Ie()*o.height,e.initialPosition.y=e.position.y)):i==="left"&&c.right<-e.offset.x&&(e.position.x=l.right,e.initialPosition.x=e.position.x,a||(e.position.y=Ie()*o.height,e.initialPosition.y=e.position.y)),i==="bottom"&&c.top>o.height+e.offset.y?(a||(e.position.x=Ie()*o.width,e.initialPosition.x=e.position.x),e.position.y=l.top,e.initialPosition.y=e.position.y):i==="top"&&c.bottom<-e.offset.y&&(a||(e.position.x=Ie()*o.width,e.initialPosition.x=e.position.x),e.position.y=l.bottom,e.initialPosition.y=e.position.y);break}}break}}}}class I3{constructor(e){this.container=e,this.updaters=[new k3(e),new P3(e),new A3(e),new O3(e)]}init(){}isEnabled(e){return!e.destroyed&&!e.spawning}update(e,i){var r,n,s,a;const o=e.options.move.outModes;this.updateOutMode(e,i,(r=o.bottom)!==null&&r!==void 0?r:o.default,"bottom"),this.updateOutMode(e,i,(n=o.left)!==null&&n!==void 0?n:o.default,"left"),this.updateOutMode(e,i,(s=o.right)!==null&&s!==void 0?s:o.default,"right"),this.updateOutMode(e,i,(a=o.top)!==null&&a!==void 0?a:o.default,"top")}updateOutMode(e,i,r,n){for(const s of this.updaters)s.update(e,n,i,r)}}async function D3(t){await t.addParticleUpdater("outModes",e=>new I3(e))}class M3{init(){}isEnabled(e){return!Xs()&&!e.destroyed&&e.container.actualOptions.interactivity.events.onHover.parallax.enable}move(e){const i=e.container,r=i.actualOptions;if(Xs()||!r.interactivity.events.onHover.parallax.enable)return;const n=r.interactivity.events.onHover.parallax.force,s=i.interactivity.mouse.position;if(!s)return;const a={x:i.canvas.size.width/2,y:i.canvas.size.height/2},o=r.interactivity.events.onHover.parallax.smooth,l=e.getRadius()/n,u={x:(s.x-a.x)*l,y:(s.y-a.y)*l};e.offset.x+=(u.x-e.offset.x)/o,e.offset.y+=(u.y-e.offset.y)/o}}async function R3(t){t.addMover("parallax",()=>new M3)}class L3 extends py{constructor(e){super(e)}clear(){}init(){}async interact(e){var i;const r=this.container,n=(i=e.retina.attractDistance)!==null&&i!==void 0?i:r.retina.attractDistance,s=e.getPosition(),a=r.particles.quadTree.queryCircle(s,n);for(const o of a){if(e===o||!o.options.move.attract.enable||o.destroyed||o.spawning)continue;const l=o.getPosition(),{dx:u,dy:c}=wi(s,l),f=e.options.move.attract.rotate,d=u/(f.x*1e3),p=c/(f.y*1e3),g=o.size.value/e.size.value,b=1/g;e.velocity.x-=d*g,e.velocity.y-=p*g,o.velocity.x+=d*b,o.velocity.y+=p*b}}isEnabled(e){return e.options.move.attract.enable}reset(){}}async function j3(t){await t.addInteractor("particlesAttract",e=>new L3(e))}function Ix(t,e,i,r,n,s){const a=Dn(t.options.collisions.absorb.speed*n.factor/10,0,r);t.size.value+=a/2,i.size.value-=a,r<=s&&(i.size.value=0,i.destroy())}function N3(t,e,i,r){const n=t.getRadius(),s=e.getRadius();n===void 0&&s!==void 0?t.destroy():n!==void 0&&s===void 0?e.destroy():n!==void 0&&s!==void 0&&(n>=s?Ix(t,n,e,s,i,r):Ix(e,s,t,n,i,r))}function YC(t,e){MC(Xv(t),Xv(e))}function F3(t,e){!t.unbreakable&&!e.unbreakable&&YC(t,e),t.getRadius()===void 0&&e.getRadius()!==void 0?t.destroy():t.getRadius()!==void 0&&e.getRadius()===void 0?e.destroy():t.getRadius()!==void 0&&e.getRadius()!==void 0&&(t.getRadius()>=e.getRadius()?t:e).destroy()}function U3(t,e,i,r){switch(t.options.collisions.mode){case"absorb":{N3(t,e,i,r);break}case"bounce":{YC(t,e);break}case"destroy":{F3(t,e);break}}}class B3 extends py{constructor(e){super(e)}clear(){}init(){}async interact(e,i){const r=this.container,n=e.getPosition(),s=e.getRadius(),a=r.particles.quadTree.queryCircle(n,s*2);for(const o of a){if(e===o||!o.options.collisions.enable||e.options.collisions.mode!==o.options.collisions.mode||o.destroyed||o.spawning)continue;const l=o.getPosition(),u=o.getRadius();if(Math.abs(Math.round(n.z)-Math.round(l.z))>s+u)continue;const c=At(n,l),f=s+u;c>f||U3(e,o,i,r.retina.pixelRatio)}}isEnabled(e){return e.options.collisions.enable}reset(){}}async function z3(t){await t.addInteractor("particlesCollisions",e=>new B3(e))}class V3 extends Bi{constructor(e,i,r,n){super(e,i,r),this.canvasSize=n,this.canvasSize=Object.assign({},n)}contains(e){if(super.contains(e))return!0;const i={x:e.x-this.canvasSize.width,y:e.y};if(super.contains(i))return!0;const r={x:e.x-this.canvasSize.width,y:e.y-this.canvasSize.height};if(super.contains(r))return!0;const n={x:e.x,y:e.y-this.canvasSize.height};return super.contains(n)}intersects(e){if(super.intersects(e))return!0;const i=e,r=e,n={x:e.position.x-this.canvasSize.width,y:e.position.y-this.canvasSize.height};if(r.radius!==void 0){const s=new Bi(n.x,n.y,r.radius*2);return super.intersects(s)}else if(i.size!==void 0){const s=new Li(n.x,n.y,i.size.width*2,i.size.height*2);return super.intersects(s)}return!1}}class H3{constructor(){this.blur=5,this.color=new yt,this.color.value="#000",this.enable=!1}load(e){!e||(e.blur!==void 0&&(this.blur=e.blur),this.color=yt.create(this.color,e.color),e.enable!==void 0&&(this.enable=e.enable))}}class W3{constructor(){this.enable=!1,this.frequency=1}load(e){!e||(e.color!==void 0&&(this.color=yt.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity))}}class q3{constructor(){this.blink=!1,this.color=new yt,this.color.value="#fff",this.consent=!1,this.distance=100,this.enable=!1,this.frequency=1,this.opacity=1,this.shadow=new H3,this.triangles=new W3,this.width=1,this.warp=!1}load(e){!e||(e.id!==void 0&&(this.id=e.id),e.blink!==void 0&&(this.blink=e.blink),this.color=yt.create(this.color,e.color),e.consent!==void 0&&(this.consent=e.consent),e.distance!==void 0&&(this.distance=e.distance),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=e.opacity),this.shadow.load(e.shadow),this.triangles.load(e.triangles),e.width!==void 0&&(this.width=e.width),e.warp!==void 0&&(this.warp=e.warp))}}function $3(t,e,i,r,n){let s=At(t,e);if(!n||s<=i)return s;const a={x:e.x-r.width,y:e.y};if(s=At(t,a),s<=i)return s;const o={x:e.x-r.width,y:e.y-r.height};if(s=At(t,o),s<=i)return s;const l={x:e.x,y:e.y-r.height};return s=At(t,l),s}class G3 extends py{constructor(e){super(e),this.linkContainer=e}clear(){}init(){this.linkContainer.particles.linksColor=void 0,this.linkContainer.particles.linksColors=new Map}async interact(e){var i;if(!e.options.links)return;e.links=[];const r=e.getPosition(),n=this.container,s=n.canvas.size;if(r.x<0||r.y<0||r.x>s.width||r.y>s.height)return;const a=e.options.links,o=a.opacity,l=(i=e.retina.linksDistance)!==null&&i!==void 0?i:0,u=a.warp,c=u?new V3(r.x,r.y,l,s):new Bi(r.x,r.y,l),f=n.particles.quadTree.query(c);for(const d of f){const p=d.options.links;if(e===d||!p?.enable||a.id!==p.id||d.spawning||d.destroyed||!d.links||e.links.map(T=>T.destination).indexOf(d)!==-1||d.links.map(T=>T.destination).indexOf(e)!==-1)continue;const g=d.getPosition();if(g.x<0||g.y<0||g.x>s.width||g.y>s.height)continue;const b=$3(r,g,l,s,u&&p.warp);if(b>l)return;const y=(1-b/l)*o;this.setColor(e),e.links.push({destination:d,opacity:y})}}isEnabled(e){var i;return!!(!((i=e.options.links)===null||i===void 0)&&i.enable)}loadParticlesOptions(e,...i){var r,n;e.links||(e.links=new q3);for(const s of i)e.links.load((n=(r=s?.links)!==null&&r!==void 0?r:s?.lineLinked)!==null&&n!==void 0?n:s?.line_linked)}reset(){}setColor(e){if(!e.options.links)return;const i=this.linkContainer,r=e.options.links;let n=r.id===void 0?i.particles.linksColor:i.particles.linksColors.get(r.id);if(n)return;const s=r.color;n=UC(s,r.blink,r.consent),r.id===void 0?i.particles.linksColor=n:i.particles.linksColors.set(r.id,n)}}async function K3(t){await t.addInteractor("particlesLinks",e=>new G3(e))}function X3(t,e,i,r,n,s,a,o,l,u,c,f){let d=!1;if(At(i,r)<=n)Zl(t,i,r),d=!0;else if(a){let p,g;const b={x:r.x-s.width,y:r.y},y=wi(i,b);if(y.distance<=n){const T=i.y-y.dy/y.dx*i.x;p={x:0,y:T},g={x:s.width,y:T}}else{const T={x:r.x,y:r.y-s.height},S=wi(i,T);if(S.distance<=n){const O=-(i.y-S.dy/S.dx*i.x)/(S.dy/S.dx);p={x:O,y:0},g={x:O,y:s.height}}else{const I={x:r.x-s.width,y:r.y-s.height},O=wi(i,I);if(O.distance<=n){const M=i.y-O.dy/O.dx*i.x;p={x:-M/(O.dy/O.dx),y:M},g={x:p.x+s.width,y:p.y+s.height}}}}p&&g&&(Zl(t,i,p),Zl(t,r,g),d=!0)}if(!!d){if(t.lineWidth=e,o&&(t.globalCompositeOperation=l),t.strokeStyle=Yn(u,c),f.enable){const p=pn(f.color);p&&(t.shadowBlur=f.blur,t.shadowColor=Yn(p))}t.stroke()}}function Y3(t,e,i,r,n,s,a,o){oN(t,e,i,r),n&&(t.globalCompositeOperation=s),t.fillStyle=Yn(a,o),t.fill()}function Q3(t){return t.sort((e,i)=>e-i),t.join("_")}function Dx(t,e){const i=Q3(t.map(n=>n.id));let r=e.get(i);return r===void 0&&(r=Ie(),e.set(i,r)),r}class J3{constructor(e){this.container=e,this._freqs={links:new Map,triangles:new Map}}drawParticle(e,i){var r;const n=i.options;if(!i.links||i.links.length<=0)return;const s=i.links.filter(a=>n.links&&this.getLinkFrequency(i,a.destination)<=n.links.frequency);for(const a of s)this.drawTriangles(n,i,a,s),a.opacity>0&&((r=i.retina.linksWidth)!==null&&r!==void 0?r:0)>0&&this.drawLinkLine(i,a)}async init(){this._freqs.links=new Map,this._freqs.triangles=new Map}particleCreated(e){if(e.links=[],!e.options.links)return;const i=this.container.retina.pixelRatio;e.retina.linksDistance=e.options.links.distance*i,e.retina.linksWidth=e.options.links.width*i}particleDestroyed(e){e.links=[]}drawLinkLine(e,i){const r=this.container,n=r.actualOptions,s=i.destination,a=e.getPosition(),o=s.getPosition();let l=i.opacity;r.canvas.draw(u=>{var c,f,d;if(!e.options.links)return;let p;const g=(c=e.options.twinkle)===null||c===void 0?void 0:c.lines;if(g?.enable){const T=g.frequency,S=pn(g.color);Ie()<T&&S&&(p=S,l=he(g.opacity))}if(!p){const T=e.options.links,S=T?.id!==void 0?r.particles.linksColors.get(T.id):r.particles.linksColor;p=Yv(e,s,S)}if(!p)return;const b=(f=e.retina.linksWidth)!==null&&f!==void 0?f:0,y=(d=e.retina.linksDistance)!==null&&d!==void 0?d:0;X3(u,b,a,o,y,r.canvas.size,e.options.links.warp,n.backgroundMask.enable,n.backgroundMask.composite,p,l,e.options.links.shadow)})}drawLinkTriangle(e,i,r){var n;if(!e.options.links)return;const s=this.container,a=s.actualOptions,o=i.destination,l=r.destination,u=e.options.links.triangles,c=(n=u.opacity)!==null&&n!==void 0?n:(i.opacity+r.opacity)/2;c<=0||s.canvas.draw(f=>{var d;const p=e.getPosition(),g=o.getPosition(),b=l.getPosition(),y=(d=e.retina.linksDistance)!==null&&d!==void 0?d:0;if(At(p,g)>y||At(b,g)>y||At(b,p)>y)return;let T=pn(u.color);if(!T){const S=e.options.links,I=S?.id!==void 0?s.particles.linksColors.get(S.id):s.particles.linksColor;T=Yv(e,o,I)}!T||Y3(f,p,g,b,a.backgroundMask.enable,a.backgroundMask.composite,T,c)})}drawTriangles(e,i,r,n){var s,a,o;const l=r.destination;if(!(((s=e.links)===null||s===void 0?void 0:s.triangles.enable)&&((a=l.options.links)===null||a===void 0?void 0:a.triangles.enable)))return;const u=(o=l.links)===null||o===void 0?void 0:o.filter(c=>{const f=this.getLinkFrequency(l,c.destination);return l.options.links&&f<=l.options.links.frequency&&n.findIndex(d=>d.destination===c.destination)>=0});if(!!u?.length)for(const c of u){const f=c.destination;this.getTriangleFrequency(i,l,f)>e.links.triangles.frequency||this.drawLinkTriangle(i,r,c)}}getLinkFrequency(e,i){return Dx([e,i],this._freqs.links)}getTriangleFrequency(e,i,r){return Dx([e,i,r],this._freqs.triangles)}}class Z3{constructor(){this.id="links"}getPlugin(e){return new J3(e)}loadOptions(){}needsPlugin(){return!0}}async function eB(t){const e=new Z3;await t.addPlugin(e)}async function tB(t){await K3(t),await eB(t)}class QC{draw(e,i,r){const n=this.getCenter(i,r),s=this.getSidesData(i,r),a=s.count.numerator*s.count.denominator,o=s.count.numerator/s.count.denominator,l=180*(o-2)/o,u=Math.PI-Math.PI*l/180;if(!!e){e.beginPath(),e.translate(n.x,n.y),e.moveTo(0,0);for(let c=0;c<a;c++)e.lineTo(s.length,0),e.translate(s.length,0),e.rotate(u)}}getSidesCount(e){var i,r;const n=e.shapeData;return Math.round(he((r=(i=n?.sides)!==null&&i!==void 0?i:n?.nb_sides)!==null&&r!==void 0?r:5))}}class iB extends QC{getCenter(e,i){return{x:-i/(e.sides/3.5),y:-i/(2.66/3.5)}}getSidesData(e,i){const r=e.sides;return{count:{denominator:1,numerator:r},length:i*2.66/(r/3)}}}class nB extends QC{getCenter(e,i){return{x:-i,y:i/1.66}}getSidesCount(){return 3}getSidesData(e,i){return{count:{denominator:2,numerator:3},length:i*2}}}async function rB(t){await t.addShape("polygon",new iB)}async function sB(t){await t.addShape("triangle",new nB)}async function aB(t){await rB(t),await sB(t)}function oB(t,e,i,r){switch(t.options.size.animation.destroy){case"max":e>=r&&t.destroy();break;case"min":e<=i&&t.destroy();break}}function lB(t,e){var i,r,n,s,a;const o=((i=t.size.velocity)!==null&&i!==void 0?i:0)*e.factor,l=t.size.min,u=t.size.max,c=(r=t.size.decay)!==null&&r!==void 0?r:1;if(!(t.destroyed||!t.size.enable||((n=t.size.maxLoops)!==null&&n!==void 0?n:0)>0&&((s=t.size.loops)!==null&&s!==void 0?s:0)>((a=t.size.maxLoops)!==null&&a!==void 0?a:0))){switch(t.size.status){case"increasing":t.size.value>=u?(t.size.status="decreasing",t.size.loops||(t.size.loops=0),t.size.loops++):t.size.value+=o;break;case"decreasing":t.size.value<=l?(t.size.status="increasing",t.size.loops||(t.size.loops=0),t.size.loops++):t.size.value-=o}t.size.velocity&&c!==1&&(t.size.velocity*=c),oB(t,t.size.value,l,u),t.destroyed||(t.size.value=Dn(t.size.value,l,u))}}class uB{init(e){var i;const r=e.container,n=e.options.size,s=n.animation;s.enable&&(e.size.velocity=((i=e.retina.sizeAnimationSpeed)!==null&&i!==void 0?i:r.retina.sizeAnimationSpeed)/100*r.retina.reduceFactor,s.sync||(e.size.velocity*=Ie()))}isEnabled(e){var i,r,n,s;return!e.destroyed&&!e.spawning&&e.size.enable&&(((i=e.size.maxLoops)!==null&&i!==void 0?i:0)<=0||((r=e.size.maxLoops)!==null&&r!==void 0?r:0)>0&&((n=e.size.loops)!==null&&n!==void 0?n:0)<((s=e.size.maxLoops)!==null&&s!==void 0?s:0))}reset(e){e.size.loops=0}update(e,i){!this.isEnabled(e)||lB(e,i)}}async function cB(t){await t.addParticleUpdater("size",()=>new uB)}const sd=Math.sqrt(2);class dB{draw(e,i,r){e.rect(-r/sd,-r/sd,r*2/sd,r*2/sd)}getSidesCount(){return 4}}async function fB(t){const e=new dB;await t.addShape(["edge","square"],e)}class hB{draw(e,i,r){var n;const s=i.sides,a=(n=i.starInset)!==null&&n!==void 0?n:2;e.moveTo(0,0-r);for(let o=0;o<s;o++)e.rotate(Math.PI/s),e.lineTo(0,0-r*a),e.rotate(Math.PI/s),e.lineTo(0,0-r)}getSidesCount(e){var i,r;const n=e.shapeData;return Math.round(he((r=(i=n?.sides)!==null&&i!==void 0?i:n?.nb_sides)!==null&&r!==void 0?r:5))}particleInit(e,i){var r;const n=i.shapeData,s=he((r=n?.inset)!==null&&r!==void 0?r:2);i.starInset=s}}async function pB(t){await t.addShape("star",new hB)}function sm(t,e,i,r,n){var s,a;const o=e;if(!o||!o.enable||o.loops!==void 0&&o.maxLoops!==void 0&&o.maxLoops>0&&o.loops>=o.maxLoops)return;const l=Ot(i.offset),u=((s=e.velocity)!==null&&s!==void 0?s:0)*t.factor+l*3.6,c=(a=e.decay)!==null&&a!==void 0?a:1;!n||o.status==="increasing"?(o.value+=u,o.value>r&&(o.loops||(o.loops=0),o.loops++,n&&(o.status="decreasing",o.value-=o.value%r))):(o.value-=u,o.value<0&&(o.loops||(o.loops=0),o.loops++,o.status="increasing",o.value+=o.value)),o.velocity&&c!==1&&(o.velocity*=c),o.value>r&&(o.value%=r)}function mB(t,e){if(!t.strokeColor||!t.strokeAnimation)return;const i=t.strokeColor.h;i&&sm(e,i,t.strokeAnimation.h,360,!1);const r=t.strokeColor.s;r&&sm(e,r,t.strokeAnimation.s,100,!0);const n=t.strokeColor.l;n&&sm(e,n,t.strokeAnimation.l,100,!0)}class vB{constructor(e){this.container=e}init(e){var i,r,n;const s=this.container,a=hn(e.options.stroke,e.id,e.options.reduceDuplicates);e.strokeWidth=he(a.width)*s.retina.pixelRatio,e.strokeOpacity=he((i=a.opacity)!==null&&i!==void 0?i:1),e.strokeAnimation=(r=a.color)===null||r===void 0?void 0:r.animation;const o=(n=cs(a.color))!==null&&n!==void 0?n:e.getFillColor();o&&(e.strokeColor=BC(o,e.strokeAnimation,s.retina.reduceFactor))}isEnabled(e){var i,r,n;const s=e.strokeAnimation;return!e.destroyed&&!e.spawning&&!!s&&(((i=e.strokeColor)===null||i===void 0?void 0:i.h.value)!==void 0&&e.strokeColor.h.enable||((r=e.strokeColor)===null||r===void 0?void 0:r.s.value)!==void 0&&e.strokeColor.s.enable||((n=e.strokeColor)===null||n===void 0?void 0:n.l.value)!==void 0&&e.strokeColor.l.enable)}update(e,i){!this.isEnabled(e)||mB(e,i)}}async function gB(t){await t.addParticleUpdater("strokeColor",e=>new vB(e))}const Jv=["text","character","char"];class yB{draw(e,i,r,n){var s,a,o;const l=i.shapeData;if(l===void 0)return;const u=l.value;if(u===void 0)return;const c=i;c.text===void 0&&(c.text=hn(u,i.randomIndexData));const f=c.text,d=(s=l.style)!==null&&s!==void 0?s:"",p=(a=l.weight)!==null&&a!==void 0?a:"400",g=Math.round(r)*2,b=(o=l.font)!==null&&o!==void 0?o:"Verdana",y=i.fill,T=f.length*r/2;e.font=`${d} ${p} ${g}px "${b}"`;const S={x:-T,y:r/2};e.globalAlpha=n,y?e.fillText(f,S.x,S.y):e.strokeText(f,S.x,S.y),e.globalAlpha=1}getSidesCount(){return 12}async init(e){const i=e.actualOptions;if(Jv.find(r=>rt(r,i.particles.shape.type))){const r=Jv.map(s=>i.particles.shape.options[s]).find(s=>!!s),n=[];st(r,s=>{n.push(eN(s.font,s.weight))}),await Promise.all(n)}}}async function _B(t){await t.addShape(Jv,new yB)}async function bB(t){await gU(t),await R3(t),await EU(t),await PU(t),await DU(t),await BU(t),await $U(t),await KU(t),await QU(t),await e3(t),await r3(t),await o3(t),await j3(t),await z3(t),await tB(t),await _U(t),await h3(t),await b3(t),await aB(t),await fB(t),await pB(t),await _B(t),await y3(t),await S3(t),await cB(t),await dU(t),await xU(t),await gB(t),await D3(t),await aU(t)}class TB{constructor(){this.enable=!1,this.speed=0,this.decay=0,this.sync=!1}load(e){!e||(e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0&&(this.speed=xe(e.speed)),e.decay!==void 0&&(this.decay=xe(e.decay)),e.sync!==void 0&&(this.sync=e.sync))}}class xB extends bn{constructor(){super(),this.animation=new TB,this.direction="clockwise",this.enable=!1,this.value=0}load(e){super.load(e),e&&(this.animation.load(e.animation),e.direction!==void 0&&(this.direction=e.direction),e.enable!==void 0&&(this.enable=e.enable))}}function wB(t,e){var i,r;if(!t.tilt||!t.options.tilt)return;const n=t.options.tilt,s=n.animation,a=((i=t.tilt.velocity)!==null&&i!==void 0?i:0)*e.factor,o=2*Math.PI,l=(r=t.tilt.decay)!==null&&r!==void 0?r:1;if(!!s.enable){switch(t.tilt.status){case"increasing":t.tilt.value+=a,t.tilt.value>o&&(t.tilt.value-=o);break;case"decreasing":default:t.tilt.value-=a,t.tilt.value<0&&(t.tilt.value+=o);break}t.tilt.velocity&&l!==1&&(t.tilt.velocity*=l)}}class SB{constructor(e){this.container=e}getTransformValues(e){var i;const r=((i=e.tilt)===null||i===void 0?void 0:i.enable)&&e.tilt;return{b:r?Math.cos(r.value)*r.cosDirection:void 0,c:r?Math.sin(r.value)*r.sinDirection:void 0}}init(e){var i;const r=e.options.tilt;if(!r)return;e.tilt={enable:r.enable,value:he(r.value)*Math.PI/180,sinDirection:Ie()>=.5?1:-1,cosDirection:Ie()>=.5?1:-1};let n=r.direction;switch(n==="random"&&(n=Math.floor(Ie()*2)>0?"counter-clockwise":"clockwise"),n){case"counter-clockwise":case"counterClockwise":e.tilt.status="decreasing";break;case"clockwise":e.tilt.status="increasing";break}const s=(i=e.options.tilt)===null||i===void 0?void 0:i.animation;s?.enable&&(e.tilt.decay=1-he(s.decay),e.tilt.velocity=he(s.speed)/360*this.container.retina.reduceFactor,s.sync||(e.tilt.velocity*=Ie()))}isEnabled(e){var i;const r=(i=e.options.tilt)===null||i===void 0?void 0:i.animation;return!e.destroyed&&!e.spawning&&!!r?.enable}loadOptions(e,...i){e.tilt||(e.tilt=new xB);for(const r of i)e.tilt.load(r?.tilt)}update(e,i){!this.isEnabled(e)||wB(e,i)}}async function EB(t){await t.addParticleUpdater("tilt",e=>new SB(e))}class Mx{constructor(){this.enable=!1,this.frequency=.05,this.opacity=1}load(e){!e||(e.color!==void 0&&(this.color=yt.create(this.color,e.color)),e.enable!==void 0&&(this.enable=e.enable),e.frequency!==void 0&&(this.frequency=e.frequency),e.opacity!==void 0&&(this.opacity=xe(e.opacity)))}}class CB{constructor(){this.lines=new Mx,this.particles=new Mx}load(e){!e||(this.lines.load(e.lines),this.particles.load(e.particles))}}class kB{getColorStyles(e,i,r,n){const s=e.options,a=s.twinkle;if(!a)return{};const o=a.particles,l=o.enable&&Ie()<o.frequency,u=e.options.zIndex,c=(1-e.zIndexFactor)**u.opacityRate,f=l?he(o.opacity)*c:n,d=cs(o.color),p=d?oo(d,f):void 0,g={},b=l&&p;return g.fill=b?p:void 0,g.stroke=b?p:void 0,g}init(){}isEnabled(e){const i=e.options,r=i.twinkle;return r?r.particles.enable:!1}loadOptions(e,...i){e.twinkle||(e.twinkle=new CB);for(const r of i)e.twinkle.load(r?.twinkle)}update(){}}async function PB(t){await t.addParticleUpdater("twinkle",()=>new kB)}class OB{constructor(){this.angle=50,this.move=10}load(e){!e||(e.angle!==void 0&&(this.angle=xe(e.angle)),e.move!==void 0&&(this.move=xe(e.move)))}}class AB{constructor(){this.distance=5,this.enable=!1,this.speed=new OB}load(e){if(!!e&&(e.distance!==void 0&&(this.distance=xe(e.distance)),e.enable!==void 0&&(this.enable=e.enable),e.speed!==void 0))if(typeof e.speed=="number")this.speed.load({angle:e.speed});else{const i=e.speed;i.min!==void 0?this.speed.load({angle:i}):this.speed.load(e.speed)}}}function IB(t,e){var i;const r=t.options.wobble;if(!r?.enable||!t.wobble)return;const n=t.wobble.angleSpeed*e.factor,s=t.wobble.moveSpeed*e.factor,a=s*(((i=t.retina.wobbleDistance)!==null&&i!==void 0?i:0)*e.factor)/(1e3/60),o=2*Math.PI;t.wobble.angle+=n,t.wobble.angle>o&&(t.wobble.angle-=o),t.position.x+=a*Math.cos(t.wobble.angle),t.position.y+=a*Math.abs(Math.sin(t.wobble.angle))}class DB{constructor(e){this.container=e}init(e){var i;const r=e.options.wobble;r?.enable?e.wobble={angle:Ie()*Math.PI*2,angleSpeed:he(r.speed.angle)/360,moveSpeed:he(r.speed.move)/10}:e.wobble={angle:0,angleSpeed:0,moveSpeed:0},e.retina.wobbleDistance=he((i=r?.distance)!==null&&i!==void 0?i:0)*this.container.retina.pixelRatio}isEnabled(e){var i;return!e.destroyed&&!e.spawning&&!!(!((i=e.options.wobble)===null||i===void 0)&&i.enable)}loadOptions(e,...i){e.wobble||(e.wobble=new AB);for(const r of i)e.wobble.load(r?.wobble)}update(e,i){!this.isEnabled(e)||IB(e,i)}}async function MB(t){await t.addParticleUpdater("wobble",e=>new DB(e))}async function RB(t){await bB(t),await HF(t),await sU(t),await EB(t),await PB(t),await MB(t),await tU(t),await jF(t),await JF(t)}const LB={background:{color:"#000"},particles:{color:{value:"#ffffff"},lineLinked:{enable:!1},move:{bounce:!1,direction:"none",enable:!0,outMode:"out",random:!0,speed:.1,straight:!1},opacity:{animation:{enable:!0,minimumValue:0,speed:1,sync:!1},random:!0,value:1},shape:{type:"circle"},size:{random:!0,value:3}}};function jB(t){t.addPreset("stars",LB)}const NB={color:"",size:"50%",repeat:"no-repeat"},FB={move:{speed:.2,enable:!0,direction:"topLeft"},number:{density:{enable:!0,area:250},value:250,limit:500},shape:{type:["circle","edge"]},size:{value:2,random:!0},color:{value:"#4C5C68"},links:{enable:!0,color:{value:"#1985A1"},frequency:.5,opacity:.2,width:.5,distance:150},reduceDuplicates:!0},UB=["stars"],BB=!0;var zB={background:NB,particles:FB,presets:UB,autoPlay:BB};const VB="-J1-N",HB="Tfe7O",WB="c55XJ";var Rx={root:VB,particles:HB,fadein:WB},JC={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Lx=mr.createContext&&mr.createContext(JC),rs=globalThis&&globalThis.__assign||function(){return rs=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++){e=arguments[i];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t},rs.apply(this,arguments)},qB=globalThis&&globalThis.__rest||function(t,e){var i={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(i[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(i[r[n]]=t[r[n]]);return i};function ZC(t){return t&&t.map(function(e,i){return mr.createElement(e.tag,rs({key:i},e.attr),ZC(e.child))})}function kh(t){return function(e){return mr.createElement($B,rs({attr:rs({},t.attr)},e),ZC(t.child))}}function $B(t){var e=function(i){var r=t.attr,n=t.size,s=t.title,a=qB(t,["attr","size","title"]),o=n||i.size||"1em",l;return i.className&&(l=i.className),t.className&&(l=(l?l+" ":"")+t.className),mr.createElement("svg",rs({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},i.attr,r,a,{className:l,style:rs(rs({color:t.color||i.color},i.style),t.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),s&&mr.createElement("title",null,s),t.children)};return Lx!==void 0?mr.createElement(Lx.Consumer,null,function(i){return e(i)}):e(JC)}function GB(t){return kh({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"}}]})(t)}function KB(t){return kh({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"2",y:"2",width:"20",height:"20",rx:"5",ry:"5"}},{tag:"path",attr:{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"}},{tag:"line",attr:{x1:"17.5",y1:"6.5",x2:"17.51",y2:"6.5"}}]})(t)}function XB(t){return kh({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"}},{tag:"rect",attr:{x:"2",y:"9",width:"4",height:"12"}},{tag:"circle",attr:{cx:"4",cy:"4",r:"2"}}]})(t)}const YB="ARkLB",QB="-GtTT",JB="-CFjt",ZB="e0kCV",e4="hKYUt",t4="Zoidc",i4="_2MP80",n4="_1ole-";var Pa={root:YB,contact:QB,social:JB,text:ZB,textHeader:e4,textLinks:t4,textWrapper:i4,fadein:n4};const r4="_8YFkn",s4="Bn4Tw",a4="dxEa0",o4="BTU7B",l4="sdXfu",u4="yf0xg",c4="V31Ng";var ma={root:r4,wrapper:s4,borderLeft:a4,borderTop:o4,borderBottom:l4,borderRight:u4,fadein:c4};const ek=t=>{const{children:e,className:i,style:r}=t,n=`${i?i+" ":""}${ma.root}`;return Je("div",{className:n,style:r,children:[te("div",{className:ma.wrapper,children:e}),te("div",{className:ma.borderLeft}),te("div",{className:ma.borderTop}),te("div",{className:ma.borderRight}),te("div",{className:ma.borderBottom})]})};var sc={exports:{}};/* @license
Papa Parse
v5.3.2
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){(function(i,r){t.exports=r()})(Ni,function i(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},n=!r.document&&!!r.postMessage,s=n&&/blob:/i.test((r.location||{}).protocol),a={},o=0,l={parse:function(E,C){var P=(C=C||{}).dynamicTyping||!1;if(A(P)&&(C.dynamicTypingFunction=P,P={}),C.dynamicTyping=P,C.transform=!!A(C.transform)&&C.transform,C.worker&&l.WORKERS_SUPPORTED){var U=function(){if(!l.WORKERS_SUPPORTED)return!1;var G=(Y=r.URL||r.webkitURL||null,ee=i.toString(),l.BLOB_URL||(l.BLOB_URL=Y.createObjectURL(new Blob(["(",ee,")();"],{type:"text/javascript"})))),W=new r.Worker(G),Y,ee;return W.onmessage=S,W.id=o++,a[W.id]=W}();return U.userStep=C.step,U.userChunk=C.chunk,U.userComplete=C.complete,U.userError=C.error,C.step=A(C.step),C.chunk=A(C.chunk),C.complete=A(C.complete),C.error=A(C.error),delete C.worker,void U.postMessage({input:E,config:C,workerId:U.id})}var B=null;return l.NODE_STREAM_INPUT,typeof E=="string"?B=C.download?new f(C):new p(C):E.readable===!0&&A(E.read)&&A(E.on)?B=new g(C):(r.File&&E instanceof File||E instanceof Object)&&(B=new d(C)),B.stream(E)},unparse:function(E,C){var P=!1,U=!0,B=",",G=`\r
`,W='"',Y=W+W,ee=!1,K=null,q=!1;(function(){if(typeof C=="object"){if(typeof C.delimiter!="string"||l.BAD_DELIMITERS.filter(function(H){return C.delimiter.indexOf(H)!==-1}).length||(B=C.delimiter),(typeof C.quotes=="boolean"||typeof C.quotes=="function"||Array.isArray(C.quotes))&&(P=C.quotes),typeof C.skipEmptyLines!="boolean"&&typeof C.skipEmptyLines!="string"||(ee=C.skipEmptyLines),typeof C.newline=="string"&&(G=C.newline),typeof C.quoteChar=="string"&&(W=C.quoteChar),typeof C.header=="boolean"&&(U=C.header),Array.isArray(C.columns)){if(C.columns.length===0)throw new Error("Option columns is empty");K=C.columns}C.escapeChar!==void 0&&(Y=C.escapeChar+W),(typeof C.escapeFormulae=="boolean"||C.escapeFormulae instanceof RegExp)&&(q=C.escapeFormulae instanceof RegExp?C.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var X=new RegExp(y(W),"g");if(typeof E=="string"&&(E=JSON.parse(E)),Array.isArray(E)){if(!E.length||Array.isArray(E[0]))return Z(null,E,ee);if(typeof E[0]=="object")return Z(K||Object.keys(E[0]),E,ee)}else if(typeof E=="object")return typeof E.data=="string"&&(E.data=JSON.parse(E.data)),Array.isArray(E.data)&&(E.fields||(E.fields=E.meta&&E.meta.fields||K),E.fields||(E.fields=Array.isArray(E.data[0])?E.fields:typeof E.data[0]=="object"?Object.keys(E.data[0]):[]),Array.isArray(E.data[0])||typeof E.data[0]=="object"||(E.data=[E.data])),Z(E.fields||[],E.data||[],ee);throw new Error("Unable to serialize unrecognized input");function Z(H,se,me){var ce="";typeof H=="string"&&(H=JSON.parse(H)),typeof se=="string"&&(se=JSON.parse(se));var _e=Array.isArray(H)&&0<H.length,be=!Array.isArray(se[0]);if(_e&&U){for(var De=0;De<H.length;De++)0<De&&(ce+=B),ce+=$(H[De],De);0<se.length&&(ce+=G)}for(var de=0;de<se.length;de++){var Me=_e?H.length:se[de].length,Fe=!1,$e=_e?Object.keys(se[de]).length===0:se[de].length===0;if(me&&!_e&&(Fe=me==="greedy"?se[de].join("").trim()==="":se[de].length===1&&se[de][0].length===0),me==="greedy"&&_e){for(var Ce=[],je=0;je<Me;je++){var ze=be?H[je]:je;Ce.push(se[de][ze])}Fe=Ce.join("").trim()===""}if(!Fe){for(var ye=0;ye<Me;ye++){0<ye&&!$e&&(ce+=B);var dt=_e&&be?H[ye]:ye;ce+=$(se[de][dt],ye)}de<se.length-1&&(!me||0<Me&&!$e)&&(ce+=G)}}return ce}function $(H,se){if(H==null)return"";if(H.constructor===Date)return JSON.stringify(H).slice(1,25);var me=!1;q&&typeof H=="string"&&q.test(H)&&(H="'"+H,me=!0);var ce=H.toString().replace(X,Y);return(me=me||P===!0||typeof P=="function"&&P(H,se)||Array.isArray(P)&&P[se]||function(_e,be){for(var De=0;De<be.length;De++)if(-1<_e.indexOf(be[De]))return!0;return!1}(ce,l.BAD_DELIMITERS)||-1<ce.indexOf(B)||ce.charAt(0)===" "||ce.charAt(ce.length-1)===" ")?W+ce+W:ce}}};if(l.RECORD_SEP=String.fromCharCode(30),l.UNIT_SEP=String.fromCharCode(31),l.BYTE_ORDER_MARK="\uFEFF",l.BAD_DELIMITERS=["\r",`
`,'"',l.BYTE_ORDER_MARK],l.WORKERS_SUPPORTED=!n&&!!r.Worker,l.NODE_STREAM_INPUT=1,l.LocalChunkSize=10485760,l.RemoteChunkSize=5242880,l.DefaultDelimiter=",",l.Parser=T,l.ParserHandle=b,l.NetworkStreamer=f,l.FileStreamer=d,l.StringStreamer=p,l.ReadableStreamStreamer=g,r.jQuery){var u=r.jQuery;u.fn.parse=function(E){var C=E.config||{},P=[];return this.each(function(G){if(!(u(this).prop("tagName").toUpperCase()==="INPUT"&&u(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var W=0;W<this.files.length;W++)P.push({file:this.files[W],inputElem:this,instanceConfig:u.extend({},C)})}),U(),this;function U(){if(P.length!==0){var G,W,Y,ee,K=P[0];if(A(E.before)){var q=E.before(K.file,K.inputElem);if(typeof q=="object"){if(q.action==="abort")return G="AbortError",W=K.file,Y=K.inputElem,ee=q.reason,void(A(E.error)&&E.error({name:G},W,Y,ee));if(q.action==="skip")return void B();typeof q.config=="object"&&(K.instanceConfig=u.extend(K.instanceConfig,q.config))}else if(q==="skip")return void B()}var X=K.instanceConfig.complete;K.instanceConfig.complete=function(Z){A(X)&&X(Z,K.file,K.inputElem),B()},l.parse(K.file,K.instanceConfig)}else A(E.complete)&&E.complete()}function B(){P.splice(0,1),U()}}}function c(E){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(C){var P=M(C);P.chunkSize=parseInt(P.chunkSize),C.step||C.chunk||(P.chunkSize=null),this._handle=new b(P),(this._handle.streamer=this)._config=P}.call(this,E),this.parseChunk=function(C,P){if(this.isFirstChunk&&A(this._config.beforeFirstChunk)){var U=this._config.beforeFirstChunk(C);U!==void 0&&(C=U)}this.isFirstChunk=!1,this._halted=!1;var B=this._partialLine+C;this._partialLine="";var G=this._handle.parse(B,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var W=G.meta.cursor;this._finished||(this._partialLine=B.substring(W-this._baseIndex),this._baseIndex=W),G&&G.data&&(this._rowCount+=G.data.length);var Y=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(s)r.postMessage({results:G,workerId:l.WORKER_ID,finished:Y});else if(A(this._config.chunk)&&!P){if(this._config.chunk(G,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);G=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(G.data),this._completeResults.errors=this._completeResults.errors.concat(G.errors),this._completeResults.meta=G.meta),this._completed||!Y||!A(this._config.complete)||G&&G.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),Y||G&&G.meta.paused||this._nextChunk(),G}this._halted=!0},this._sendError=function(C){A(this._config.error)?this._config.error(C):s&&this._config.error&&r.postMessage({workerId:l.WORKER_ID,error:C,finished:!1})}}function f(E){var C;(E=E||{}).chunkSize||(E.chunkSize=l.RemoteChunkSize),c.call(this,E),this._nextChunk=n?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(P){this._input=P,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(C=new XMLHttpRequest,this._config.withCredentials&&(C.withCredentials=this._config.withCredentials),n||(C.onload=R(this._chunkLoaded,this),C.onerror=R(this._chunkError,this)),C.open(this._config.downloadRequestBody?"POST":"GET",this._input,!n),this._config.downloadRequestHeaders){var P=this._config.downloadRequestHeaders;for(var U in P)C.setRequestHeader(U,P[U])}if(this._config.chunkSize){var B=this._start+this._config.chunkSize-1;C.setRequestHeader("Range","bytes="+this._start+"-"+B)}try{C.send(this._config.downloadRequestBody)}catch(G){this._chunkError(G.message)}n&&C.status===0&&this._chunkError()}},this._chunkLoaded=function(){C.readyState===4&&(C.status<200||400<=C.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:C.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(P){var U=P.getResponseHeader("Content-Range");return U===null?-1:parseInt(U.substring(U.lastIndexOf("/")+1))}(C),this.parseChunk(C.responseText)))},this._chunkError=function(P){var U=C.statusText||P;this._sendError(new Error(U))}}function d(E){var C,P;(E=E||{}).chunkSize||(E.chunkSize=l.LocalChunkSize),c.call(this,E);var U=typeof FileReader<"u";this.stream=function(B){this._input=B,P=B.slice||B.webkitSlice||B.mozSlice,U?((C=new FileReader).onload=R(this._chunkLoaded,this),C.onerror=R(this._chunkError,this)):C=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var B=this._input;if(this._config.chunkSize){var G=Math.min(this._start+this._config.chunkSize,this._input.size);B=P.call(B,this._start,G)}var W=C.readAsText(B,this._config.encoding);U||this._chunkLoaded({target:{result:W}})},this._chunkLoaded=function(B){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(B.target.result)},this._chunkError=function(){this._sendError(C.error)}}function p(E){var C;c.call(this,E=E||{}),this.stream=function(P){return C=P,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var P,U=this._config.chunkSize;return U?(P=C.substring(0,U),C=C.substring(U)):(P=C,C=""),this._finished=!C,this.parseChunk(P)}}}function g(E){c.call(this,E=E||{});var C=[],P=!0,U=!1;this.pause=function(){c.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){c.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(B){this._input=B,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){U&&C.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),C.length?this.parseChunk(C.shift()):P=!0},this._streamData=R(function(B){try{C.push(typeof B=="string"?B:B.toString(this._config.encoding)),P&&(P=!1,this._checkIsFinished(),this.parseChunk(C.shift()))}catch(G){this._streamError(G)}},this),this._streamError=R(function(B){this._streamCleanUp(),this._sendError(B)},this),this._streamEnd=R(function(){this._streamCleanUp(),U=!0,this._streamData("")},this),this._streamCleanUp=R(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function b(E){var C,P,U,B=Math.pow(2,53),G=-B,W=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,Y=/^(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))$/,ee=this,K=0,q=0,X=!1,Z=!1,$=[],H={data:[],errors:[],meta:{}};if(A(E.step)){var se=E.step;E.step=function(de){if(H=de,_e())ce();else{if(ce(),H.data.length===0)return;K+=de.data.length,E.preview&&K>E.preview?P.abort():(H.data=H.data[0],se(H,ee))}}}function me(de){return E.skipEmptyLines==="greedy"?de.join("").trim()==="":de.length===1&&de[0].length===0}function ce(){return H&&U&&(De("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+l.DefaultDelimiter+"'"),U=!1),E.skipEmptyLines&&(H.data=H.data.filter(function(de){return!me(de)})),_e()&&function(){if(!H)return;function de(Fe,$e){A(E.transformHeader)&&(Fe=E.transformHeader(Fe,$e)),$.push(Fe)}if(Array.isArray(H.data[0])){for(var Me=0;_e()&&Me<H.data.length;Me++)H.data[Me].forEach(de);H.data.splice(0,1)}else H.data.forEach(de)}(),function(){if(!H||!E.header&&!E.dynamicTyping&&!E.transform)return H;function de(Fe,$e){var Ce,je=E.header?{}:[];for(Ce=0;Ce<Fe.length;Ce++){var ze=Ce,ye=Fe[Ce];E.header&&(ze=Ce>=$.length?"__parsed_extra":$[Ce]),E.transform&&(ye=E.transform(ye,ze)),ye=be(ze,ye),ze==="__parsed_extra"?(je[ze]=je[ze]||[],je[ze].push(ye)):je[ze]=ye}return E.header&&(Ce>$.length?De("FieldMismatch","TooManyFields","Too many fields: expected "+$.length+" fields but parsed "+Ce,q+$e):Ce<$.length&&De("FieldMismatch","TooFewFields","Too few fields: expected "+$.length+" fields but parsed "+Ce,q+$e)),je}var Me=1;return!H.data.length||Array.isArray(H.data[0])?(H.data=H.data.map(de),Me=H.data.length):H.data=de(H.data,0),E.header&&H.meta&&(H.meta.fields=$),q+=Me,H}()}function _e(){return E.header&&$.length===0}function be(de,Me){return Fe=de,E.dynamicTypingFunction&&E.dynamicTyping[Fe]===void 0&&(E.dynamicTyping[Fe]=E.dynamicTypingFunction(Fe)),(E.dynamicTyping[Fe]||E.dynamicTyping)===!0?Me==="true"||Me==="TRUE"||Me!=="false"&&Me!=="FALSE"&&(function($e){if(W.test($e)){var Ce=parseFloat($e);if(G<Ce&&Ce<B)return!0}return!1}(Me)?parseFloat(Me):Y.test(Me)?new Date(Me):Me===""?null:Me):Me;var Fe}function De(de,Me,Fe,$e){var Ce={type:de,code:Me,message:Fe};$e!==void 0&&(Ce.row=$e),H.errors.push(Ce)}this.parse=function(de,Me,Fe){var $e=E.quoteChar||'"';if(E.newline||(E.newline=function(ze,ye){ze=ze.substring(0,1048576);var dt=new RegExp(y(ye)+"([^]*?)"+y(ye),"gm"),Ke=(ze=ze.replace(dt,"")).split("\r"),Pe=ze.split(`
`),rn=1<Pe.length&&Pe[0].length<Ke[0].length;if(Ke.length===1||rn)return`
`;for(var Gt=0,Kt=0;Kt<Ke.length;Kt++)Ke[Kt][0]===`
`&&Gt++;return Gt>=Ke.length/2?`\r
`:"\r"}(de,$e)),U=!1,E.delimiter)A(E.delimiter)&&(E.delimiter=E.delimiter(de),H.meta.delimiter=E.delimiter);else{var Ce=function(ze,ye,dt,Ke,Pe){var rn,Gt,Kt,ft;Pe=Pe||[",","	","|",";",l.RECORD_SEP,l.UNIT_SEP];for(var ki=0;ki<Pe.length;ki++){var _t=Pe[ki],Tn=0,$i=0,Wo=0;Kt=void 0;for(var Lr=new T({comments:Ke,delimiter:_t,newline:ye,preview:10}).parse(ze),ys=0;ys<Lr.data.length;ys++)if(dt&&me(Lr.data[ys]))Wo++;else{var Ne=Lr.data[ys].length;$i+=Ne,Kt!==void 0?0<Ne&&(Tn+=Math.abs(Ne-Kt),Kt=Ne):Kt=Ne}0<Lr.data.length&&($i/=Lr.data.length-Wo),(Gt===void 0||Tn<=Gt)&&(ft===void 0||ft<$i)&&1.99<$i&&(Gt=Tn,rn=_t,ft=$i)}return{successful:!!(E.delimiter=rn),bestDelimiter:rn}}(de,E.newline,E.skipEmptyLines,E.comments,E.delimitersToGuess);Ce.successful?E.delimiter=Ce.bestDelimiter:(U=!0,E.delimiter=l.DefaultDelimiter),H.meta.delimiter=E.delimiter}var je=M(E);return E.preview&&E.header&&je.preview++,C=de,P=new T(je),H=P.parse(C,Me,Fe),ce(),X?{meta:{paused:!0}}:H||{meta:{paused:!1}}},this.paused=function(){return X},this.pause=function(){X=!0,P.abort(),C=A(E.chunk)?"":C.substring(P.getCharIndex())},this.resume=function(){ee.streamer._halted?(X=!1,ee.streamer.parseChunk(C,!0)):setTimeout(ee.resume,3)},this.aborted=function(){return Z},this.abort=function(){Z=!0,P.abort(),H.meta.aborted=!0,A(E.complete)&&E.complete(H),C=""}}function y(E){return E.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function T(E){var C,P=(E=E||{}).delimiter,U=E.newline,B=E.comments,G=E.step,W=E.preview,Y=E.fastMode,ee=C=E.quoteChar===void 0||E.quoteChar===null?'"':E.quoteChar;if(E.escapeChar!==void 0&&(ee=E.escapeChar),(typeof P!="string"||-1<l.BAD_DELIMITERS.indexOf(P))&&(P=","),B===P)throw new Error("Comment character same as delimiter");B===!0?B="#":(typeof B!="string"||-1<l.BAD_DELIMITERS.indexOf(B))&&(B=!1),U!==`
`&&U!=="\r"&&U!==`\r
`&&(U=`
`);var K=0,q=!1;this.parse=function(X,Z,$){if(typeof X!="string")throw new Error("Input must be a string");var H=X.length,se=P.length,me=U.length,ce=B.length,_e=A(G),be=[],De=[],de=[],Me=K=0;if(!X)return ft();if(Y||Y!==!1&&X.indexOf(C)===-1){for(var Fe=X.split(U),$e=0;$e<Fe.length;$e++){if(de=Fe[$e],K+=de.length,$e!==Fe.length-1)K+=U.length;else if($)return ft();if(!B||de.substring(0,ce)!==B){if(_e){if(be=[],Pe(de.split(P)),ki(),q)return ft()}else Pe(de.split(P));if(W&&W<=$e)return be=be.slice(0,W),ft(!0)}}return ft()}for(var Ce=X.indexOf(P,K),je=X.indexOf(U,K),ze=new RegExp(y(ee)+y(C),"g"),ye=X.indexOf(C,K);;)if(X[K]!==C)if(B&&de.length===0&&X.substring(K,K+ce)===B){if(je===-1)return ft();K=je+me,je=X.indexOf(U,K),Ce=X.indexOf(P,K)}else if(Ce!==-1&&(Ce<je||je===-1))de.push(X.substring(K,Ce)),K=Ce+se,Ce=X.indexOf(P,K);else{if(je===-1)break;if(de.push(X.substring(K,je)),Kt(je+me),_e&&(ki(),q))return ft();if(W&&be.length>=W)return ft(!0)}else for(ye=K,K++;;){if((ye=X.indexOf(C,ye+1))===-1)return $||De.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:be.length,index:K}),Gt();if(ye===H-1)return Gt(X.substring(K,ye).replace(ze,C));if(C!==ee||X[ye+1]!==ee){if(C===ee||ye===0||X[ye-1]!==ee){Ce!==-1&&Ce<ye+1&&(Ce=X.indexOf(P,ye+1)),je!==-1&&je<ye+1&&(je=X.indexOf(U,ye+1));var dt=rn(je===-1?Ce:Math.min(Ce,je));if(X.substr(ye+1+dt,se)===P){de.push(X.substring(K,ye).replace(ze,C)),X[K=ye+1+dt+se]!==C&&(ye=X.indexOf(C,K)),Ce=X.indexOf(P,K),je=X.indexOf(U,K);break}var Ke=rn(je);if(X.substring(ye+1+Ke,ye+1+Ke+me)===U){if(de.push(X.substring(K,ye).replace(ze,C)),Kt(ye+1+Ke+me),Ce=X.indexOf(P,K),ye=X.indexOf(C,K),_e&&(ki(),q))return ft();if(W&&be.length>=W)return ft(!0);break}De.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:be.length,index:K}),ye++}}else ye++}return Gt();function Pe(_t){be.push(_t),Me=K}function rn(_t){var Tn=0;if(_t!==-1){var $i=X.substring(ye+1,_t);$i&&$i.trim()===""&&(Tn=$i.length)}return Tn}function Gt(_t){return $||(_t===void 0&&(_t=X.substring(K)),de.push(_t),K=H,Pe(de),_e&&ki()),ft()}function Kt(_t){K=_t,Pe(de),de=[],je=X.indexOf(U,K)}function ft(_t){return{data:be,errors:De,meta:{delimiter:P,linebreak:U,aborted:q,truncated:!!_t,cursor:Me+(Z||0)}}}function ki(){G(ft()),be=[],De=[]}},this.abort=function(){q=!0},this.getCharIndex=function(){return K}}function S(E){var C=E.data,P=a[C.workerId],U=!1;if(C.error)P.userError(C.error,C.file);else if(C.results&&C.results.data){var B={abort:function(){U=!0,I(C.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:O,resume:O};if(A(P.userStep)){for(var G=0;G<C.results.data.length&&(P.userStep({data:C.results.data[G],errors:C.results.errors,meta:C.results.meta},B),!U);G++);delete C.results}else A(P.userChunk)&&(P.userChunk(C.results,B,C.file),delete C.results)}C.finished&&!U&&I(C.workerId,C.results)}function I(E,C){var P=a[E];A(P.userComplete)&&P.userComplete(C),P.terminate(),delete a[E]}function O(){throw new Error("Not implemented.")}function M(E){if(typeof E!="object"||E===null)return E;var C=Array.isArray(E)?[]:{};for(var P in E)C[P]=M(E[P]);return C}function R(E,C){return function(){E.apply(C,arguments)}}function A(E){return typeof E=="function"}return s&&(r.onmessage=function(E){var C=E.data;if(l.WORKER_ID===void 0&&C&&(l.WORKER_ID=C.workerId),typeof C.input=="string")r.postMessage({workerId:l.WORKER_ID,results:l.parse(C.input,C.config),finished:!0});else if(r.File&&C.input instanceof File||C.input instanceof Object){var P=l.parse(C.input,C.config);P&&r.postMessage({workerId:l.WORKER_ID,results:P,finished:!0})}}),(f.prototype=Object.create(c.prototype)).constructor=f,(d.prototype=Object.create(c.prototype)).constructor=d,(p.prototype=Object.create(p.prototype)).constructor=p,(g.prototype=Object.create(c.prototype)).constructor=g,l})})(sc);var d4=`index,header,link,description
0,My Inspiration,inspiration,"A list of the works that have inspired me to become a filmaker."
1,Caro Amico,caroamico,"A short film I made during the first COVID lockdown about the correspondence between Gustav Mahler and Richard Strauss."
2,Mirrorland,mirrorland,"A new short film I wrote, with some pictures that represent a snapshot of some scenes."`,tk="1.13.6",jx=typeof self=="object"&&self.self===self&&self||typeof global=="object"&&global.global===global&&global||Function("return this")()||{},Ph=Array.prototype,vy=Object.prototype,Nx=typeof Symbol<"u"?Symbol.prototype:null,f4=Ph.push,ac=Ph.slice,Au=vy.toString,h4=vy.hasOwnProperty,ik=typeof ArrayBuffer<"u",p4=typeof DataView<"u",m4=Array.isArray,Fx=Object.keys,Ux=Object.create,Bx=ik&&ArrayBuffer.isView,v4=isNaN,g4=isFinite,nk=!{toString:null}.propertyIsEnumerable("toString"),zx=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],y4=Math.pow(2,53)-1;function zi(t,e){return e=e==null?t.length-1:+e,function(){for(var i=Math.max(arguments.length-e,0),r=Array(i),n=0;n<i;n++)r[n]=arguments[n+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var s=Array(e+1);for(n=0;n<e;n++)s[n]=arguments[n];return s[e]=r,t.apply(this,s)}}function sa(t){var e=typeof t;return e==="function"||e==="object"&&!!t}function _4(t){return t===null}function rk(t){return t===void 0}function sk(t){return t===!0||t===!1||Au.call(t)==="[object Boolean]"}function b4(t){return!!(t&&t.nodeType===1)}function oi(t){var e="[object "+t+"]";return function(i){return Au.call(i)===e}}var gy=oi("String"),ak=oi("Number"),T4=oi("Date"),x4=oi("RegExp"),w4=oi("Error"),ok=oi("Symbol"),lk=oi("ArrayBuffer"),uk=oi("Function"),S4=jx.document&&jx.document.childNodes;typeof/./!="function"&&typeof Int8Array!="object"&&typeof S4!="function"&&(uk=function(t){return typeof t=="function"||!1});var Ei=uk,ck=oi("Object"),dk=p4&&ck(new DataView(new ArrayBuffer(8))),yy=typeof Map<"u"&&ck(new Map),E4=oi("DataView");function C4(t){return t!=null&&Ei(t.getInt8)&&lk(t.buffer)}var xf=dk?C4:E4,aa=m4||oi("Array");function vs(t,e){return t!=null&&h4.call(t,e)}var Zv=oi("Arguments");(function(){Zv(arguments)||(Zv=function(t){return vs(t,"callee")})})();var _y=Zv;function k4(t){return!ok(t)&&g4(t)&&!isNaN(parseFloat(t))}function fk(t){return ak(t)&&v4(t)}function hk(t){return function(){return t}}function pk(t){return function(e){var i=t(e);return typeof i=="number"&&i>=0&&i<=y4}}function mk(t){return function(e){return e?.[t]}}var wf=mk("byteLength"),P4=pk(wf),O4=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;function A4(t){return Bx?Bx(t)&&!xf(t):P4(t)&&O4.test(Au.call(t))}var vk=ik?A4:hk(!1),Vi=mk("length");function I4(t){for(var e={},i=t.length,r=0;r<i;++r)e[t[r]]=!0;return{contains:function(n){return e[n]===!0},push:function(n){return e[n]=!0,t.push(n)}}}function gk(t,e){e=I4(e);var i=zx.length,r=t.constructor,n=Ei(r)&&r.prototype||vy,s="constructor";for(vs(t,s)&&!e.contains(s)&&e.push(s);i--;)s=zx[i],s in t&&t[s]!==n[s]&&!e.contains(s)&&e.push(s)}function Nt(t){if(!sa(t))return[];if(Fx)return Fx(t);var e=[];for(var i in t)vs(t,i)&&e.push(i);return nk&&gk(t,e),e}function D4(t){if(t==null)return!0;var e=Vi(t);return typeof e=="number"&&(aa(t)||gy(t)||_y(t))?e===0:Vi(Nt(t))===0}function yk(t,e){var i=Nt(e),r=i.length;if(t==null)return!r;for(var n=Object(t),s=0;s<r;s++){var a=i[s];if(e[a]!==n[a]||!(a in n))return!1}return!0}function Ve(t){if(t instanceof Ve)return t;if(!(this instanceof Ve))return new Ve(t);this._wrapped=t}Ve.VERSION=tk;Ve.prototype.value=function(){return this._wrapped};Ve.prototype.valueOf=Ve.prototype.toJSON=Ve.prototype.value;Ve.prototype.toString=function(){return String(this._wrapped)};function Vx(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,wf(t))}var Hx="[object DataView]";function eg(t,e,i,r){if(t===e)return t!==0||1/t===1/e;if(t==null||e==null)return!1;if(t!==t)return e!==e;var n=typeof t;return n!=="function"&&n!=="object"&&typeof e!="object"?!1:_k(t,e,i,r)}function _k(t,e,i,r){t instanceof Ve&&(t=t._wrapped),e instanceof Ve&&(e=e._wrapped);var n=Au.call(t);if(n!==Au.call(e))return!1;if(dk&&n=="[object Object]"&&xf(t)){if(!xf(e))return!1;n=Hx}switch(n){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!=+t?+e!=+e:+t==0?1/+t===1/e:+t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object Symbol]":return Nx.valueOf.call(t)===Nx.valueOf.call(e);case"[object ArrayBuffer]":case Hx:return _k(Vx(t),Vx(e),i,r)}var s=n==="[object Array]";if(!s&&vk(t)){var a=wf(t);if(a!==wf(e))return!1;if(t.buffer===e.buffer&&t.byteOffset===e.byteOffset)return!0;s=!0}if(!s){if(typeof t!="object"||typeof e!="object")return!1;var o=t.constructor,l=e.constructor;if(o!==l&&!(Ei(o)&&o instanceof o&&Ei(l)&&l instanceof l)&&"constructor"in t&&"constructor"in e)return!1}i=i||[],r=r||[];for(var u=i.length;u--;)if(i[u]===t)return r[u]===e;if(i.push(t),r.push(e),s){if(u=t.length,u!==e.length)return!1;for(;u--;)if(!eg(t[u],e[u],i,r))return!1}else{var c=Nt(t),f;if(u=c.length,Nt(e).length!==u)return!1;for(;u--;)if(f=c[u],!(vs(e,f)&&eg(t[f],e[f],i,r)))return!1}return i.pop(),r.pop(),!0}function M4(t,e){return eg(t,e)}function oc(t){if(!sa(t))return[];var e=[];for(var i in t)e.push(i);return nk&&gk(t,e),e}function by(t){var e=Vi(t);return function(i){if(i==null)return!1;var r=oc(i);if(Vi(r))return!1;for(var n=0;n<e;n++)if(!Ei(i[t[n]]))return!1;return t!==xk||!Ei(i[Ty])}}var Ty="forEach",bk="has",xy=["clear","delete"],Tk=["get",bk,"set"],R4=xy.concat(Ty,Tk),xk=xy.concat(Tk),L4=["add"].concat(xy,Ty,bk),j4=yy?by(R4):oi("Map"),N4=yy?by(xk):oi("WeakMap"),F4=yy?by(L4):oi("Set"),U4=oi("WeakSet");function Ro(t){for(var e=Nt(t),i=e.length,r=Array(i),n=0;n<i;n++)r[n]=t[e[n]];return r}function B4(t){for(var e=Nt(t),i=e.length,r=Array(i),n=0;n<i;n++)r[n]=[e[n],t[e[n]]];return r}function wk(t){for(var e={},i=Nt(t),r=0,n=i.length;r<n;r++)e[t[i[r]]]=i[r];return e}function tg(t){var e=[];for(var i in t)Ei(t[i])&&e.push(i);return e.sort()}function wy(t,e){return function(i){var r=arguments.length;if(e&&(i=Object(i)),r<2||i==null)return i;for(var n=1;n<r;n++)for(var s=arguments[n],a=t(s),o=a.length,l=0;l<o;l++){var u=a[l];(!e||i[u]===void 0)&&(i[u]=s[u])}return i}}var Sk=wy(oc),Sf=wy(Nt),Ek=wy(oc,!0);function z4(){return function(){}}function Ck(t){if(!sa(t))return{};if(Ux)return Ux(t);var e=z4();e.prototype=t;var i=new e;return e.prototype=null,i}function V4(t,e){var i=Ck(t);return e&&Sf(i,e),i}function H4(t){return sa(t)?aa(t)?t.slice():Sk({},t):t}function W4(t,e){return e(t),t}function kk(t){return aa(t)?t:[t]}Ve.toPath=kk;function lc(t){return Ve.toPath(t)}function Sy(t,e){for(var i=e.length,r=0;r<i;r++){if(t==null)return;t=t[e[r]]}return i?t:void 0}function Pk(t,e,i){var r=Sy(t,lc(e));return rk(r)?i:r}function q4(t,e){e=lc(e);for(var i=e.length,r=0;r<i;r++){var n=e[r];if(!vs(t,n))return!1;t=t[n]}return!!i}function Ey(t){return t}function Iu(t){return t=Sf({},t),function(e){return yk(e,t)}}function Cy(t){return t=lc(t),function(e){return Sy(e,t)}}function uc(t,e,i){if(e===void 0)return t;switch(i??3){case 1:return function(r){return t.call(e,r)};case 3:return function(r,n,s){return t.call(e,r,n,s)};case 4:return function(r,n,s,a){return t.call(e,r,n,s,a)}}return function(){return t.apply(e,arguments)}}function Ok(t,e,i){return t==null?Ey:Ei(t)?uc(t,e,i):sa(t)&&!aa(t)?Iu(t):Cy(t)}function ky(t,e){return Ok(t,e,1/0)}Ve.iteratee=ky;function Hi(t,e,i){return Ve.iteratee!==ky?Ve.iteratee(t,e):Ok(t,e,i)}function $4(t,e,i){e=Hi(e,i);for(var r=Nt(t),n=r.length,s={},a=0;a<n;a++){var o=r[a];s[o]=e(t[o],o,t)}return s}function Ak(){}function G4(t){return t==null?Ak:function(e){return Pk(t,e)}}function K4(t,e,i){var r=Array(Math.max(0,t));e=uc(e,i,1);for(var n=0;n<t;n++)r[n]=e(n);return r}function ig(t,e){return e==null&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}var Du=Date.now||function(){return new Date().getTime()};function Ik(t){var e=function(s){return t[s]},i="(?:"+Nt(t).join("|")+")",r=RegExp(i),n=RegExp(i,"g");return function(s){return s=s==null?"":""+s,r.test(s)?s.replace(n,e):s}}var Dk={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},X4=Ik(Dk),Y4=wk(Dk),Q4=Ik(Y4),J4=Ve.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},am=/(.)^/,Z4={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},ez=/\\|'|\r|\n|\u2028|\u2029/g;function tz(t){return"\\"+Z4[t]}var iz=/^\s*(\w|\$)+\s*$/;function nz(t,e,i){!e&&i&&(e=i),e=Ek({},e,Ve.templateSettings);var r=RegExp([(e.escape||am).source,(e.interpolate||am).source,(e.evaluate||am).source].join("|")+"|$","g"),n=0,s="__p+='";t.replace(r,function(u,c,f,d,p){return s+=t.slice(n,p).replace(ez,tz),n=p+u.length,c?s+=`'+
((__t=(`+c+`))==null?'':_.escape(__t))+
'`:f?s+=`'+
((__t=(`+f+`))==null?'':__t)+
'`:d&&(s+=`';
`+d+`
__p+='`),u}),s+=`';
`;var a=e.variable;if(a){if(!iz.test(a))throw new Error("variable is not a bare identifier: "+a)}else s=`with(obj||{}){
`+s+`}
`,a="obj";s=`var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};
`+s+`return __p;
`;var o;try{o=new Function(a,"_",s)}catch(u){throw u.source=s,u}var l=function(u){return o.call(this,u,Ve)};return l.source="function("+a+`){
`+s+"}",l}function rz(t,e,i){e=lc(e);var r=e.length;if(!r)return Ei(i)?i.call(t):i;for(var n=0;n<r;n++){var s=t?.[e[n]];s===void 0&&(s=i,n=r),t=Ei(s)?s.call(t):s}return t}var sz=0;function az(t){var e=++sz+"";return t?t+e:e}function oz(t){var e=Ve(t);return e._chain=!0,e}function Mk(t,e,i,r,n){if(!(r instanceof e))return t.apply(i,n);var s=Ck(t.prototype),a=t.apply(s,n);return sa(a)?a:s}var Lo=zi(function(t,e){var i=Lo.placeholder,r=function(){for(var n=0,s=e.length,a=Array(s),o=0;o<s;o++)a[o]=e[o]===i?arguments[n++]:e[o];for(;n<arguments.length;)a.push(arguments[n++]);return Mk(t,r,this,this,a)};return r});Lo.placeholder=Ve;var Rk=zi(function(t,e,i){if(!Ei(t))throw new TypeError("Bind must be called on a function");var r=zi(function(n){return Mk(t,r,e,this,i.concat(n))});return r}),nn=pk(Vi);function oa(t,e,i,r){if(r=r||[],!e&&e!==0)e=1/0;else if(e<=0)return r.concat(t);for(var n=r.length,s=0,a=Vi(t);s<a;s++){var o=t[s];if(nn(o)&&(aa(o)||_y(o)))if(e>1)oa(o,e-1,i,r),n=r.length;else for(var l=0,u=o.length;l<u;)r[n++]=o[l++];else i||(r[n++]=o)}return r}var lz=zi(function(t,e){e=oa(e,!1,!1);var i=e.length;if(i<1)throw new Error("bindAll must be passed function names");for(;i--;){var r=e[i];t[r]=Rk(t[r],t)}return t});function uz(t,e){var i=function(r){var n=i.cache,s=""+(e?e.apply(this,arguments):r);return vs(n,s)||(n[s]=t.apply(this,arguments)),n[s]};return i.cache={},i}var Lk=zi(function(t,e,i){return setTimeout(function(){return t.apply(null,i)},e)}),cz=Lo(Lk,Ve,1);function dz(t,e,i){var r,n,s,a,o=0;i||(i={});var l=function(){o=i.leading===!1?0:Du(),r=null,a=t.apply(n,s),r||(n=s=null)},u=function(){var c=Du();!o&&i.leading===!1&&(o=c);var f=e-(c-o);return n=this,s=arguments,f<=0||f>e?(r&&(clearTimeout(r),r=null),o=c,a=t.apply(n,s),r||(n=s=null)):!r&&i.trailing!==!1&&(r=setTimeout(l,f)),a};return u.cancel=function(){clearTimeout(r),o=0,r=n=s=null},u}function fz(t,e,i){var r,n,s,a,o,l=function(){var c=Du()-n;e>c?r=setTimeout(l,e-c):(r=null,i||(a=t.apply(o,s)),r||(s=o=null))},u=zi(function(c){return o=this,s=c,n=Du(),r||(r=setTimeout(l,e),i&&(a=t.apply(o,s))),a});return u.cancel=function(){clearTimeout(r),r=s=o=null},u}function hz(t,e){return Lo(e,t)}function Py(t){return function(){return!t.apply(this,arguments)}}function pz(){var t=arguments,e=t.length-1;return function(){for(var i=e,r=t[e].apply(this,arguments);i--;)r=t[i].call(this,r);return r}}function mz(t,e){return function(){if(--t<1)return e.apply(this,arguments)}}function jk(t,e){var i;return function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=null),i}}var vz=Lo(jk,2);function Nk(t,e,i){e=Hi(e,i);for(var r=Nt(t),n,s=0,a=r.length;s<a;s++)if(n=r[s],e(t[n],n,t))return n}function Fk(t){return function(e,i,r){i=Hi(i,r);for(var n=Vi(e),s=t>0?0:n-1;s>=0&&s<n;s+=t)if(i(e[s],s,e))return s;return-1}}var Oy=Fk(1),Uk=Fk(-1);function Bk(t,e,i,r){i=Hi(i,r,1);for(var n=i(e),s=0,a=Vi(t);s<a;){var o=Math.floor((s+a)/2);i(t[o])<n?s=o+1:a=o}return s}function zk(t,e,i){return function(r,n,s){var a=0,o=Vi(r);if(typeof s=="number")t>0?a=s>=0?s:Math.max(s+o,a):o=s>=0?Math.min(s+1,o):s+o+1;else if(i&&s&&o)return s=i(r,n),r[s]===n?s:-1;if(n!==n)return s=e(ac.call(r,a,o),fk),s>=0?s+a:-1;for(s=t>0?a:o-1;s>=0&&s<o;s+=t)if(r[s]===n)return s;return-1}}var Vk=zk(1,Oy,Bk),gz=zk(-1,Uk);function ng(t,e,i){var r=nn(t)?Oy:Nk,n=r(t,e,i);if(n!==void 0&&n!==-1)return t[n]}function yz(t,e){return ng(t,Iu(e))}function wr(t,e,i){e=uc(e,i);var r,n;if(nn(t))for(r=0,n=t.length;r<n;r++)e(t[r],r,t);else{var s=Nt(t);for(r=0,n=s.length;r<n;r++)e(t[s[r]],s[r],t)}return t}function Qs(t,e,i){e=Hi(e,i);for(var r=!nn(t)&&Nt(t),n=(r||t).length,s=Array(n),a=0;a<n;a++){var o=r?r[a]:a;s[a]=e(t[o],o,t)}return s}function Hk(t){var e=function(i,r,n,s){var a=!nn(i)&&Nt(i),o=(a||i).length,l=t>0?0:o-1;for(s||(n=i[a?a[l]:l],l+=t);l>=0&&l<o;l+=t){var u=a?a[l]:l;n=r(n,i[u],u,i)}return n};return function(i,r,n,s){var a=arguments.length>=3;return e(i,uc(r,s,4),n,a)}}var om=Hk(1),Wx=Hk(-1);function uo(t,e,i){var r=[];return e=Hi(e,i),wr(t,function(n,s,a){e(n,s,a)&&r.push(n)}),r}function _z(t,e,i){return uo(t,Py(Hi(e)),i)}function qx(t,e,i){e=Hi(e,i);for(var r=!nn(t)&&Nt(t),n=(r||t).length,s=0;s<n;s++){var a=r?r[s]:s;if(!e(t[a],a,t))return!1}return!0}function $x(t,e,i){e=Hi(e,i);for(var r=!nn(t)&&Nt(t),n=(r||t).length,s=0;s<n;s++){var a=r?r[s]:s;if(e(t[a],a,t))return!0}return!1}function gr(t,e,i,r){return nn(t)||(t=Ro(t)),(typeof i!="number"||r)&&(i=0),Vk(t,e,i)>=0}var bz=zi(function(t,e,i){var r,n;return Ei(e)?n=e:(e=lc(e),r=e.slice(0,-1),e=e[e.length-1]),Qs(t,function(s){var a=n;if(!a){if(r&&r.length&&(s=Sy(s,r)),s==null)return;a=s[e]}return a==null?a:a.apply(s,i)})});function Ay(t,e){return Qs(t,Cy(e))}function Tz(t,e){return uo(t,Iu(e))}function Wk(t,e,i){var r=-1/0,n=-1/0,s,a;if(e==null||typeof e=="number"&&typeof t[0]!="object"&&t!=null){t=nn(t)?t:Ro(t);for(var o=0,l=t.length;o<l;o++)s=t[o],s!=null&&s>r&&(r=s)}else e=Hi(e,i),wr(t,function(u,c,f){a=e(u,c,f),(a>n||a===-1/0&&r===-1/0)&&(r=u,n=a)});return r}function xz(t,e,i){var r=1/0,n=1/0,s,a;if(e==null||typeof e=="number"&&typeof t[0]!="object"&&t!=null){t=nn(t)?t:Ro(t);for(var o=0,l=t.length;o<l;o++)s=t[o],s!=null&&s<r&&(r=s)}else e=Hi(e,i),wr(t,function(u,c,f){a=e(u,c,f),(a<n||a===1/0&&r===1/0)&&(r=u,n=a)});return r}var wz=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function qk(t){return t?aa(t)?ac.call(t):gy(t)?t.match(wz):nn(t)?Qs(t,Ey):Ro(t):[]}function $k(t,e,i){if(e==null||i)return nn(t)||(t=Ro(t)),t[ig(t.length-1)];var r=qk(t),n=Vi(r);e=Math.max(Math.min(e,n),0);for(var s=n-1,a=0;a<e;a++){var o=ig(a,s),l=r[a];r[a]=r[o],r[o]=l}return r.slice(0,e)}function Sz(t){return $k(t,1/0)}function cc(t,e,i){var r=0;return e=Hi(e,i),Ay(Qs(t,function(n,s,a){return{value:n,index:r++,criteria:e(n,s,a)}}).sort(function(n,s){var a=n.criteria,o=s.criteria;if(a!==o){if(a>o||a===void 0)return 1;if(a<o||o===void 0)return-1}return n.index-s.index}),"value")}function Oh(t,e){return function(i,r,n){var s=e?[[],[]]:{};return r=Hi(r,n),wr(i,function(a,o){var l=r(a,o,i);t(s,a,l)}),s}}var Ez=Oh(function(t,e,i){vs(t,i)?t[i].push(e):t[i]=[e]}),Cz=Oh(function(t,e,i){t[i]=e}),kz=Oh(function(t,e,i){vs(t,i)?t[i]++:t[i]=1}),Pz=Oh(function(t,e,i){t[i?0:1].push(e)},!0);function Oz(t){return t==null?0:nn(t)?t.length:Nt(t).length}function Az(t,e,i){return e in i}var Gk=zi(function(t,e){var i={},r=e[0];if(t==null)return i;Ei(r)?(e.length>1&&(r=uc(r,e[1])),e=oc(t)):(r=Az,e=oa(e,!1,!1),t=Object(t));for(var n=0,s=e.length;n<s;n++){var a=e[n],o=t[a];r(o,a,t)&&(i[a]=o)}return i}),Iz=zi(function(t,e){var i=e[0],r;return Ei(i)?(i=Py(i),e.length>1&&(r=e[1])):(e=Qs(oa(e,!1,!1),String),i=function(n,s){return!gr(e,s)}),Gk(t,i,r)});function Kk(t,e,i){return ac.call(t,0,Math.max(0,t.length-(e==null||i?1:e)))}function lm(t,e,i){return t==null||t.length<1?e==null||i?void 0:[]:e==null||i?t[0]:Kk(t,t.length-e)}function Ld(t,e,i){return ac.call(t,e==null||i?1:e)}function Dz(t,e,i){return t==null||t.length<1?e==null||i?void 0:[]:e==null||i?t[t.length-1]:Ld(t,Math.max(0,t.length-e))}function Mz(t){return uo(t,Boolean)}function Rz(t,e){return oa(t,e,!1)}var Xk=zi(function(t,e){return e=oa(e,!0,!0),uo(t,function(i){return!gr(e,i)})}),Lz=zi(function(t,e){return Xk(t,e)});function rg(t,e,i,r){sk(e)||(r=i,i=e,e=!1),i!=null&&(i=Hi(i,r));for(var n=[],s=[],a=0,o=Vi(t);a<o;a++){var l=t[a],u=i?i(l,a,t):l;e&&!i?((!a||s!==u)&&n.push(l),s=u):i?gr(s,u)||(s.push(u),n.push(l)):gr(n,l)||n.push(l)}return n}var jz=zi(function(t){return rg(oa(t,!0,!0))});function Nz(t){for(var e=[],i=arguments.length,r=0,n=Vi(t);r<n;r++){var s=t[r];if(!gr(e,s)){var a;for(a=1;a<i&&gr(arguments[a],s);a++);a===i&&e.push(s)}}return e}function sg(t){for(var e=t&&Wk(t,Vi).length||0,i=Array(e),r=0;r<e;r++)i[r]=Ay(t,r);return i}var Fz=zi(sg);function Uz(t,e){for(var i={},r=0,n=Vi(t);r<n;r++)e?i[t[r]]=e[r]:i[t[r][0]]=t[r][1];return i}function Bz(t,e,i){e==null&&(e=t||0,t=0),i||(i=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/i),0),n=Array(r),s=0;s<r;s++,t+=i)n[s]=t;return n}function zz(t,e){if(e==null||e<1)return[];for(var i=[],r=0,n=t.length;r<n;)i.push(ac.call(t,r,r+=e));return i}function Iy(t,e){return t._chain?Ve(e).chain():e}function Yk(t){return wr(tg(t),function(e){var i=Ve[e]=t[e];Ve.prototype[e]=function(){var r=[this._wrapped];return f4.apply(r,arguments),Iy(this,i.apply(Ve,r))}}),Ve}wr(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=Ph[t];Ve.prototype[t]=function(){var i=this._wrapped;return i!=null&&(e.apply(i,arguments),(t==="shift"||t==="splice")&&i.length===0&&delete i[0]),Iy(this,i)}});wr(["concat","join","slice"],function(t){var e=Ph[t];Ve.prototype[t]=function(){var i=this._wrapped;return i!=null&&(i=e.apply(i,arguments)),Iy(this,i)}});var Vz=Object.freeze(Object.defineProperty({__proto__:null,VERSION:tk,restArguments:zi,isObject:sa,isNull:_4,isUndefined:rk,isBoolean:sk,isElement:b4,isString:gy,isNumber:ak,isDate:T4,isRegExp:x4,isError:w4,isSymbol:ok,isArrayBuffer:lk,isDataView:xf,isArray:aa,isFunction:Ei,isArguments:_y,isFinite:k4,isNaN:fk,isTypedArray:vk,isEmpty:D4,isMatch:yk,isEqual:M4,isMap:j4,isWeakMap:N4,isSet:F4,isWeakSet:U4,keys:Nt,allKeys:oc,values:Ro,pairs:B4,invert:wk,functions:tg,methods:tg,extend:Sk,extendOwn:Sf,assign:Sf,defaults:Ek,create:V4,clone:H4,tap:W4,get:Pk,has:q4,mapObject:$4,identity:Ey,constant:hk,noop:Ak,toPath:kk,property:Cy,propertyOf:G4,matcher:Iu,matches:Iu,times:K4,random:ig,now:Du,escape:X4,unescape:Q4,templateSettings:J4,template:nz,result:rz,uniqueId:az,chain:oz,iteratee:ky,partial:Lo,bind:Rk,bindAll:lz,memoize:uz,delay:Lk,defer:cz,throttle:dz,debounce:fz,wrap:hz,negate:Py,compose:pz,after:mz,before:jk,once:vz,findKey:Nk,findIndex:Oy,findLastIndex:Uk,sortedIndex:Bk,indexOf:Vk,lastIndexOf:gz,find:ng,detect:ng,findWhere:yz,each:wr,forEach:wr,map:Qs,collect:Qs,reduce:om,foldl:om,inject:om,reduceRight:Wx,foldr:Wx,filter:uo,select:uo,reject:_z,every:qx,all:qx,some:$x,any:$x,contains:gr,includes:gr,include:gr,invoke:bz,pluck:Ay,where:Tz,max:Wk,min:xz,shuffle:Sz,sample:$k,sortBy:cc,groupBy:Ez,indexBy:Cz,countBy:kz,partition:Pz,toArray:qk,size:Oz,pick:Gk,omit:Iz,first:lm,head:lm,take:lm,initial:Kk,last:Dz,rest:Ld,tail:Ld,drop:Ld,compact:Mz,flatten:Rz,without:Lz,uniq:rg,unique:rg,union:jz,intersection:Nz,difference:Xk,unzip:sg,transpose:sg,zip:Fz,object:Uz,range:Bz,chunk:zz,mixin:Yk,default:Ve},Symbol.toStringTag,{value:"Module"})),Gx=Yk(Vz);Gx._=Gx;const um=cc(sc.exports.parse(d4,{header:!0}).data,["index"]).map((t,e)=>Je("p",{children:[te(WE,{to:`/${t.link}`,className:Pa.textHeader,children:t.header})," ","\u2014 ",t.description]},e)),Hz=()=>{const t=Je("div",{children:[te("h1",{style:{textAlign:"center"},children:"Marco Baratta"}),te("h2",{style:{textAlign:"center"},children:"RUFA - MA in Film Arts 2022 - Portfolio"}),te("p",{style:{textAlign:"center",fontStyle:"italic"},children:"I have a sentimental inclination towards hope - Orson Welles"}),Je("div",{className:Pa.textLinks,children:[um[0],te("h2",{style:{textAlign:"center"},children:"My Projects"}),[um[1],um[2]]]}),Je("div",{className:Pa.contact,children:[Je("div",{className:Pa.social,children:[te("a",{href:"https://github.com/mBaratta96",children:te(GB,{size:"2em"})}),te("a",{href:"https://www.linkedin.com/in/mbaratta96/",children:te(XB,{size:"2em"})}),te("a",{href:"https://www.instagram.com/marco_baratta_/",children:te(KB,{size:"2em"})})]}),te("p",{children:"marcobaratta96@gmail.com"})]})]});return te("div",{className:Pa.root,children:te("div",{className:Pa.textWrapper,children:te(ek,{children:t})})})};var ag="/Portfolio/assets/caroAmicoPreview1.2278a26b.webp",og="/Portfolio/assets/caroAmicoPreview2.b449ea0a.webp",lg="/Portfolio/assets/caroAmicoPreview3.8b2b10d8.webp",ug="/Portfolio/assets/caroAmicoPreview4.793ff749.webp",cg="/Portfolio/assets/caroAmicoPreview5.526ce20f.webp",Wz="/Portfolio/assets/scene1.2b03d598.mp4",qz="/Portfolio/assets/scene2.20db58ec.mp4",$z="/Portfolio/assets/scene3.83f976bc.mp4",Gz="/Portfolio/assets/scene4.3a57a8be.mp4",Kz="/Portfolio/assets/scene5.4d34b17e.mp4",Al;typeof window<"u"?Al=window:typeof Ni<"u"?Al=Ni:typeof self<"u"?Al=self:Al={};var j=Al,Xz={},Yz=Object.freeze(Object.defineProperty({__proto__:null,default:Xz},Symbol.toStringTag,{value:"Module"})),Qz=Jf(Yz),Kx=typeof Ni<"u"?Ni:typeof window<"u"?window:{},Jz=Qz,Il;typeof document<"u"?Il=document:(Il=Kx["__GLOBAL_DOCUMENT_CACHE@4"],Il||(Il=Kx["__GLOBAL_DOCUMENT_CACHE@4"]=Jz));var ae=Il;function yn(){return yn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},yn.apply(this,arguments)}var Zz=Object.freeze(Object.defineProperty({__proto__:null,default:yn},Symbol.toStringTag,{value:"Module"})),dg={exports:{}};(function(t,e){function i(l){if(l&&typeof l=="object"){var u=l.which||l.keyCode||l.charCode;u&&(l=u)}if(typeof l=="number")return a[l];var c=String(l),f=r[c.toLowerCase()];if(f)return f;var f=n[c.toLowerCase()];if(f)return f;if(c.length===1)return c.charCodeAt(0)}i.isEventKey=function(u,c){if(u&&typeof u=="object"){var f=u.which||u.keyCode||u.charCode;if(f==null)return!1;if(typeof c=="string"){var d=r[c.toLowerCase()];if(d)return d===f;var d=n[c.toLowerCase()];if(d)return d===f}else if(typeof c=="number")return c===f;return!1}},e=t.exports=i;var r=e.code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},n=e.aliases={windows:91,"\u21E7":16,"\u2325":18,"\u2303":17,"\u2318":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};/*!
 * Programatically add the following
 */for(s=97;s<123;s++)r[String.fromCharCode(s)]=s-32;for(var s=48;s<58;s++)r[s-48]=s;for(s=1;s<13;s++)r["f"+s]=s+111;for(s=0;s<10;s++)r["numpad "+s]=s+96;var a=e.names=e.title={};for(s in r)a[r[s]]=s;for(var o in n)r[o]=n[o]})(dg,dg.exports);var Oe=dg.exports;function Ee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function co(t,e){return co=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},co(t,e)}function le(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,co(t,e)}var e8=t8;function t8(t,e){var i,r=null;try{i=JSON.parse(t,e)}catch(n){r=n}return[r,i]}var Dy={exports:{}},i8=Jf(Zz),n8=s8,r8=Object.prototype.toString;function s8(t){if(!t)return!1;var e=r8.call(t);return e==="[object Function]"||typeof t=="function"&&e!=="[object RegExp]"||typeof window<"u"&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}var a8=j,o8=function(e,i){return i===void 0&&(i=!1),function(r,n,s){if(r){e(r);return}if(n.statusCode>=400&&n.statusCode<=599){var a=s;if(i)if(a8.TextDecoder){var o=l8(n.headers&&n.headers["content-type"]);try{a=new TextDecoder(o).decode(s)}catch{}}else a=String.fromCharCode.apply(null,new Uint8Array(s));e({cause:a});return}e(null,s)}};function l8(t){return t===void 0&&(t=""),t.toLowerCase().split(";").reduce(function(e,i){var r=i.split("="),n=r[0],s=r[1];return n.trim()==="charset"?s.trim():e},"utf-8")}var u8=o8,Qk=j,c8=i8,d8=n8;Qn.httpHandler=u8;/**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Björklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */var f8=function(e){var i={};return e&&e.trim().split(`
`).forEach(function(r){var n=r.indexOf(":"),s=r.slice(0,n).trim().toLowerCase(),a=r.slice(n+1).trim();typeof i[s]>"u"?i[s]=a:Array.isArray(i[s])?i[s].push(a):i[s]=[i[s],a]}),i};Dy.exports=Qn;Dy.exports.default=Qn;Qn.XMLHttpRequest=Qk.XMLHttpRequest||v8;Qn.XDomainRequest="withCredentials"in new Qn.XMLHttpRequest?Qn.XMLHttpRequest:Qk.XDomainRequest;h8(["get","put","post","patch","head","delete"],function(t){Qn[t==="delete"?"del":t]=function(e,i,r){return i=Jk(e,i,r),i.method=t.toUpperCase(),Zk(i)}});function h8(t,e){for(var i=0;i<t.length;i++)e(t[i])}function p8(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function Jk(t,e,i){var r=t;return d8(e)?(i=e,typeof t=="string"&&(r={uri:t})):r=c8({},e,{uri:t}),r.callback=i,r}function Qn(t,e,i){return e=Jk(t,e,i),Zk(e)}function Zk(t){if(typeof t.callback>"u")throw new Error("callback argument missing");var e=!1,i=function(I,O,M){e||(e=!0,t.callback(I,O,M))};function r(){o.readyState===4&&setTimeout(a,0)}function n(){var S=void 0;if(o.response?S=o.response:S=o.responseText||m8(o),b)try{S=JSON.parse(S)}catch{}return S}function s(S){return clearTimeout(y),S instanceof Error||(S=new Error(""+(S||"Unknown XMLHttpRequest Error"))),S.statusCode=0,i(S,T)}function a(){if(!u){var S;clearTimeout(y),t.useXDR&&o.status===void 0?S=200:S=o.status===1223?204:o.status;var I=T,O=null;return S!==0?(I={body:n(),statusCode:S,method:f,headers:{},url:c,rawRequest:o},o.getAllResponseHeaders&&(I.headers=f8(o.getAllResponseHeaders()))):O=new Error("Internal XMLHttpRequest Error"),i(O,I,I.body)}}var o=t.xhr||null;o||(t.cors||t.useXDR?o=new Qn.XDomainRequest:o=new Qn.XMLHttpRequest);var l,u,c=o.url=t.uri||t.url,f=o.method=t.method||"GET",d=t.body||t.data,p=o.headers=t.headers||{},g=!!t.sync,b=!1,y,T={body:void 0,headers:{},statusCode:0,method:f,url:c,rawRequest:o};if("json"in t&&t.json!==!1&&(b=!0,p.accept||p.Accept||(p.Accept="application/json"),f!=="GET"&&f!=="HEAD"&&(p["content-type"]||p["Content-Type"]||(p["Content-Type"]="application/json"),d=JSON.stringify(t.json===!0?d:t.json))),o.onreadystatechange=r,o.onload=a,o.onerror=s,o.onprogress=function(){},o.onabort=function(){u=!0},o.ontimeout=s,o.open(f,c,!g,t.username,t.password),g||(o.withCredentials=!!t.withCredentials),!g&&t.timeout>0&&(y=setTimeout(function(){if(!u){u=!0,o.abort("timeout");var S=new Error("XMLHttpRequest timeout");S.code="ETIMEDOUT",s(S)}},t.timeout)),o.setRequestHeader)for(l in p)p.hasOwnProperty(l)&&o.setRequestHeader(l,p[l]);else if(t.headers&&!p8(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(o.responseType=t.responseType),"beforeSend"in t&&typeof t.beforeSend=="function"&&t.beforeSend(o),o.send(d||null),o}function m8(t){try{if(t.responseType==="document")return t.responseXML;var e=t.responseXML&&t.responseXML.documentElement.nodeName==="parsererror";if(t.responseType===""&&!e)return t.responseXML}catch{}return null}function v8(){}var eP=Dy.exports,tP={exports:{}},Xx=ae,My=Object.create||function(){function t(){}return function(e){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function Ji(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}Ji.prototype=My(Error.prototype);Ji.prototype.constructor=Ji;Ji.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function Ry(t){function e(r,n,s,a){return(r|0)*3600+(n|0)*60+(s|0)+(a|0)/1e3}var i=t.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return i?i[3]?e(i[1],i[2],i[3].replace(":",""),i[4]):i[1]>59?e(i[1],i[2],0,i[4]):e(0,i[1],i[2],i[4]):null}function tu(){this.values=My(null)}tu.prototype={set:function(t,e){!this.get(t)&&e!==""&&(this.values[t]=e)},get:function(t,e,i){return i?this.has(t)?this.values[t]:e[i]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,i){for(var r=0;r<i.length;++r)if(e===i[r]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e),e>=0&&e<=100)?(this.set(t,e),!0):!1}};function Dl(t,e,i,r){var n=r?t.split(r):[t];for(var s in n)if(typeof n[s]=="string"){var a=n[s].split(i);if(a.length===2){var o=a[0].trim(),l=a[1].trim();e(o,l)}}}function g8(t,e,i){var r=t;function n(){var o=Ry(t);if(o===null)throw new Ji(Ji.Errors.BadTimeStamp,"Malformed timestamp: "+r);return t=t.replace(/^[^\sa-zA-Z-]+/,""),o}function s(o,l){var u=new tu;Dl(o,function(c,f){switch(c){case"region":for(var d=i.length-1;d>=0;d--)if(i[d].id===f){u.set(c,i[d].region);break}break;case"vertical":u.alt(c,f,["rl","lr"]);break;case"line":var p=f.split(","),g=p[0];u.integer(c,g),u.percent(c,g)&&u.set("snapToLines",!1),u.alt(c,g,["auto"]),p.length===2&&u.alt("lineAlign",p[1],["start","center","end"]);break;case"position":p=f.split(","),u.percent(c,p[0]),p.length===2&&u.alt("positionAlign",p[1],["start","center","end"]);break;case"size":u.percent(c,f);break;case"align":u.alt(c,f,["start","center","end","left","right"]);break}},/:/,/\s/),l.region=u.get("region",null),l.vertical=u.get("vertical","");try{l.line=u.get("line","auto")}catch{}l.lineAlign=u.get("lineAlign","start"),l.snapToLines=u.get("snapToLines",!0),l.size=u.get("size",100);try{l.align=u.get("align","center")}catch{l.align=u.get("align","middle")}try{l.position=u.get("position","auto")}catch{l.position=u.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},l.align)}l.positionAlign=u.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},l.align)}function a(){t=t.replace(/^\s+/,"")}if(a(),e.startTime=n(),a(),t.substr(0,3)!=="-->")throw new Ji(Ji.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+r);t=t.substr(3),a(),e.endTime=n(),a(),s(t,e)}var cm=Xx.createElement&&Xx.createElement("textarea"),y8={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},Yx={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},_8={v:"title",lang:"lang"},Qx={rt:"ruby"};function iP(t,e){function i(){if(!e)return null;function g(y){return e=e.substr(y.length),y}var b=e.match(/^([^<]*)(<[^>]*>?)?/);return g(b[1]?b[1]:b[2])}function r(g){return cm.innerHTML=g,g=cm.textContent,cm.textContent="",g}function n(g,b){return!Qx[b.localName]||Qx[b.localName]===g.localName}function s(g,b){var y=y8[g];if(!y)return null;var T=t.document.createElement(y),S=_8[g];return S&&b&&(T[S]=b.trim()),T}for(var a=t.document.createElement("div"),o=a,l,u=[];(l=i())!==null;){if(l[0]==="<"){if(l[1]==="/"){u.length&&u[u.length-1]===l.substr(2).replace(">","")&&(u.pop(),o=o.parentNode);continue}var c=Ry(l.substr(1,l.length-2)),f;if(c){f=t.document.createProcessingInstruction("timestamp",c),o.appendChild(f);continue}var d=l.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!d||(f=s(d[1],d[3]),!f)||!n(o,f))continue;if(d[2]){var p=d[2].split(".");p.forEach(function(g){var b=/^bg_/.test(g),y=b?g.slice(3):g;if(Yx.hasOwnProperty(y)){var T=b?"background-color":"color",S=Yx[y];f.style[T]=S}}),f.className=p.join(" ")}u.push(d[1]),o.appendChild(f),o=f;continue}o.appendChild(t.document.createTextNode(r(l)))}return a}var Jx=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function b8(t){for(var e=0;e<Jx.length;e++){var i=Jx[e];if(t>=i[0]&&t<=i[1])return!0}return!1}function T8(t){var e=[],i="",r;if(!t||!t.childNodes)return"ltr";function n(o,l){for(var u=l.childNodes.length-1;u>=0;u--)o.push(l.childNodes[u])}function s(o){if(!o||!o.length)return null;var l=o.pop(),u=l.textContent||l.innerText;if(u){var c=u.match(/^.*(\n|\r)/);return c?(o.length=0,c[0]):u}if(l.tagName==="ruby")return s(o);if(l.childNodes)return n(o,l),s(o)}for(n(e,t);i=s(e);)for(var a=0;a<i.length;a++)if(r=i.charCodeAt(a),b8(r))return"rtl";return"ltr"}function x8(t){if(typeof t.line=="number"&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,i=e.textTrackList,r=0,n=0;n<i.length&&i[n]!==e;n++)i[n].mode==="showing"&&r++;return++r*-1}function Ah(){}Ah.prototype.applyStyles=function(t,e){e=e||this.div;for(var i in t)t.hasOwnProperty(i)&&(e.style[i]=t[i])};Ah.prototype.formatStyle=function(t,e){return t===0?0:t+e};function Ef(t,e,i){Ah.call(this),this.cue=e,this.cueDiv=iP(t,e.text);var r={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(r,this.cueDiv),this.div=t.document.createElement("div"),r={direction:T8(this.cueDiv),writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:e.align==="middle"?"center":e.align,font:i.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(r),this.div.appendChild(this.cueDiv);var n=0;switch(e.positionAlign){case"start":n=e.position;break;case"center":n=e.position-e.size/2;break;case"end":n=e.position-e.size;break}e.vertical===""?this.applyStyles({left:this.formatStyle(n,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(n,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(s){this.applyStyles({top:this.formatStyle(s.top,"px"),bottom:this.formatStyle(s.bottom,"px"),left:this.formatStyle(s.left,"px"),right:this.formatStyle(s.right,"px"),height:this.formatStyle(s.height,"px"),width:this.formatStyle(s.width,"px")})}}Ef.prototype=My(Ah.prototype);Ef.prototype.constructor=Ef;function gi(t){var e,i,r,n;if(t.div){i=t.div.offsetHeight,r=t.div.offsetWidth,n=t.div.offsetTop;var s=(s=t.div.childNodes)&&(s=s[0])&&s.getClientRects&&s.getClientRects();t=t.div.getBoundingClientRect(),e=s?Math.max(s[0]&&s[0].height||0,t.height/s.length):0}this.left=t.left,this.right=t.right,this.top=t.top||n,this.height=t.height||i,this.bottom=t.bottom||n+(t.height||i),this.width=t.width||r,this.lineHeight=e!==void 0?e:t.lineHeight}gi.prototype.move=function(t,e){switch(e=e!==void 0?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e;break}};gi.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top};gi.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1};gi.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right};gi.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}};gi.prototype.intersectPercentage=function(t){var e=Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left)),i=Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top)),r=e*i;return r/(this.height*this.width)};gi.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}};gi.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,i=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,r=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t;var n={left:t.left,right:t.right,top:t.top||r,height:t.height||e,bottom:t.bottom||r+(t.height||e),width:t.width||i};return n};function w8(t,e,i,r){function n(y,T){for(var S,I=new gi(y),O=1,M=0;M<T.length;M++){for(;y.overlapsOppositeAxis(i,T[M])||y.within(i)&&y.overlapsAny(r);)y.move(T[M]);if(y.within(i))return y;var R=y.intersectPercentage(i);O>R&&(S=new gi(y),O=R),y=new gi(I)}return S||I}var s=new gi(e),a=e.cue,o=x8(a),l=[];if(a.snapToLines){var u;switch(a.vertical){case"":l=["+y","-y"],u="height";break;case"rl":l=["+x","-x"],u="width";break;case"lr":l=["-x","+x"],u="width";break}var c=s.lineHeight,f=c*Math.round(o),d=i[u]+c,p=l[0];Math.abs(f)>d&&(f=f<0?-1:1,f*=Math.ceil(d/c)*c),o<0&&(f+=a.vertical===""?i.height:i.width,l=l.reverse()),s.move(p,f)}else{var g=s.lineHeight/i.height*100;switch(a.lineAlign){case"center":o-=g/2;break;case"end":o-=g;break}switch(a.vertical){case"":e.applyStyles({top:e.formatStyle(o,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(o,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(o,"%")});break}l=["+y","-x","+x","-y"],s=new gi(e)}var b=n(s,l);e.move(b.toCSSCompatValues(i))}function jo(){}jo.StringDecoder=function(){return{decode:function(t){if(!t)return"";if(typeof t!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}};jo.convertCueToDOMTree=function(t,e){return!t||!e?null:iP(t,e)};var S8=.05,E8="sans-serif",C8="1.5%";jo.processCues=function(t,e,i){if(!t||!e||!i)return null;for(;i.firstChild;)i.removeChild(i.firstChild);var r=t.document.createElement("div");r.style.position="absolute",r.style.left="0",r.style.right="0",r.style.top="0",r.style.bottom="0",r.style.margin=C8,i.appendChild(r);function n(c){for(var f=0;f<c.length;f++)if(c[f].hasBeenReset||!c[f].displayState)return!0;return!1}if(!n(e)){for(var s=0;s<e.length;s++)r.appendChild(e[s].displayState);return}var a=[],o=gi.getSimpleBoxPosition(r),l=Math.round(o.height*S8*100)/100,u={font:l+"px "+E8};(function(){for(var c,f,d=0;d<e.length;d++)f=e[d],c=new Ef(t,f,u),r.appendChild(c.div),w8(t,c,o,a),f.displayState=c.div,a.push(gi.getSimpleBoxPosition(c))})()};jo.Parser=function(t,e,i){i||(i=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=i||new TextDecoder("utf8"),this.regionList=[]};jo.Parser.prototype={reportOrThrowError:function(t){if(t instanceof Ji)this.onparsingerror&&this.onparsingerror(t);else throw t},parse:function(t){var e=this;t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));function i(){for(var c=e.buffer,f=0;f<c.length&&c[f]!=="\r"&&c[f]!==`
`;)++f;var d=c.substr(0,f);return c[f]==="\r"&&++f,c[f]===`
`&&++f,e.buffer=c.substr(f),d}function r(c){var f=new tu;if(Dl(c,function(p,g){switch(p){case"id":f.set(p,g);break;case"width":f.percent(p,g);break;case"lines":f.integer(p,g);break;case"regionanchor":case"viewportanchor":var b=g.split(",");if(b.length!==2)break;var y=new tu;if(y.percent("x",b[0]),y.percent("y",b[1]),!y.has("x")||!y.has("y"))break;f.set(p+"X",y.get("x")),f.set(p+"Y",y.get("y"));break;case"scroll":f.alt(p,g,["up"]);break}},/=/,/\s/),f.has("id")){var d=new(e.vttjs.VTTRegion||e.window.VTTRegion);d.width=f.get("width",100),d.lines=f.get("lines",3),d.regionAnchorX=f.get("regionanchorX",0),d.regionAnchorY=f.get("regionanchorY",100),d.viewportAnchorX=f.get("viewportanchorX",0),d.viewportAnchorY=f.get("viewportanchorY",100),d.scroll=f.get("scroll",""),e.onregion&&e.onregion(d),e.regionList.push({id:f.get("id"),region:d})}}function n(c){var f=new tu;Dl(c,function(d,p){switch(d){case"MPEGT":f.integer(d+"S",p);break;case"LOCA":f.set(d+"L",Ry(p));break}},/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:f.get("MPEGTS"),LOCAL:f.get("LOCAL")})}function s(c){c.match(/X-TIMESTAMP-MAP/)?Dl(c,function(f,d){switch(f){case"X-TIMESTAMP-MAP":n(d);break}},/=/):Dl(c,function(f,d){switch(f){case"Region":r(d);break}},/:/)}try{var a;if(e.state==="INITIAL"){if(!/\r\n|\n/.test(e.buffer))return this;a=i();var o=a.match(/^WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new Ji(Ji.Errors.BadSignature);e.state="HEADER"}for(var l=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(l?l=!1:a=i(),e.state){case"HEADER":/:/.test(a)?s(a):a||(e.state="ID");continue;case"NOTE":a||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(a)){e.state="NOTE";break}if(!a)continue;e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,"");try{e.cue.align="center"}catch{e.cue.align="middle"}if(e.state="CUE",a.indexOf("-->")===-1){e.cue.id=a;continue}case"CUE":try{g8(a,e.cue,e.regionList)}catch(c){e.reportOrThrowError(c),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var u=a.indexOf("-->")!==-1;if(!a||u&&(l=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+=`
`),e.cue.text+=a.replace(/\u2028/g,`
`).replace(/u2029/g,`
`);continue;case"BADCUE":a||(e.state="ID");continue}}}catch(c){e.reportOrThrowError(c),e.state==="CUETEXT"&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state=e.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||t.state==="HEADER")&&(t.buffer+=`

`,t.parse()),t.state==="INITIAL")throw new Ji(Ji.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}};var k8=jo,P8="auto",O8={"":1,lr:1,rl:1},A8={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function I8(t){if(typeof t!="string")return!1;var e=O8[t.toLowerCase()];return e?t.toLowerCase():!1}function dm(t){if(typeof t!="string")return!1;var e=A8[t.toLowerCase()];return e?t.toLowerCase():!1}function nP(t,e,i){this.hasBeenReset=!1;var r="",n=!1,s=t,a=e,o=i,l=null,u="",c=!0,f="auto",d="start",p="auto",g="auto",b=100,y="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return r},set:function(T){r=""+T}},pauseOnExit:{enumerable:!0,get:function(){return n},set:function(T){n=!!T}},startTime:{enumerable:!0,get:function(){return s},set:function(T){if(typeof T!="number")throw new TypeError("Start time must be set to a number.");s=T,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return a},set:function(T){if(typeof T!="number")throw new TypeError("End time must be set to a number.");a=T,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return o},set:function(T){o=""+T,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return l},set:function(T){l=T,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return u},set:function(T){var S=I8(T);if(S===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");u=S,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return c},set:function(T){c=!!T,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return f},set:function(T){if(typeof T!="number"&&T!==P8)throw new SyntaxError("Line: an invalid number or illegal string was specified.");f=T,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return d},set:function(T){var S=dm(T);S?(d=S,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return p},set:function(T){if(T<0||T>100)throw new Error("Position must be between 0 and 100.");p=T,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return g},set:function(T){var S=dm(T);S?(g=S,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return b},set:function(T){if(T<0||T>100)throw new Error("Size must be between 0 and 100.");b=T,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return y},set:function(T){var S=dm(T);if(!S)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");y=S,this.hasBeenReset=!0}}}),this.displayState=void 0}nP.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var D8=nP,M8={"":!0,up:!0};function R8(t){if(typeof t!="string")return!1;var e=M8[t.toLowerCase()];return e?t.toLowerCase():!1}function ml(t){return typeof t=="number"&&t>=0&&t<=100}function L8(){var t=100,e=3,i=0,r=100,n=0,s=100,a="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(o){if(!ml(o))throw new Error("Width must be between 0 and 100.");t=o}},lines:{enumerable:!0,get:function(){return e},set:function(o){if(typeof o!="number")throw new TypeError("Lines must be set to a number.");e=o}},regionAnchorY:{enumerable:!0,get:function(){return r},set:function(o){if(!ml(o))throw new Error("RegionAnchorX must be between 0 and 100.");r=o}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(o){if(!ml(o))throw new Error("RegionAnchorY must be between 0 and 100.");i=o}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(o){if(!ml(o))throw new Error("ViewportAnchorY must be between 0 and 100.");s=o}},viewportAnchorX:{enumerable:!0,get:function(){return n},set:function(o){if(!ml(o))throw new Error("ViewportAnchorX must be between 0 and 100.");n=o}},scroll:{enumerable:!0,get:function(){return a},set:function(o){var l=R8(o);l===!1?console.warn("Scroll: an invalid or illegal string was specified."):a=l}}})}var j8=L8,Sr=j,la=tP.exports={WebVTT:k8,VTTCue:D8,VTTRegion:j8};Sr.vttjs=la;Sr.WebVTT=la.WebVTT;var N8=la.VTTCue,F8=la.VTTRegion,U8=Sr.VTTCue,B8=Sr.VTTRegion;la.shim=function(){Sr.VTTCue=N8,Sr.VTTRegion=F8};la.restore=function(){Sr.VTTCue=U8,Sr.VTTRegion=B8};Sr.VTTCue||la.shim();var Zx=tP.exports;function z8(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function iu(t,e,i){return z8()?iu=Reflect.construct.bind():iu=function(n,s,a){var o=[null];o.push.apply(o,s);var l=Function.bind.apply(n,o),u=new l;return a&&co(u,a.prototype),u},iu.apply(null,arguments)}function V8(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&co(t,e)}var rP={exports:{}};(function(t,e){(function(i){var r=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,n=/^(?=([^\/?#]*))\1([^]*)$/,s=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(l,u,c){if(c=c||{},l=l.trim(),u=u.trim(),!u){if(!c.alwaysNormalize)return l;var f=o.parseURL(l);if(!f)throw new Error("Error trying to parse base URL.");return f.path=o.normalizePath(f.path),o.buildURLFromParts(f)}var d=o.parseURL(u);if(!d)throw new Error("Error trying to parse relative URL.");if(d.scheme)return c.alwaysNormalize?(d.path=o.normalizePath(d.path),o.buildURLFromParts(d)):u;var p=o.parseURL(l);if(!p)throw new Error("Error trying to parse base URL.");if(!p.netLoc&&p.path&&p.path[0]!=="/"){var g=n.exec(p.path);p.netLoc=g[1],p.path=g[2]}p.netLoc&&!p.path&&(p.path="/");var b={scheme:p.scheme,netLoc:d.netLoc,path:null,params:d.params,query:d.query,fragment:d.fragment};if(!d.netLoc&&(b.netLoc=p.netLoc,d.path[0]!=="/"))if(!d.path)b.path=p.path,d.params||(b.params=p.params,d.query||(b.query=p.query));else{var y=p.path,T=y.substring(0,y.lastIndexOf("/")+1)+d.path;b.path=o.normalizePath(T)}return b.path===null&&(b.path=c.alwaysNormalize?o.normalizePath(d.path):d.path),o.buildURLFromParts(b)},parseURL:function(l){var u=r.exec(l);return u?{scheme:u[1]||"",netLoc:u[2]||"",path:u[3]||"",params:u[4]||"",query:u[5]||"",fragment:u[6]||""}:null},normalizePath:function(l){for(l=l.split("").reverse().join("").replace(s,"");l.length!==(l=l.replace(a,"")).length;);return l.split("").reverse().join("")},buildURLFromParts:function(l){return l.scheme+l.netLoc+l.path+l.params+l.query+l.fragment}};t.exports=o})()})(rP);var ew=rP.exports,tw="http://example.com",Ih=function(e,i){if(/^[a-z]+:/i.test(i))return i;/^data:/.test(e)&&(e=j.location&&j.location.href||"");var r=typeof j.URL=="function",n=/^\/\//.test(e),s=!j.location&&!/\/\//i.test(e);if(r?e=new j.URL(e,j.location||tw):/\/\//i.test(e)||(e=ew.buildAbsoluteURL(j.location&&j.location.href||"",e)),r){var a=new URL(i,e);return s?a.href.slice(tw.length):n?a.href.slice(a.protocol.length):a.href}return ew.buildAbsoluteURL(e,i)},Ly=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(r,n){this.listeners[r]||(this.listeners[r]=[]),this.listeners[r].push(n)},e.off=function(r,n){if(!this.listeners[r])return!1;var s=this.listeners[r].indexOf(n);return this.listeners[r]=this.listeners[r].slice(0),this.listeners[r].splice(s,1),s>-1},e.trigger=function(r){var n=this.listeners[r];if(!!n)if(arguments.length===2)for(var s=n.length,a=0;a<s;++a)n[a].call(this,arguments[1]);else for(var o=Array.prototype.slice.call(arguments,1),l=n.length,u=0;u<l;++u)n[u].apply(this,o)},e.dispose=function(){this.listeners={}},e.pipe=function(r){this.on("data",function(n){r.push(n)})},t}(),H8=function(e){return j.atob?j.atob(e):Buffer.from(e,"base64").toString("binary")};function sP(t){for(var e=H8(t),i=new Uint8Array(e.length),r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i}/*! @name m3u8-parser @version 4.8.0 @license Apache-2.0 */var W8=function(t){le(e,t);function e(){var r;return r=t.call(this)||this,r.buffer="",r}var i=e.prototype;return i.push=function(n){var s;for(this.buffer+=n,s=this.buffer.indexOf(`
`);s>-1;s=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,s)),this.buffer=this.buffer.substring(s+1)},e}(Ly),q8=String.fromCharCode(9),fm=function(e){var i=/([0-9.]*)?@?([0-9.]*)?/.exec(e||""),r={};return i[1]&&(r.length=parseInt(i[1],10)),i[2]&&(r.offset=parseInt(i[2],10)),r},$8=function(){var e="[^=]*",i='"[^"]*"|[^,]*',r="(?:"+e+")=(?:"+i+")";return new RegExp("(?:^|,)("+r+")")},Sn=function(e){for(var i=e.split($8()),r={},n=i.length,s;n--;)i[n]!==""&&(s=/([^=]*)=(.*)/.exec(i[n]).slice(1),s[0]=s[0].replace(/^\s+|\s+$/g,""),s[1]=s[1].replace(/^\s+|\s+$/g,""),s[1]=s[1].replace(/^['"](.*)['"]$/g,"$1"),r[s[0]]=s[1]);return r},G8=function(t){le(e,t);function e(){var r;return r=t.call(this)||this,r.customParsers=[],r.tagMappers=[],r}var i=e.prototype;return i.push=function(n){var s=this,a,o;if(n=n.trim(),n.length!==0){if(n[0]!=="#"){this.trigger("data",{type:"uri",uri:n});return}var l=this.tagMappers.reduce(function(u,c){var f=c(n);return f===n?u:u.concat([f])},[n]);l.forEach(function(u){for(var c=0;c<s.customParsers.length;c++)if(s.customParsers[c].call(s,u))return;if(u.indexOf("#EXT")!==0){s.trigger("data",{type:"comment",text:u.slice(1)});return}if(u=u.replace("\r",""),a=/^#EXTM3U/.exec(u),a){s.trigger("data",{type:"tag",tagType:"m3u"});return}if(a=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(u),a){o={type:"tag",tagType:"inf"},a[1]&&(o.duration=parseFloat(a[1])),a[2]&&(o.title=a[2]),s.trigger("data",o);return}if(a=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(u),a){o={type:"tag",tagType:"targetduration"},a[1]&&(o.duration=parseInt(a[1],10)),s.trigger("data",o);return}if(a=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(u),a){o={type:"tag",tagType:"version"},a[1]&&(o.version=parseInt(a[1],10)),s.trigger("data",o);return}if(a=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(u),a){o={type:"tag",tagType:"media-sequence"},a[1]&&(o.number=parseInt(a[1],10)),s.trigger("data",o);return}if(a=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(u),a){o={type:"tag",tagType:"discontinuity-sequence"},a[1]&&(o.number=parseInt(a[1],10)),s.trigger("data",o);return}if(a=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(u),a){o={type:"tag",tagType:"playlist-type"},a[1]&&(o.playlistType=a[1]),s.trigger("data",o);return}if(a=/^#EXT-X-BYTERANGE:?(.*)?$/.exec(u),a){o=yn(fm(a[1]),{type:"tag",tagType:"byterange"}),s.trigger("data",o);return}if(a=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(u),a){o={type:"tag",tagType:"allow-cache"},a[1]&&(o.allowed=!/NO/.test(a[1])),s.trigger("data",o);return}if(a=/^#EXT-X-MAP:?(.*)$/.exec(u),a){if(o={type:"tag",tagType:"map"},a[1]){var f=Sn(a[1]);f.URI&&(o.uri=f.URI),f.BYTERANGE&&(o.byterange=fm(f.BYTERANGE))}s.trigger("data",o);return}if(a=/^#EXT-X-STREAM-INF:?(.*)$/.exec(u),a){if(o={type:"tag",tagType:"stream-inf"},a[1]){if(o.attributes=Sn(a[1]),o.attributes.RESOLUTION){var d=o.attributes.RESOLUTION.split("x"),p={};d[0]&&(p.width=parseInt(d[0],10)),d[1]&&(p.height=parseInt(d[1],10)),o.attributes.RESOLUTION=p}o.attributes.BANDWIDTH&&(o.attributes.BANDWIDTH=parseInt(o.attributes.BANDWIDTH,10)),o.attributes["FRAME-RATE"]&&(o.attributes["FRAME-RATE"]=parseFloat(o.attributes["FRAME-RATE"])),o.attributes["PROGRAM-ID"]&&(o.attributes["PROGRAM-ID"]=parseInt(o.attributes["PROGRAM-ID"],10))}s.trigger("data",o);return}if(a=/^#EXT-X-MEDIA:?(.*)$/.exec(u),a){o={type:"tag",tagType:"media"},a[1]&&(o.attributes=Sn(a[1])),s.trigger("data",o);return}if(a=/^#EXT-X-ENDLIST/.exec(u),a){s.trigger("data",{type:"tag",tagType:"endlist"});return}if(a=/^#EXT-X-DISCONTINUITY/.exec(u),a){s.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(a=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(u),a){o={type:"tag",tagType:"program-date-time"},a[1]&&(o.dateTimeString=a[1],o.dateTimeObject=new Date(a[1])),s.trigger("data",o);return}if(a=/^#EXT-X-KEY:?(.*)$/.exec(u),a){o={type:"tag",tagType:"key"},a[1]&&(o.attributes=Sn(a[1]),o.attributes.IV&&(o.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(o.attributes.IV=o.attributes.IV.substring(2)),o.attributes.IV=o.attributes.IV.match(/.{8}/g),o.attributes.IV[0]=parseInt(o.attributes.IV[0],16),o.attributes.IV[1]=parseInt(o.attributes.IV[1],16),o.attributes.IV[2]=parseInt(o.attributes.IV[2],16),o.attributes.IV[3]=parseInt(o.attributes.IV[3],16),o.attributes.IV=new Uint32Array(o.attributes.IV))),s.trigger("data",o);return}if(a=/^#EXT-X-START:?(.*)$/.exec(u),a){o={type:"tag",tagType:"start"},a[1]&&(o.attributes=Sn(a[1]),o.attributes["TIME-OFFSET"]=parseFloat(o.attributes["TIME-OFFSET"]),o.attributes.PRECISE=/YES/.test(o.attributes.PRECISE)),s.trigger("data",o);return}if(a=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(u),a){o={type:"tag",tagType:"cue-out-cont"},a[1]?o.data=a[1]:o.data="",s.trigger("data",o);return}if(a=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(u),a){o={type:"tag",tagType:"cue-out"},a[1]?o.data=a[1]:o.data="",s.trigger("data",o);return}if(a=/^#EXT-X-CUE-IN:?(.*)?$/.exec(u),a){o={type:"tag",tagType:"cue-in"},a[1]?o.data=a[1]:o.data="",s.trigger("data",o);return}if(a=/^#EXT-X-SKIP:(.*)$/.exec(u),a&&a[1]){o={type:"tag",tagType:"skip"},o.attributes=Sn(a[1]),o.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(o.attributes["SKIPPED-SEGMENTS"]=parseInt(o.attributes["SKIPPED-SEGMENTS"],10)),o.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(o.attributes["RECENTLY-REMOVED-DATERANGES"]=o.attributes["RECENTLY-REMOVED-DATERANGES"].split(q8)),s.trigger("data",o);return}if(a=/^#EXT-X-PART:(.*)$/.exec(u),a&&a[1]){o={type:"tag",tagType:"part"},o.attributes=Sn(a[1]),["DURATION"].forEach(function(g){o.attributes.hasOwnProperty(g)&&(o.attributes[g]=parseFloat(o.attributes[g]))}),["INDEPENDENT","GAP"].forEach(function(g){o.attributes.hasOwnProperty(g)&&(o.attributes[g]=/YES/.test(o.attributes[g]))}),o.attributes.hasOwnProperty("BYTERANGE")&&(o.attributes.byterange=fm(o.attributes.BYTERANGE)),s.trigger("data",o);return}if(a=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(u),a&&a[1]){o={type:"tag",tagType:"server-control"},o.attributes=Sn(a[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(g){o.attributes.hasOwnProperty(g)&&(o.attributes[g]=parseFloat(o.attributes[g]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(g){o.attributes.hasOwnProperty(g)&&(o.attributes[g]=/YES/.test(o.attributes[g]))}),s.trigger("data",o);return}if(a=/^#EXT-X-PART-INF:(.*)$/.exec(u),a&&a[1]){o={type:"tag",tagType:"part-inf"},o.attributes=Sn(a[1]),["PART-TARGET"].forEach(function(g){o.attributes.hasOwnProperty(g)&&(o.attributes[g]=parseFloat(o.attributes[g]))}),s.trigger("data",o);return}if(a=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(u),a&&a[1]){o={type:"tag",tagType:"preload-hint"},o.attributes=Sn(a[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(g){if(o.attributes.hasOwnProperty(g)){o.attributes[g]=parseInt(o.attributes[g],10);var b=g==="BYTERANGE-LENGTH"?"length":"offset";o.attributes.byterange=o.attributes.byterange||{},o.attributes.byterange[b]=o.attributes[g],delete o.attributes[g]}}),s.trigger("data",o);return}if(a=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(u),a&&a[1]){o={type:"tag",tagType:"rendition-report"},o.attributes=Sn(a[1]),["LAST-MSN","LAST-PART"].forEach(function(g){o.attributes.hasOwnProperty(g)&&(o.attributes[g]=parseInt(o.attributes[g],10))}),s.trigger("data",o);return}s.trigger("data",{type:"tag",data:u.slice(4)})})}},i.addParser=function(n){var s=this,a=n.expression,o=n.customType,l=n.dataParser,u=n.segment;typeof l!="function"&&(l=function(f){return f}),this.customParsers.push(function(c){var f=a.exec(c);if(f)return s.trigger("data",{type:"custom",data:l(c),customType:o,segment:u}),!0})},i.addTagMapper=function(n){var s=n.expression,a=n.map,o=function(u){return s.test(u)?a(u):u};this.tagMappers.push(o)},e}(Ly),K8=function(e){return e.toLowerCase().replace(/-(\w)/g,function(i){return i[1].toUpperCase()})},va=function(e){var i={};return Object.keys(e).forEach(function(r){i[K8(r)]=e[r]}),i},hm=function(e){var i=e.serverControl,r=e.targetDuration,n=e.partTargetDuration;if(!!i){var s="#EXT-X-SERVER-CONTROL",a="holdBack",o="partHoldBack",l=r&&r*3,u=n&&n*2;r&&!i.hasOwnProperty(a)&&(i[a]=l,this.trigger("info",{message:s+" defaulting HOLD-BACK to targetDuration * 3 ("+l+")."})),l&&i[a]<l&&(this.trigger("warn",{message:s+" clamping HOLD-BACK ("+i[a]+") to targetDuration * 3 ("+l+")"}),i[a]=l),n&&!i.hasOwnProperty(o)&&(i[o]=n*3,this.trigger("info",{message:s+" defaulting PART-HOLD-BACK to partTargetDuration * 3 ("+i[o]+")."})),n&&i[o]<u&&(this.trigger("warn",{message:s+" clamping PART-HOLD-BACK ("+i[o]+") to partTargetDuration * 2 ("+u+")."}),i[o]=u)}},X8=function(t){le(e,t);function e(){var r;r=t.call(this)||this,r.lineStream=new W8,r.parseStream=new G8,r.lineStream.pipe(r.parseStream);var n=Ee(r),s=[],a={},o,l,u=!1,c=function(){},f={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},d="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed",p=0;r.manifest={allowCache:!0,discontinuityStarts:[],segments:[]};var g=0,b=0;return r.on("end",function(){a.uri||!a.parts&&!a.preloadHints||(!a.map&&o&&(a.map=o),!a.key&&l&&(a.key=l),!a.timeline&&typeof p=="number"&&(a.timeline=p),r.manifest.preloadSegment=a)}),r.parseStream.on("data",function(y){var T,S;({tag:function(){({version:function(){y.version&&(this.manifest.version=y.version)},"allow-cache":function(){this.manifest.allowCache=y.allowed,"allowed"in y||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var M={};"length"in y&&(a.byterange=M,M.length=y.length,"offset"in y||(y.offset=g)),"offset"in y&&(a.byterange=M,M.offset=y.offset),g=M.offset+M.length},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),y.duration>0&&(a.duration=y.duration),y.duration===0&&(a.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=s},key:function(){if(!y.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(y.attributes.METHOD==="NONE"){l=null;return}if(!y.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(y.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:y.attributes};return}if(y.attributes.KEYFORMAT==="com.microsoft.playready"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.microsoft.playready"]={uri:y.attributes.URI};return}if(y.attributes.KEYFORMAT===d){var M=["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"];if(M.indexOf(y.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(y.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),y.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(y.attributes.KEYID&&y.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:y.attributes.KEYFORMAT,keyId:y.attributes.KEYID.substring(2)},pssh:sP(y.attributes.URI.split(",")[1])};return}y.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),l={method:y.attributes.METHOD||"AES-128",uri:y.attributes.URI},typeof y.attributes.IV<"u"&&(l.iv=y.attributes.IV)},"media-sequence":function(){if(!isFinite(y.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+y.number});return}this.manifest.mediaSequence=y.number},"discontinuity-sequence":function(){if(!isFinite(y.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+y.number});return}this.manifest.discontinuitySequence=y.number,p=y.number},"playlist-type":function(){if(!/VOD|EVENT/.test(y.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+y.playlist});return}this.manifest.playlistType=y.playlistType},map:function(){o={},y.uri&&(o.uri=y.uri),y.byterange&&(o.byterange=y.byterange),l&&(o.key=l)},"stream-inf":function(){if(this.manifest.playlists=s,this.manifest.mediaGroups=this.manifest.mediaGroups||f,!y.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}a.attributes||(a.attributes={}),yn(a.attributes,y.attributes)},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||f,!(y.attributes&&y.attributes.TYPE&&y.attributes["GROUP-ID"]&&y.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}var M=this.manifest.mediaGroups[y.attributes.TYPE];M[y.attributes["GROUP-ID"]]=M[y.attributes["GROUP-ID"]]||{},T=M[y.attributes["GROUP-ID"]],S={default:/yes/i.test(y.attributes.DEFAULT)},S.default?S.autoselect=!0:S.autoselect=/yes/i.test(y.attributes.AUTOSELECT),y.attributes.LANGUAGE&&(S.language=y.attributes.LANGUAGE),y.attributes.URI&&(S.uri=y.attributes.URI),y.attributes["INSTREAM-ID"]&&(S.instreamId=y.attributes["INSTREAM-ID"]),y.attributes.CHARACTERISTICS&&(S.characteristics=y.attributes.CHARACTERISTICS),y.attributes.FORCED&&(S.forced=/yes/i.test(y.attributes.FORCED)),T[y.attributes.NAME]=S},discontinuity:function(){p+=1,a.discontinuity=!0,this.manifest.discontinuityStarts.push(s.length)},"program-date-time":function(){typeof this.manifest.dateTimeString>"u"&&(this.manifest.dateTimeString=y.dateTimeString,this.manifest.dateTimeObject=y.dateTimeObject),a.dateTimeString=y.dateTimeString,a.dateTimeObject=y.dateTimeObject},targetduration:function(){if(!isFinite(y.duration)||y.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+y.duration});return}this.manifest.targetDuration=y.duration,hm.call(this,this.manifest)},start:function(){if(!y.attributes||isNaN(y.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:y.attributes["TIME-OFFSET"],precise:y.attributes.PRECISE}},"cue-out":function(){a.cueOut=y.data},"cue-out-cont":function(){a.cueOutCont=y.data},"cue-in":function(){a.cueIn=y.data},skip:function(){this.manifest.skip=va(y.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",y.attributes,["SKIPPED-SEGMENTS"])},part:function(){var M=this;u=!0;var R=this.manifest.segments.length,A=va(y.attributes);a.parts=a.parts||[],a.parts.push(A),A.byterange&&(A.byterange.hasOwnProperty("offset")||(A.byterange.offset=b),b=A.byterange.offset+A.byterange.length);var E=a.parts.length-1;this.warnOnMissingAttributes_("#EXT-X-PART #"+E+" for segment #"+R,y.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach(function(C,P){C.hasOwnProperty("lastPart")||M.trigger("warn",{message:"#EXT-X-RENDITION-REPORT #"+P+" lacks required attribute(s): LAST-PART"})})},"server-control":function(){var M=this.manifest.serverControl=va(y.attributes);M.hasOwnProperty("canBlockReload")||(M.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),hm.call(this,this.manifest),M.canSkipDateranges&&!M.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint":function(){var M=this.manifest.segments.length,R=va(y.attributes),A=R.type&&R.type==="PART";a.preloadHints=a.preloadHints||[],a.preloadHints.push(R),R.byterange&&(R.byterange.hasOwnProperty("offset")||(R.byterange.offset=A?b:0,A&&(b=R.byterange.offset+R.byterange.length)));var E=a.preloadHints.length-1;if(this.warnOnMissingAttributes_("#EXT-X-PRELOAD-HINT #"+E+" for segment #"+M,y.attributes,["TYPE","URI"]),!!R.type)for(var C=0;C<a.preloadHints.length-1;C++){var P=a.preloadHints[C];!P.type||P.type===R.type&&this.trigger("warn",{message:"#EXT-X-PRELOAD-HINT #"+E+" for segment #"+M+" has the same TYPE "+R.type+" as preload hint #"+C})}},"rendition-report":function(){var M=va(y.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(M);var R=this.manifest.renditionReports.length-1,A=["LAST-MSN","URI"];u&&A.push("LAST-PART"),this.warnOnMissingAttributes_("#EXT-X-RENDITION-REPORT #"+R,y.attributes,A)},"part-inf":function(){this.manifest.partInf=va(y.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",y.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),hm.call(this,this.manifest)}}[y.tagType]||c).call(n)},uri:function(){a.uri=y.uri,s.push(a),this.manifest.targetDuration&&!("duration"in a)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),a.duration=this.manifest.targetDuration),l&&(a.key=l),a.timeline=p,o&&(a.map=o),b=0,a={}},comment:function(){},custom:function(){y.segment?(a.custom=a.custom||{},a.custom[y.customType]=y.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[y.customType]=y.data)}})[y.type].call(n)}),r}var i=e.prototype;return i.warnOnMissingAttributes_=function(n,s,a){var o=[];a.forEach(function(l){s.hasOwnProperty(l)||o.push(l)}),o.length&&this.trigger("warn",{message:n+" lacks required attribute(s): "+o.join(", ")})},i.push=function(n){this.lineStream.push(n)},i.end=function(){this.lineStream.push(`
`),this.trigger("end")},i.addParser=function(n){this.parseStream.addParser(n)},i.addTagMapper=function(n){this.parseStream.addTagMapper(n)},e}(Ly),Bs={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},Y8=["video","audio","text"],iw=["Video","Audio","Text"],aP=function(e){return e&&e.replace(/avc1\.(\d+)\.(\d+)/i,function(i,r,n){var s=("00"+Number(r).toString(16)).slice(-2),a=("00"+Number(n).toString(16)).slice(-2);return"avc1."+s+"00"+a})},Un=function(e){e===void 0&&(e="");var i=e.split(","),r=[];return i.forEach(function(n){n=n.trim();var s;Y8.forEach(function(a){var o=Bs[a].exec(n.toLowerCase());if(!(!o||o.length<=1)){s=a;var l=n.substring(0,o[1].length),u=n.replace(l,"");r.push({type:l,details:u,mediaType:a})}}),s||r.push({type:n,details:"",mediaType:"unknown"})}),r},Q8=function(e,i){if(!e.mediaGroups.AUDIO||!i)return null;var r=e.mediaGroups.AUDIO[i];if(!r)return null;for(var n in r){var s=r[n];if(s.default&&s.playlists)return Un(s.playlists[0].attributes.CODECS)}return null},oP=function(e){return e===void 0&&(e=""),Bs.audio.test(e.trim().toLowerCase())},J8=function(e){return e===void 0&&(e=""),Bs.text.test(e.trim().toLowerCase())},Mu=function(e){if(!(!e||typeof e!="string")){var i=e.toLowerCase().split(",").map(function(s){return aP(s.trim())}),r="video";i.length===1&&oP(i[0])?r="audio":i.length===1&&J8(i[0])&&(r="application");var n="mp4";return i.every(function(s){return Bs.mp4.test(s)})?n="mp4":i.every(function(s){return Bs.webm.test(s)})?n="webm":i.every(function(s){return Bs.ogg.test(s)})&&(n="ogg"),r+"/"+n+';codecs="'+e+'"'}},jd=function(e){return e===void 0&&(e=""),j.MediaSource&&j.MediaSource.isTypeSupported&&j.MediaSource.isTypeSupported(Mu(e))||!1},pm=function(e){return e===void 0&&(e=""),e.toLowerCase().split(",").every(function(i){i=i.trim();for(var r=0;r<iw.length;r++){var n=iw[r];if(Bs["muxer"+n].test(i))return!0}return!1})},nw="mp4a.40.2",Z8="avc1.4d400d",e5=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,t5=/^application\/dash\+xml/i,lP=function(e){return e5.test(e)?"hls":t5.test(e)?"dash":e==="application/vnd.videojs.vhs+json"?"vhs-json":null},i5=function(e){return e.toString(2).length},n5=function(e){return Math.ceil(i5(e)/8)},uP=function(e){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},r5=function(e){return uP(e)},Te=function(e){return e instanceof Uint8Array?e:(!Array.isArray(e)&&!r5(e)&&!(e instanceof ArrayBuffer)&&(typeof e!="number"||typeof e=="number"&&e!==e?e=0:e=[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},Vt=j.BigInt||Number,fg=[Vt("0x1"),Vt("0x100"),Vt("0x10000"),Vt("0x1000000"),Vt("0x100000000"),Vt("0x10000000000"),Vt("0x1000000000000"),Vt("0x100000000000000"),Vt("0x10000000000000000")];(function(){var t=new Uint16Array([65484]),e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return e[0]===255?"big":e[0]===204?"little":"unknown"})();var s5=function(e,i){var r=i===void 0?{}:i,n=r.signed,s=n===void 0?!1:n,a=r.le,o=a===void 0?!1:a;e=Te(e);var l=o?"reduce":"reduceRight",u=e[l]?e[l]:Array.prototype[l],c=u.call(e,function(d,p,g){var b=o?g:Math.abs(g+1-e.length);return d+Vt(p)*fg[b]},Vt(0));if(s){var f=fg[e.length]/Vt(2)-Vt(1);c=Vt(c),c>f&&(c-=f,c-=f,c-=Vt(2))}return Number(c)},a5=function(e,i){var r=i===void 0?{}:i,n=r.le,s=n===void 0?!1:n;(typeof e!="bigint"&&typeof e!="number"||typeof e=="number"&&e!==e)&&(e=0),e=Vt(e);for(var a=n5(e),o=new Uint8Array(new ArrayBuffer(a)),l=0;l<a;l++){var u=s?l:Math.abs(l+1-o.length);o[u]=Number(e/fg[l]&Vt(255)),e<0&&(o[u]=Math.abs(~o[u]),o[u]-=l===0?1:2)}return o},cP=function(e,i){if(typeof e!="string"&&e&&typeof e.toString=="function"&&(e=e.toString()),typeof e!="string")return new Uint8Array;i||(e=unescape(encodeURIComponent(e)));for(var r=new Uint8Array(e.length),n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r},o5=function(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];if(i=i.filter(function(o){return o&&(o.byteLength||o.length)&&typeof o!="string"}),i.length<=1)return Te(i[0]);var n=i.reduce(function(o,l,u){return o+(l.byteLength||l.length)},0),s=new Uint8Array(n),a=0;return i.forEach(function(o){o=Te(o),s.set(o,a),a+=o.byteLength}),s},at=function(e,i,r){var n=r===void 0?{}:r,s=n.offset,a=s===void 0?0:s,o=n.mask,l=o===void 0?[]:o;e=Te(e),i=Te(i);var u=i.every?i.every:Array.prototype.every;return i.length&&e.length-a>=i.length&&u.call(i,function(c,f){var d=l[f]?l[f]&e[a+f]:e[a+f];return c===d})},l5=function(e,i,r){i.forEach(function(n){for(var s in e.mediaGroups[n])for(var a in e.mediaGroups[n][s]){var o=e.mediaGroups[n][s][a];r(o,n,s,a)}})},gs={},Ar={};function u5(t,e,i){if(i===void 0&&(i=Array.prototype),t&&typeof i.find=="function")return i.find.call(t,e);for(var r=0;r<t.length;r++)if(Object.prototype.hasOwnProperty.call(t,r)){var n=t[r];if(e.call(void 0,n,r,t))return n}}function jy(t,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(t):t}function c5(t,e){if(t===null||typeof t!="object")throw new TypeError("target is not an object");for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}var dP=jy({HTML:"text/html",isHTML:function(t){return t===dP.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),fP=jy({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(t){return t===fP.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});Ar.assign=c5;Ar.find=u5;Ar.freeze=jy;Ar.MIME_TYPE=dP;Ar.NAMESPACE=fP;var hP=Ar,Jn=hP.find,Ru=hP.NAMESPACE;function d5(t){return t!==""}function f5(t){return t?t.split(/[\t\n\f\r ]+/).filter(d5):[]}function h5(t,e){return t.hasOwnProperty(e)||(t[e]=!0),t}function rw(t){if(!t)return[];var e=f5(t);return Object.keys(e.reduce(h5,{}))}function p5(t){return function(e){return t&&t.indexOf(e)!==-1}}function dc(t,e){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}function Wi(t,e){var i=t.prototype;if(!(i instanceof e)){let r=function(){};r.prototype=e.prototype,r=new r,dc(i,r),t.prototype=i=r}i.constructor!=t&&(typeof t!="function"&&console.error("unknown Class:"+t),i.constructor=t)}var qi={},An=qi.ELEMENT_NODE=1,fo=qi.ATTRIBUTE_NODE=2,Cf=qi.TEXT_NODE=3,pP=qi.CDATA_SECTION_NODE=4,mP=qi.ENTITY_REFERENCE_NODE=5,m5=qi.ENTITY_NODE=6,vP=qi.PROCESSING_INSTRUCTION_NODE=7,gP=qi.COMMENT_NODE=8,yP=qi.DOCUMENT_NODE=9,_P=qi.DOCUMENT_TYPE_NODE=10,Er=qi.DOCUMENT_FRAGMENT_NODE=11,v5=qi.NOTATION_NODE=12,li={},Ft={};li.INDEX_SIZE_ERR=(Ft[1]="Index size error",1);li.DOMSTRING_SIZE_ERR=(Ft[2]="DOMString size error",2);var Ri=li.HIERARCHY_REQUEST_ERR=(Ft[3]="Hierarchy request error",3);li.WRONG_DOCUMENT_ERR=(Ft[4]="Wrong document",4);li.INVALID_CHARACTER_ERR=(Ft[5]="Invalid character",5);li.NO_DATA_ALLOWED_ERR=(Ft[6]="No data allowed",6);li.NO_MODIFICATION_ALLOWED_ERR=(Ft[7]="No modification allowed",7);var bP=li.NOT_FOUND_ERR=(Ft[8]="Not found",8);li.NOT_SUPPORTED_ERR=(Ft[9]="Not supported",9);var sw=li.INUSE_ATTRIBUTE_ERR=(Ft[10]="Attribute in use",10);li.INVALID_STATE_ERR=(Ft[11]="Invalid state",11);li.SYNTAX_ERR=(Ft[12]="Syntax error",12);li.INVALID_MODIFICATION_ERR=(Ft[13]="Invalid modification",13);li.NAMESPACE_ERR=(Ft[14]="Invalid namespace",14);li.INVALID_ACCESS_ERR=(Ft[15]="Invalid access",15);function wt(t,e){if(e instanceof Error)var i=e;else i=this,Error.call(this,Ft[t]),this.message=Ft[t],Error.captureStackTrace&&Error.captureStackTrace(this,wt);return i.code=t,e&&(this.message=this.message+": "+e),i}wt.prototype=Error.prototype;dc(li,wt);function yr(){}yr.prototype={length:0,item:function(t){return this[t]||null},toString:function(t,e){for(var i=[],r=0;r<this.length;r++)La(this[r],i,t,e);return i.join("")},filter:function(t){return Array.prototype.filter.call(this,t)},indexOf:function(t){return Array.prototype.indexOf.call(this,t)}};function ho(t,e){this._node=t,this._refresh=e,Ny(this)}function Ny(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!=e){var i=t._refresh(t._node);DP(t,"length",i.length),dc(i,t),t._inc=e}}ho.prototype.item=function(t){return Ny(this),this[t]};Wi(ho,yr);function kf(){}function TP(t,e){for(var i=t.length;i--;)if(t[i]===e)return i}function aw(t,e,i,r){if(r?e[TP(e,r)]=i:e[e.length++]=i,t){i.ownerElement=t;var n=t.ownerDocument;n&&(r&&SP(n,t,r),g5(n,t,i))}}function ow(t,e,i){var r=TP(e,i);if(r>=0){for(var n=e.length-1;r<n;)e[r]=e[++r];if(e.length=n,t){var s=t.ownerDocument;s&&(SP(s,t,i),i.ownerElement=null)}}else throw new wt(bP,new Error(t.tagName+"@"+i))}kf.prototype={length:0,item:yr.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var i=this[e];if(i.nodeName==t)return i}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new wt(sw);var i=this.getNamedItem(t.nodeName);return aw(this._ownerElement,this,t,i),i},setNamedItemNS:function(t){var e=t.ownerElement,i;if(e&&e!=this._ownerElement)throw new wt(sw);return i=this.getNamedItemNS(t.namespaceURI,t.localName),aw(this._ownerElement,this,t,i),i},removeNamedItem:function(t){var e=this.getNamedItem(t);return ow(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var i=this.getNamedItemNS(t,e);return ow(this._ownerElement,this,i),i},getNamedItemNS:function(t,e){for(var i=this.length;i--;){var r=this[i];if(r.localName==e&&r.namespaceURI==t)return r}return null}};function xP(){}xP.prototype={hasFeature:function(t,e){return!0},createDocument:function(t,e,i){var r=new fc;if(r.implementation=this,r.childNodes=new yr,r.doctype=i||null,i&&r.appendChild(i),e){var n=r.createElementNS(t,e);r.appendChild(n)}return r},createDocumentType:function(t,e,i){var r=new Dh;return r.name=t,r.nodeName=t,r.publicId=e||"",r.systemId=i||"",r}};function We(){}We.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return Pf(this,t,e)},replaceChild:function(t,e){Pf(this,t,e,CP),e&&this.removeChild(e)},removeChild:function(t){return EP(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(t){return hg(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==Cf&&t.nodeType==Cf?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var i=e._nsMap;if(i){for(var r in i)if(Object.prototype.hasOwnProperty.call(i,r)&&i[r]===t)return r}e=e.nodeType==fo?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var i=e._nsMap;if(i&&Object.prototype.hasOwnProperty.call(i,t))return i[t];e=e.nodeType==fo?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){var e=this.lookupPrefix(t);return e==null}};function wP(t){return t=="<"&&"&lt;"||t==">"&&"&gt;"||t=="&"&&"&amp;"||t=='"'&&"&quot;"||"&#"+t.charCodeAt()+";"}dc(qi,We);dc(qi,We.prototype);function Lu(t,e){if(e(t))return!0;if(t=t.firstChild)do if(Lu(t,e))return!0;while(t=t.nextSibling)}function fc(){this.ownerDocument=this}function g5(t,e,i){t&&t._inc++;var r=i.namespaceURI;r===Ru.XMLNS&&(e._nsMap[i.prefix?i.localName:""]=i.value)}function SP(t,e,i,r){t&&t._inc++;var n=i.namespaceURI;n===Ru.XMLNS&&delete e._nsMap[i.prefix?i.localName:""]}function Fy(t,e,i){if(t&&t._inc){t._inc++;var r=e.childNodes;if(i)r[r.length++]=i;else{for(var n=e.firstChild,s=0;n;)r[s++]=n,n=n.nextSibling;r.length=s,delete r[r.length]}}}function EP(t,e){var i=e.previousSibling,r=e.nextSibling;return i?i.nextSibling=r:t.firstChild=r,r?r.previousSibling=i:t.lastChild=i,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,Fy(t.ownerDocument,t),e}function y5(t){return t&&(t.nodeType===We.DOCUMENT_NODE||t.nodeType===We.DOCUMENT_FRAGMENT_NODE||t.nodeType===We.ELEMENT_NODE)}function _5(t){return t&&(Zn(t)||Uy(t)||Cr(t)||t.nodeType===We.DOCUMENT_FRAGMENT_NODE||t.nodeType===We.COMMENT_NODE||t.nodeType===We.PROCESSING_INSTRUCTION_NODE)}function Cr(t){return t&&t.nodeType===We.DOCUMENT_TYPE_NODE}function Zn(t){return t&&t.nodeType===We.ELEMENT_NODE}function Uy(t){return t&&t.nodeType===We.TEXT_NODE}function lw(t,e){var i=t.childNodes||[];if(Jn(i,Zn)||Cr(e))return!1;var r=Jn(i,Cr);return!(e&&r&&i.indexOf(r)>i.indexOf(e))}function uw(t,e){var i=t.childNodes||[];function r(s){return Zn(s)&&s!==e}if(Jn(i,r))return!1;var n=Jn(i,Cr);return!(e&&n&&i.indexOf(n)>i.indexOf(e))}function b5(t,e,i){if(!y5(t))throw new wt(Ri,"Unexpected parent node type "+t.nodeType);if(i&&i.parentNode!==t)throw new wt(bP,"child not in parent");if(!_5(e)||Cr(e)&&t.nodeType!==We.DOCUMENT_NODE)throw new wt(Ri,"Unexpected node type "+e.nodeType+" for parent node type "+t.nodeType)}function T5(t,e,i){var r=t.childNodes||[],n=e.childNodes||[];if(e.nodeType===We.DOCUMENT_FRAGMENT_NODE){var s=n.filter(Zn);if(s.length>1||Jn(n,Uy))throw new wt(Ri,"More than one element or text in fragment");if(s.length===1&&!lw(t,i))throw new wt(Ri,"Element in fragment can not be inserted before doctype")}if(Zn(e)&&!lw(t,i))throw new wt(Ri,"Only one element can be added and only after doctype");if(Cr(e)){if(Jn(r,Cr))throw new wt(Ri,"Only one doctype is allowed");var a=Jn(r,Zn);if(i&&r.indexOf(a)<r.indexOf(i))throw new wt(Ri,"Doctype can only be inserted before an element");if(!i&&a)throw new wt(Ri,"Doctype can not be appended since element is present")}}function CP(t,e,i){var r=t.childNodes||[],n=e.childNodes||[];if(e.nodeType===We.DOCUMENT_FRAGMENT_NODE){var s=n.filter(Zn);if(s.length>1||Jn(n,Uy))throw new wt(Ri,"More than one element or text in fragment");if(s.length===1&&!uw(t,i))throw new wt(Ri,"Element in fragment can not be inserted before doctype")}if(Zn(e)&&!uw(t,i))throw new wt(Ri,"Only one element can be added and only after doctype");if(Cr(e)){if(Jn(r,function(l){return Cr(l)&&l!==i}))throw new wt(Ri,"Only one doctype is allowed");var a=Jn(r,Zn);if(i&&r.indexOf(a)<r.indexOf(i))throw new wt(Ri,"Doctype can only be inserted before an element")}}function Pf(t,e,i,r){b5(t,e,i),t.nodeType===We.DOCUMENT_NODE&&(r||T5)(t,e,i);var n=e.parentNode;if(n&&n.removeChild(e),e.nodeType===Er){var s=e.firstChild;if(s==null)return e;var a=e.lastChild}else s=a=e;var o=i?i.previousSibling:t.lastChild;s.previousSibling=o,a.nextSibling=i,o?o.nextSibling=s:t.firstChild=s,i==null?t.lastChild=a:i.previousSibling=a;do s.parentNode=t;while(s!==a&&(s=s.nextSibling));return Fy(t.ownerDocument||t,t),e.nodeType==Er&&(e.firstChild=e.lastChild=null),e}function x5(t,e){return e.parentNode&&e.parentNode.removeChild(e),e.parentNode=t,e.previousSibling=t.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:t.firstChild=e,t.lastChild=e,Fy(t.ownerDocument,t,e),e}fc.prototype={nodeName:"#document",nodeType:yP,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==Er){for(var i=t.firstChild;i;){var r=i.nextSibling;this.insertBefore(i,e),i=r}return t}return Pf(this,t,e),t.ownerDocument=this,this.documentElement===null&&t.nodeType===An&&(this.documentElement=t),t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),EP(this,t)},replaceChild:function(t,e){Pf(this,t,e,CP),t.ownerDocument=this,e&&this.removeChild(e),Zn(t)&&(this.documentElement=t)},importNode:function(t,e){return IP(this,t,e)},getElementById:function(t){var e=null;return Lu(this.documentElement,function(i){if(i.nodeType==An&&i.getAttribute("id")==t)return e=i,!0}),e},getElementsByClassName:function(t){var e=rw(t);return new ho(this,function(i){var r=[];return e.length>0&&Lu(i.documentElement,function(n){if(n!==i&&n.nodeType===An){var s=n.getAttribute("class");if(s){var a=t===s;if(!a){var o=rw(s);a=e.every(p5(o))}a&&r.push(n)}}}),r})},createElement:function(t){var e=new Js;e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.localName=t,e.childNodes=new yr;var i=e.attributes=new kf;return i._ownerElement=e,e},createDocumentFragment:function(){var t=new Mh;return t.ownerDocument=this,t.childNodes=new yr,t},createTextNode:function(t){var e=new By;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new zy;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new Vy;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var i=new Wy;return i.ownerDocument=this,i.tagName=i.target=t,i.nodeValue=i.data=e,i},createAttribute:function(t){var e=new Of;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new Hy;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var i=new Js,r=e.split(":"),n=i.attributes=new kf;return i.childNodes=new yr,i.ownerDocument=this,i.nodeName=e,i.tagName=e,i.namespaceURI=t,r.length==2?(i.prefix=r[0],i.localName=r[1]):i.localName=e,n._ownerElement=i,i},createAttributeNS:function(t,e){var i=new Of,r=e.split(":");return i.ownerDocument=this,i.nodeName=e,i.name=e,i.namespaceURI=t,i.specified=!0,r.length==2?(i.prefix=r[0],i.localName=r[1]):i.localName=e,i}};Wi(fc,We);function Js(){this._nsMap={}}Js.prototype={nodeType:An,hasAttribute:function(t){return this.getAttributeNode(t)!=null},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var i=this.ownerDocument.createAttribute(t);i.value=i.nodeValue=""+e,this.setAttributeNode(i)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===Er?this.insertBefore(t,null):x5(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var i=this.getAttributeNodeNS(t,e);i&&this.removeAttributeNode(i)},hasAttributeNS:function(t,e){return this.getAttributeNodeNS(t,e)!=null},getAttributeNS:function(t,e){var i=this.getAttributeNodeNS(t,e);return i&&i.value||""},setAttributeNS:function(t,e,i){var r=this.ownerDocument.createAttributeNS(t,e);r.value=r.nodeValue=""+i,this.setAttributeNode(r)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new ho(this,function(e){var i=[];return Lu(e,function(r){r!==e&&r.nodeType==An&&(t==="*"||r.tagName==t)&&i.push(r)}),i})},getElementsByTagNameNS:function(t,e){return new ho(this,function(i){var r=[];return Lu(i,function(n){n!==i&&n.nodeType===An&&(t==="*"||n.namespaceURI===t)&&(e==="*"||n.localName==e)&&r.push(n)}),r})}};fc.prototype.getElementsByTagName=Js.prototype.getElementsByTagName;fc.prototype.getElementsByTagNameNS=Js.prototype.getElementsByTagNameNS;Wi(Js,We);function Of(){}Of.prototype.nodeType=fo;Wi(Of,We);function hc(){}hc.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(Ft[Ri])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,i){var r=this.data.substring(0,t),n=this.data.substring(t+e);i=r+i+n,this.nodeValue=this.data=i,this.length=i.length}};Wi(hc,We);function By(){}By.prototype={nodeName:"#text",nodeType:Cf,splitText:function(t){var e=this.data,i=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var r=this.ownerDocument.createTextNode(i);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}};Wi(By,hc);function zy(){}zy.prototype={nodeName:"#comment",nodeType:gP};Wi(zy,hc);function Vy(){}Vy.prototype={nodeName:"#cdata-section",nodeType:pP};Wi(Vy,hc);function Dh(){}Dh.prototype.nodeType=_P;Wi(Dh,We);function kP(){}kP.prototype.nodeType=v5;Wi(kP,We);function PP(){}PP.prototype.nodeType=m5;Wi(PP,We);function Hy(){}Hy.prototype.nodeType=mP;Wi(Hy,We);function Mh(){}Mh.prototype.nodeName="#document-fragment";Mh.prototype.nodeType=Er;Wi(Mh,We);function Wy(){}Wy.prototype.nodeType=vP;Wi(Wy,We);function OP(){}OP.prototype.serializeToString=function(t,e,i){return AP.call(t,e,i)};We.prototype.toString=AP;function AP(t,e){var i=[],r=this.nodeType==9&&this.documentElement||this,n=r.prefix,s=r.namespaceURI;if(s&&n==null){var n=r.lookupPrefix(s);if(n==null)var a=[{namespace:s,prefix:null}]}return La(this,i,t,e,a),i.join("")}function cw(t,e,i){var r=t.prefix||"",n=t.namespaceURI;if(!n||r==="xml"&&n===Ru.XML||n===Ru.XMLNS)return!1;for(var s=i.length;s--;){var a=i[s];if(a.prefix===r)return a.namespace!==n}return!0}function mm(t,e,i){t.push(" ",e,'="',i.replace(/[<>&"\t\n\r]/g,wP),'"')}function La(t,e,i,r,n){if(n||(n=[]),r)if(t=r(t),t){if(typeof t=="string"){e.push(t);return}}else return;switch(t.nodeType){case An:var s=t.attributes,a=s.length,T=t.firstChild,o=t.tagName;i=Ru.isHTML(t.namespaceURI)||i;var l=o;if(!i&&!t.prefix&&t.namespaceURI){for(var u,c=0;c<s.length;c++)if(s.item(c).name==="xmlns"){u=s.item(c).value;break}if(!u)for(var f=n.length-1;f>=0;f--){var d=n[f];if(d.prefix===""&&d.namespace===t.namespaceURI){u=d.namespace;break}}if(u!==t.namespaceURI)for(var f=n.length-1;f>=0;f--){var d=n[f];if(d.namespace===t.namespaceURI){d.prefix&&(l=d.prefix+":"+o);break}}}e.push("<",l);for(var p=0;p<a;p++){var g=s.item(p);g.prefix=="xmlns"?n.push({prefix:g.localName,namespace:g.value}):g.nodeName=="xmlns"&&n.push({prefix:"",namespace:g.value})}for(var p=0;p<a;p++){var g=s.item(p);if(cw(g,i,n)){var b=g.prefix||"",y=g.namespaceURI;mm(e,b?"xmlns:"+b:"xmlns",y),n.push({prefix:b,namespace:y})}La(g,e,i,r,n)}if(o===l&&cw(t,i,n)){var b=t.prefix||"",y=t.namespaceURI;mm(e,b?"xmlns:"+b:"xmlns",y),n.push({prefix:b,namespace:y})}if(T||i&&!/^(?:meta|link|img|br|hr|input)$/i.test(o)){if(e.push(">"),i&&/^script$/i.test(o))for(;T;)T.data?e.push(T.data):La(T,e,i,r,n.slice()),T=T.nextSibling;else for(;T;)La(T,e,i,r,n.slice()),T=T.nextSibling;e.push("</",l,">")}else e.push("/>");return;case yP:case Er:for(var T=t.firstChild;T;)La(T,e,i,r,n.slice()),T=T.nextSibling;return;case fo:return mm(e,t.name,t.value);case Cf:return e.push(t.data.replace(/[<&>]/g,wP));case pP:return e.push("<![CDATA[",t.data,"]]>");case gP:return e.push("<!--",t.data,"-->");case _P:var S=t.publicId,I=t.systemId;if(e.push("<!DOCTYPE ",t.name),S)e.push(" PUBLIC ",S),I&&I!="."&&e.push(" ",I),e.push(">");else if(I&&I!=".")e.push(" SYSTEM ",I,">");else{var O=t.internalSubset;O&&e.push(" [",O,"]"),e.push(">")}return;case vP:return e.push("<?",t.target," ",t.data,"?>");case mP:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function IP(t,e,i){var r;switch(e.nodeType){case An:r=e.cloneNode(!1),r.ownerDocument=t;case Er:break;case fo:i=!0;break}if(r||(r=e.cloneNode(!1)),r.ownerDocument=t,r.parentNode=null,i)for(var n=e.firstChild;n;)r.appendChild(IP(t,n,i)),n=n.nextSibling;return r}function hg(t,e,i){var r=new e.constructor;for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var s=e[n];typeof s!="object"&&s!=r[n]&&(r[n]=s)}switch(e.childNodes&&(r.childNodes=new yr),r.ownerDocument=t,r.nodeType){case An:var a=e.attributes,o=r.attributes=new kf,l=a.length;o._ownerElement=r;for(var u=0;u<l;u++)r.setAttributeNode(hg(t,a.item(u),!0));break;case fo:i=!0}if(i)for(var c=e.firstChild;c;)r.appendChild(hg(t,c,i)),c=c.nextSibling;return r}function DP(t,e,i){t[e]=i}try{if(Object.defineProperty){let t=function(e){switch(e.nodeType){case An:case Er:var i=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&i.push(t(e)),e=e.nextSibling;return i.join("");default:return e.nodeValue}};Object.defineProperty(ho.prototype,"length",{get:function(){return Ny(this),this.$$length}}),Object.defineProperty(We.prototype,"textContent",{get:function(){return t(this)},set:function(e){switch(this.nodeType){case An:case Er:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),DP=function(e,i,r){e["$$"+i]=r}}}catch{}gs.DocumentType=Dh;gs.DOMException=wt;gs.DOMImplementation=xP;gs.Element=Js;gs.Node=We;gs.NodeList=yr;gs.XMLSerializer=OP;var Rh={},MP={};(function(t){var e=Ar.freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"\xC0",Aacute:"\xC1",Acirc:"\xC2",Atilde:"\xC3",Auml:"\xC4",Aring:"\xC5",AElig:"\xC6",Ccedil:"\xC7",Egrave:"\xC8",Eacute:"\xC9",Ecirc:"\xCA",Euml:"\xCB",Igrave:"\xCC",Iacute:"\xCD",Icirc:"\xCE",Iuml:"\xCF",ETH:"\xD0",Ntilde:"\xD1",Ograve:"\xD2",Oacute:"\xD3",Ocirc:"\xD4",Otilde:"\xD5",Ouml:"\xD6",Oslash:"\xD8",Ugrave:"\xD9",Uacute:"\xDA",Ucirc:"\xDB",Uuml:"\xDC",Yacute:"\xDD",THORN:"\xDE",szlig:"\xDF",agrave:"\xE0",aacute:"\xE1",acirc:"\xE2",atilde:"\xE3",auml:"\xE4",aring:"\xE5",aelig:"\xE6",ccedil:"\xE7",egrave:"\xE8",eacute:"\xE9",ecirc:"\xEA",euml:"\xEB",igrave:"\xEC",iacute:"\xED",icirc:"\xEE",iuml:"\xEF",eth:"\xF0",ntilde:"\xF1",ograve:"\xF2",oacute:"\xF3",ocirc:"\xF4",otilde:"\xF5",ouml:"\xF6",oslash:"\xF8",ugrave:"\xF9",uacute:"\xFA",ucirc:"\xFB",uuml:"\xFC",yacute:"\xFD",thorn:"\xFE",yuml:"\xFF",nbsp:"\xA0",iexcl:"\xA1",cent:"\xA2",pound:"\xA3",curren:"\xA4",yen:"\xA5",brvbar:"\xA6",sect:"\xA7",uml:"\xA8",copy:"\xA9",ordf:"\xAA",laquo:"\xAB",not:"\xAC",shy:"\xAD\xAD",reg:"\xAE",macr:"\xAF",deg:"\xB0",plusmn:"\xB1",sup2:"\xB2",sup3:"\xB3",acute:"\xB4",micro:"\xB5",para:"\xB6",middot:"\xB7",cedil:"\xB8",sup1:"\xB9",ordm:"\xBA",raquo:"\xBB",frac14:"\xBC",frac12:"\xBD",frac34:"\xBE",iquest:"\xBF",times:"\xD7",divide:"\xF7",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220B",prod:"\u220F",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221A",prop:"\u221D",infin:"\u221E",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222A",int:"\u222B",there4:"\u2234",sim:"\u223C",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22A5",sdot:"\u22C5",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039A",Lambda:"\u039B",Mu:"\u039C",Nu:"\u039D",Xi:"\u039E",Omicron:"\u039F",Pi:"\u03A0",Rho:"\u03A1",Sigma:"\u03A3",Tau:"\u03A4",Upsilon:"\u03A5",Phi:"\u03A6",Chi:"\u03A7",Psi:"\u03A8",Omega:"\u03A9",alpha:"\u03B1",beta:"\u03B2",gamma:"\u03B3",delta:"\u03B4",epsilon:"\u03B5",zeta:"\u03B6",eta:"\u03B7",theta:"\u03B8",iota:"\u03B9",kappa:"\u03BA",lambda:"\u03BB",mu:"\u03BC",nu:"\u03BD",xi:"\u03BE",omicron:"\u03BF",pi:"\u03C0",rho:"\u03C1",sigmaf:"\u03C2",sigma:"\u03C3",tau:"\u03C4",upsilon:"\u03C5",phi:"\u03C6",chi:"\u03C7",psi:"\u03C8",omega:"\u03C9",thetasym:"\u03D1",upsih:"\u03D2",piv:"\u03D6",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02C6",tilde:"\u02DC",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200C",zwj:"\u200D",lrm:"\u200E",rlm:"\u200F",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201A",ldquo:"\u201C",rdquo:"\u201D",bdquo:"\u201E",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203A",oline:"\u203E",euro:"\u20AC",trade:"\u2122",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21B5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230A",rfloor:"\u230B",loz:"\u25CA",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666"}),t.entityMap=t.HTML_ENTITIES})(MP);var qy={},ju=Ar.NAMESPACE,pg=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,dw=new RegExp("[\\-\\.0-9"+pg.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),fw=new RegExp("^"+pg.source+dw.source+"*(?::"+pg.source+dw.source+"*)?$"),vl=0,Nr=1,ga=2,gl=3,ya=4,_a=5,yl=6,ad=7;function po(t,e){this.message=t,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,po)}po.prototype=new Error;po.prototype.name=po.name;function RP(){}RP.prototype={parse:function(t,e,i){var r=this.domBuilder;r.startDocument(),LP(e,e={}),w5(t,e,i,r,this.errorHandler),r.endDocument()}};function w5(t,e,i,r,n){function s(ee){if(ee>65535){ee-=65536;var K=55296+(ee>>10),q=56320+(ee&1023);return String.fromCharCode(K,q)}else return String.fromCharCode(ee)}function a(ee){var K=ee.slice(1,-1);return Object.hasOwnProperty.call(i,K)?i[K]:K.charAt(0)==="#"?s(parseInt(K.substr(1).replace("x","0x"))):(n.error("entity not found:"+ee),ee)}function o(ee){if(ee>b){var K=t.substring(b,ee).replace(/&#?\w+;/g,a);d&&l(b),r.characters(K,0,ee-b),b=ee}}function l(ee,K){for(;ee>=c&&(K=f.exec(t));)u=K.index,c=u+K[0].length,d.lineNumber++;d.columnNumber=ee-u+1}for(var u=0,c=0,f=/.*(?:\r\n?|\n)|.*$/g,d=r.locator,p=[{currentNSMap:e}],g={},b=0;;){try{var y=t.indexOf("<",b);if(y<0){if(!t.substr(b).match(/^\s*$/)){var T=r.doc,S=T.createTextNode(t.substr(b));T.appendChild(S),r.currentElement=S}return}switch(y>b&&o(y),t.charAt(y+1)){case"/":var U=t.indexOf(">",y+3),I=t.substring(y+2,U).replace(/[ \t\n\r]+$/g,""),O=p.pop();U<0?(I=t.substring(y+2).replace(/[\s<].*/,""),n.error("end tag name: "+I+" is not complete:"+O.tagName),U=y+1+I.length):I.match(/\s</)&&(I=I.replace(/[\s<].*/,""),n.error("end tag name: "+I+" maybe not complete"),U=y+1+I.length);var M=O.localNSMap,R=O.tagName==I,A=R||O.tagName&&O.tagName.toLowerCase()==I.toLowerCase();if(A){if(r.endElement(O.uri,O.localName,I),M)for(var E in M)Object.prototype.hasOwnProperty.call(M,E)&&r.endPrefixMapping(E);R||n.fatalError("end tag name: "+I+" is not match the current start tagName:"+O.tagName)}else p.push(O);U++;break;case"?":d&&l(y),U=P5(t,y,r);break;case"!":d&&l(y),U=k5(t,y,r,n);break;default:d&&l(y);var C=new jP,P=p[p.length-1].currentNSMap,U=S5(t,y,C,P,a,n),B=C.length;if(!C.closed&&C5(t,U,C.tagName,g)&&(C.closed=!0,i.nbsp||n.warning("unclosed xml attribute")),d&&B){for(var G=hw(d,{}),W=0;W<B;W++){var Y=C[W];l(Y.offset),Y.locator=hw(d,{})}r.locator=G,pw(C,r,P)&&p.push(C),r.locator=d}else pw(C,r,P)&&p.push(C);ju.isHTML(C.uri)&&!C.closed?U=E5(t,U,C.tagName,a,r):U++}}catch(ee){if(ee instanceof po)throw ee;n.error("element parse error: "+ee),U=-1}U>b?b=U:o(Math.max(y,b)+1)}}function hw(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function S5(t,e,i,r,n,s){function a(d,p,g){i.attributeNames.hasOwnProperty(d)&&s.fatalError("Attribute "+d+" redefined"),i.addValue(d,p.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,n),g)}for(var o,l,u=++e,c=vl;;){var f=t.charAt(u);switch(f){case"=":if(c===Nr)o=t.slice(e,u),c=gl;else if(c===ga)c=gl;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(c===gl||c===Nr)if(c===Nr&&(s.warning('attribute value must after "="'),o=t.slice(e,u)),e=u+1,u=t.indexOf(f,e),u>0)l=t.slice(e,u),a(o,l,e-1),c=_a;else throw new Error("attribute value no end '"+f+"' match");else if(c==ya)l=t.slice(e,u),a(o,l,e),s.warning('attribute "'+o+'" missed start quot('+f+")!!"),e=u+1,c=_a;else throw new Error('attribute value must after "="');break;case"/":switch(c){case vl:i.setTagName(t.slice(e,u));case _a:case yl:case ad:c=ad,i.closed=!0;case ya:case Nr:case ga:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return s.error("unexpected end of input"),c==vl&&i.setTagName(t.slice(e,u)),u;case">":switch(c){case vl:i.setTagName(t.slice(e,u));case _a:case yl:case ad:break;case ya:case Nr:l=t.slice(e,u),l.slice(-1)==="/"&&(i.closed=!0,l=l.slice(0,-1));case ga:c===ga&&(l=o),c==ya?(s.warning('attribute "'+l+'" missed quot(")!'),a(o,l,e)):((!ju.isHTML(r[""])||!l.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+l+'" missed value!! "'+l+'" instead!!'),a(l,l,e));break;case gl:throw new Error("attribute value missed!!")}return u;case"\x80":f=" ";default:if(f<=" ")switch(c){case vl:i.setTagName(t.slice(e,u)),c=yl;break;case Nr:o=t.slice(e,u),c=ga;break;case ya:var l=t.slice(e,u);s.warning('attribute "'+l+'" missed quot(")!!'),a(o,l,e);case _a:c=yl;break}else switch(c){case ga:i.tagName,(!ju.isHTML(r[""])||!o.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+o+'" missed value!! "'+o+'" instead2!!'),a(o,o,e),e=u,c=Nr;break;case _a:s.warning('attribute space is required"'+o+'"!!');case yl:c=Nr,e=u;break;case gl:c=ya,e=u;break;case ad:throw new Error("elements closed character '/' and '>' must be connected to")}}u++}}function pw(t,e,i){for(var r=t.tagName,n=null,f=t.length;f--;){var s=t[f],a=s.qName,o=s.value,d=a.indexOf(":");if(d>0)var l=s.prefix=a.slice(0,d),u=a.slice(d+1),c=l==="xmlns"&&u;else u=a,l=null,c=a==="xmlns"&&"";s.localName=u,c!==!1&&(n==null&&(n={},LP(i,i={})),i[c]=n[c]=o,s.uri=ju.XMLNS,e.startPrefixMapping(c,o))}for(var f=t.length;f--;){s=t[f];var l=s.prefix;l&&(l==="xml"&&(s.uri=ju.XML),l!=="xmlns"&&(s.uri=i[l||""]))}var d=r.indexOf(":");d>0?(l=t.prefix=r.slice(0,d),u=t.localName=r.slice(d+1)):(l=null,u=t.localName=r);var p=t.uri=i[l||""];if(e.startElement(p,u,r,t),t.closed){if(e.endElement(p,u,r),n)for(l in n)Object.prototype.hasOwnProperty.call(n,l)&&e.endPrefixMapping(l)}else return t.currentNSMap=i,t.localNSMap=n,!0}function E5(t,e,i,r,n){if(/^(?:script|textarea)$/i.test(i)){var s=t.indexOf("</"+i+">",e),a=t.substring(e+1,s);if(/[&<]/.test(a))return/^script$/i.test(i)?(n.characters(a,0,a.length),s):(a=a.replace(/&#?\w+;/g,r),n.characters(a,0,a.length),s)}return e+1}function C5(t,e,i,r){var n=r[i];return n==null&&(n=t.lastIndexOf("</"+i+">"),n<e&&(n=t.lastIndexOf("</"+i)),r[i]=n),n<e}function LP(t,e){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}function k5(t,e,i,r){var n=t.charAt(e+2);switch(n){case"-":if(t.charAt(e+3)==="-"){var s=t.indexOf("-->",e+4);return s>e?(i.comment(t,e+4,s-e-4),s+3):(r.error("Unclosed comment"),-1)}else return-1;default:if(t.substr(e+3,6)=="CDATA["){var s=t.indexOf("]]>",e+9);return i.startCDATA(),i.characters(t,e+9,s-e-9),i.endCDATA(),s+3}var a=O5(t,e),o=a.length;if(o>1&&/!doctype/i.test(a[0][0])){var l=a[1][0],u=!1,c=!1;o>3&&(/^public$/i.test(a[2][0])?(u=a[3][0],c=o>4&&a[4][0]):/^system$/i.test(a[2][0])&&(c=a[3][0]));var f=a[o-1];return i.startDTD(l,u,c),i.endDTD(),f.index+f[0].length}}return-1}function P5(t,e,i){var r=t.indexOf("?>",e);if(r){var n=t.substring(e,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return n?(n[0].length,i.processingInstruction(n[1],n[2]),r+2):-1}return-1}function jP(){this.attributeNames={}}jP.prototype={setTagName:function(t){if(!fw.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},addValue:function(t,e,i){if(!fw.test(t))throw new Error("invalid attribute:"+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:e,offset:i}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}};function O5(t,e){var i,r=[],n=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(n.lastIndex=e,n.exec(t);i=n.exec(t);)if(r.push(i),i[1])return r}qy.XMLReader=RP;qy.ParseError=po;var A5=Ar,I5=gs,mw=MP,NP=qy,D5=I5.DOMImplementation,vw=A5.NAMESPACE,M5=NP.ParseError,R5=NP.XMLReader;function FP(t){return t.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function UP(t){this.options=t||{locator:{}}}UP.prototype.parseFromString=function(t,e){var i=this.options,r=new R5,n=i.domBuilder||new pc,s=i.errorHandler,a=i.locator,o=i.xmlns||{},l=/\/x?html?$/.test(e),u=l?mw.HTML_ENTITIES:mw.XML_ENTITIES;a&&n.setDocumentLocator(a),r.errorHandler=L5(s,n,a),r.domBuilder=i.domBuilder||n,l&&(o[""]=vw.HTML),o.xml=o.xml||vw.XML;var c=i.normalizeLineEndings||FP;return t&&typeof t=="string"?r.parse(c(t),o,u):r.errorHandler.error("invalid doc source"),n.doc};function L5(t,e,i){if(!t){if(e instanceof pc)return e;t=e}var r={},n=t instanceof Function;i=i||{};function s(a){var o=t[a];!o&&n&&(o=t.length==2?function(l){t(a,l)}:t),r[a]=o&&function(l){o("[xmldom "+a+"]	"+l+mg(i))}||function(){}}return s("warning"),s("error"),s("fatalError"),r}function pc(){this.cdata=!1}function ba(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}pc.prototype={startDocument:function(){this.doc=new D5().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,i,r){var n=this.doc,s=n.createElementNS(t,i||e),a=r.length;od(this,s),this.currentElement=s,this.locator&&ba(this.locator,s);for(var o=0;o<a;o++){var t=r.getURI(o),l=r.getValue(o),i=r.getQName(o),u=n.createAttributeNS(t,i);this.locator&&ba(r.getLocator(o),u),u.value=u.nodeValue=l,s.setAttributeNode(u)}},endElement:function(t,e,i){var r=this.currentElement;r.tagName,this.currentElement=r.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var i=this.doc.createProcessingInstruction(t,e);this.locator&&ba(this.locator,i),od(this,i)},ignorableWhitespace:function(t,e,i){},characters:function(t,e,i){if(t=gw.apply(this,arguments),t){if(this.cdata)var r=this.doc.createCDATASection(t);else var r=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(t)&&this.doc.appendChild(r),this.locator&&ba(this.locator,r)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,i){t=gw.apply(this,arguments);var r=this.doc.createComment(t);this.locator&&ba(this.locator,r),od(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,i){var r=this.doc.implementation;if(r&&r.createDocumentType){var n=r.createDocumentType(t,e,i);this.locator&&ba(this.locator,n),od(this,n),this.doc.doctype=n}},warning:function(t){console.warn("[xmldom warning]	"+t,mg(this.locator))},error:function(t){console.error("[xmldom error]	"+t,mg(this.locator))},fatalError:function(t){throw new M5(t,this.locator)}};function mg(t){if(t)return`
@`+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function gw(t,e,i){return typeof t=="string"?t.substr(e,i):t.length>=e+i||e?new java.lang.String(t,e,i)+"":t}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){pc.prototype[t]=function(){return null}});function od(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}Rh.__DOMHandler=pc;Rh.normalizeLineEndings=FP;Rh.DOMParser=UP;var j5=Rh.DOMParser;/*! @name mpd-parser @version 0.22.1 @license Apache-2.0 */var yw=function(e){return!!e&&typeof e=="object"},yi=function t(){for(var e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return i.reduce(function(n,s){return typeof s!="object"||Object.keys(s).forEach(function(a){Array.isArray(n[a])&&Array.isArray(s[a])?n[a]=n[a].concat(s[a]):yw(n[a])&&yw(s[a])?n[a]=t(n[a],s[a]):n[a]=s[a]}),n},{})},BP=function(e){return Object.keys(e).map(function(i){return e[i]})},N5=function(e,i){for(var r=[],n=e;n<i;n++)r.push(n);return r},Lh=function(e){return e.reduce(function(i,r){return i.concat(r)},[])},zP=function(e){if(!e.length)return[];for(var i=[],r=0;r<e.length;r++)i.push(e[r]);return i},F5=function(e,i){return e.reduce(function(r,n,s){return n[i]&&r.push(s),r},[])},vg=function(e,i){for(var r=0;r<e.length;r++)if(i(e[r]))return r;return-1},U5=function(e,i){return BP(e.reduce(function(r,n){return n.forEach(function(s){r[i(s)]=s}),r},{}))},mo={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",MISSING_SEGMENT_INFORMATION:"MISSING_SEGMENT_INFORMATION",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"},Nu=function(e){var i=e.baseUrl,r=i===void 0?"":i,n=e.source,s=n===void 0?"":n,a=e.range,o=a===void 0?"":a,l=e.indexRange,u=l===void 0?"":l,c={uri:s,resolvedUri:Ih(r||"",s)};if(o||u){var f=o||u,d=f.split("-"),p=j.BigInt?j.BigInt(d[0]):parseInt(d[0],10),g=j.BigInt?j.BigInt(d[1]):parseInt(d[1],10);p<Number.MAX_SAFE_INTEGER&&typeof p=="bigint"&&(p=Number(p)),g<Number.MAX_SAFE_INTEGER&&typeof g=="bigint"&&(g=Number(g));var b;typeof g=="bigint"||typeof p=="bigint"?b=j.BigInt(g)-j.BigInt(p)+j.BigInt(1):b=g-p+1,typeof b=="bigint"&&b<Number.MAX_SAFE_INTEGER&&(b=Number(b)),c.byterange={length:b,offset:p}}return c},B5=function(e){var i;return typeof e.offset=="bigint"||typeof e.length=="bigint"?i=j.BigInt(e.offset)+j.BigInt(e.length)-j.BigInt(1):i=e.offset+e.length-1,e.offset+"-"+i},_w=function(e){return e&&typeof e!="number"&&(e=parseInt(e,10)),isNaN(e)?null:e},z5={static:function(e){var i=e.duration,r=e.timescale,n=r===void 0?1:r,s=e.sourceDuration,a=e.periodDuration,o=_w(e.endNumber),l=i/n;return typeof o=="number"?{start:0,end:o}:typeof a=="number"?{start:0,end:a/l}:{start:0,end:s/l}},dynamic:function(e){var i=e.NOW,r=e.clientOffset,n=e.availabilityStartTime,s=e.timescale,a=s===void 0?1:s,o=e.duration,l=e.periodStart,u=l===void 0?0:l,c=e.minimumUpdatePeriod,f=c===void 0?0:c,d=e.timeShiftBufferDepth,p=d===void 0?1/0:d,g=_w(e.endNumber),b=(i+r)/1e3,y=n+u,T=b+f,S=T-y,I=Math.ceil(S*a/o),O=Math.floor((b-y-p)*a/o),M=Math.floor((b-y)*a/o);return{start:Math.max(0,O),end:typeof g=="number"?g:Math.min(I,M)}}},V5=function(e){return function(i){var r=e.duration,n=e.timescale,s=n===void 0?1:n,a=e.periodStart,o=e.startNumber,l=o===void 0?1:o;return{number:l+i,duration:r/s,timeline:a,time:i*r}}},$y=function(e){var i=e.type,r=e.duration,n=e.timescale,s=n===void 0?1:n,a=e.periodDuration,o=e.sourceDuration,l=z5[i](e),u=l.start,c=l.end,f=N5(u,c).map(V5(e));if(i==="static"){var d=f.length-1,p=typeof a=="number"?a:o;f[d].duration=p-r/s*d}return f},VP=function(e){var i=e.baseUrl,r=e.initialization,n=r===void 0?{}:r,s=e.sourceDuration,a=e.indexRange,o=a===void 0?"":a,l=e.periodStart,u=e.presentationTime,c=e.number,f=c===void 0?0:c,d=e.duration;if(!i)throw new Error(mo.NO_BASE_URL);var p=Nu({baseUrl:i,source:n.sourceURL,range:n.range}),g=Nu({baseUrl:i,source:i,indexRange:o});if(g.map=p,d){var b=$y(e);b.length&&(g.duration=b[0].duration,g.timeline=b[0].timeline)}else s&&(g.duration=s,g.timeline=l);return g.presentationTime=u||l,g.number=f,[g]},Gy=function(e,i,r){var n=e.sidx.map?e.sidx.map:null,s=e.sidx.duration,a=e.timeline||0,o=e.sidx.byterange,l=o.offset+o.length,u=i.timescale,c=i.references.filter(function(C){return C.referenceType!==1}),f=[],d=e.endList?"static":"dynamic",p=e.sidx.timeline,g=p,b=e.mediaSequence||0,y;typeof i.firstOffset=="bigint"?y=j.BigInt(l)+i.firstOffset:y=l+i.firstOffset;for(var T=0;T<c.length;T++){var S=i.references[T],I=S.referencedSize,O=S.subsegmentDuration,M=void 0;typeof y=="bigint"?M=y+j.BigInt(I)-j.BigInt(1):M=y+I-1;var R=y+"-"+M,A={baseUrl:r,timescale:u,timeline:a,periodStart:p,presentationTime:g,number:b,duration:O,sourceDuration:s,indexRange:R,type:d},E=VP(A)[0];n&&(E.map=n),f.push(E),typeof y=="bigint"?y+=j.BigInt(I):y+=I,g+=O/u,b++}return e.segments=f,e},H5=["AUDIO","SUBTITLES"],W5=1/60,HP=function(e){return U5(e,function(i){var r=i.timeline;return r}).sort(function(i,r){return i.timeline>r.timeline?1:-1})},q5=function(e,i){for(var r=0;r<e.length;r++)if(e[r].attributes.NAME===i)return e[r];return null},bw=function(e){var i=[];return l5(e,H5,function(r,n,s,a){i=i.concat(r.playlists||[])}),i},Tw=function(e){var i=e.playlist,r=e.mediaSequence;i.mediaSequence=r,i.segments.forEach(function(n,s){n.number=i.mediaSequence+s})},$5=function(e){var i=e.oldPlaylists,r=e.newPlaylists,n=e.timelineStarts;r.forEach(function(s){s.discontinuitySequence=vg(n,function(c){var f=c.timeline;return f===s.timeline});var a=q5(i,s.attributes.NAME);if(!!a&&!s.sidx){var o=s.segments[0],l=vg(a.segments,function(c){return Math.abs(c.presentationTime-o.presentationTime)<W5});if(l===-1){Tw({playlist:s,mediaSequence:a.mediaSequence+a.segments.length}),s.segments[0].discontinuity=!0,s.discontinuityStarts.unshift(0),(!a.segments.length&&s.timeline>a.timeline||a.segments.length&&s.timeline>a.segments[a.segments.length-1].timeline)&&s.discontinuitySequence--;return}var u=a.segments[l];u.discontinuity&&!o.discontinuity&&(o.discontinuity=!0,s.discontinuityStarts.unshift(0),s.discontinuitySequence--),Tw({playlist:s,mediaSequence:a.segments[l].number})}})},G5=function(e){var i=e.oldManifest,r=e.newManifest,n=i.playlists.concat(bw(i)),s=r.playlists.concat(bw(r));return r.timelineStarts=HP([i.timelineStarts,r.timelineStarts]),$5({oldPlaylists:n,newPlaylists:s,timelineStarts:r.timelineStarts}),r},jh=function(e){return e&&e.uri+"-"+B5(e.byterange)},vm=function(e){var i=BP(e.reduce(function(r,n){var s=n.attributes.id+(n.attributes.lang||"");if(!r[s])r[s]=n,r[s].attributes.timelineStarts=[];else{if(n.segments){var a;n.segments[0]&&(n.segments[0].discontinuity=!0),(a=r[s].segments).push.apply(a,n.segments)}n.attributes.contentProtection&&(r[s].attributes.contentProtection=n.attributes.contentProtection)}return r[s].attributes.timelineStarts.push({start:n.attributes.periodStart,timeline:n.attributes.periodStart}),r},{}));return i.map(function(r){return r.discontinuityStarts=F5(r.segments||[],"discontinuity"),r})},Ky=function(e,i){var r=jh(e.sidx),n=r&&i[r]&&i[r].sidx;return n&&Gy(e,n,e.sidx.resolvedUri),e},K5=function(e,i){if(i===void 0&&(i={}),!Object.keys(i).length)return e;for(var r in e)e[r]=Ky(e[r],i);return e},X5=function(e,i){var r,n=e.attributes,s=e.segments,a=e.sidx,o=e.mediaSequence,l=e.discontinuitySequence,u=e.discontinuityStarts,c={attributes:(r={NAME:n.id,BANDWIDTH:n.bandwidth,CODECS:n.codecs},r["PROGRAM-ID"]=1,r),uri:"",endList:n.type==="static",timeline:n.periodStart,resolvedUri:"",targetDuration:n.duration,discontinuitySequence:l,discontinuityStarts:u,timelineStarts:n.timelineStarts,mediaSequence:o,segments:s};return n.contentProtection&&(c.contentProtection=n.contentProtection),a&&(c.sidx=a),i&&(c.attributes.AUDIO="audio",c.attributes.SUBTITLES="subs"),c},Y5=function(e){var i,r=e.attributes,n=e.segments,s=e.mediaSequence,a=e.discontinuityStarts,o=e.discontinuitySequence;typeof n>"u"&&(n=[{uri:r.baseUrl,timeline:r.periodStart,resolvedUri:r.baseUrl||"",duration:r.sourceDuration,number:0}],r.duration=r.sourceDuration);var l=(i={NAME:r.id,BANDWIDTH:r.bandwidth},i["PROGRAM-ID"]=1,i);return r.codecs&&(l.CODECS=r.codecs),{attributes:l,uri:"",endList:r.type==="static",timeline:r.periodStart,resolvedUri:r.baseUrl||"",targetDuration:r.duration,timelineStarts:r.timelineStarts,discontinuityStarts:a,discontinuitySequence:o,mediaSequence:s,segments:n}},Q5=function(e,i,r){i===void 0&&(i={}),r===void 0&&(r=!1);var n,s=e.reduce(function(o,l){var u=l.attributes.role&&l.attributes.role.value||"",c=l.attributes.lang||"",f=l.attributes.label||"main";if(c&&!l.attributes.label){var d=u?" ("+u+")":"";f=""+l.attributes.lang+d}o[f]||(o[f]={language:c,autoselect:!0,default:u==="main",playlists:[],uri:""});var p=Ky(X5(l,r),i);return o[f].playlists.push(p),typeof n>"u"&&u==="main"&&(n=l,n.default=!0),o},{});if(!n){var a=Object.keys(s)[0];s[a].default=!0}return s},J5=function(e,i){return i===void 0&&(i={}),e.reduce(function(r,n){var s=n.attributes.lang||"text";return r[s]||(r[s]={language:s,default:!1,autoselect:!1,playlists:[],uri:""}),r[s].playlists.push(Ky(Y5(n),i)),r},{})},Z5=function(e){return e.reduce(function(i,r){return r&&r.forEach(function(n){var s=n.channel,a=n.language;i[a]={autoselect:!1,default:!1,instreamId:s,language:a},n.hasOwnProperty("aspectRatio")&&(i[a].aspectRatio=n.aspectRatio),n.hasOwnProperty("easyReader")&&(i[a].easyReader=n.easyReader),n.hasOwnProperty("3D")&&(i[a]["3D"]=n["3D"])}),i},{})},e6=function(e){var i,r=e.attributes,n=e.segments,s=e.sidx,a=e.discontinuityStarts,o={attributes:(i={NAME:r.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:r.width,height:r.height},CODECS:r.codecs,BANDWIDTH:r.bandwidth},i["PROGRAM-ID"]=1,i),uri:"",endList:r.type==="static",timeline:r.periodStart,resolvedUri:"",targetDuration:r.duration,discontinuityStarts:a,timelineStarts:r.timelineStarts,segments:n};return r.frameRate&&(o.attributes["FRAME-RATE"]=r.frameRate),r.contentProtection&&(o.contentProtection=r.contentProtection),s&&(o.sidx=s),o},t6=function(e){var i=e.attributes;return i.mimeType==="video/mp4"||i.mimeType==="video/webm"||i.contentType==="video"},i6=function(e){var i=e.attributes;return i.mimeType==="audio/mp4"||i.mimeType==="audio/webm"||i.contentType==="audio"},n6=function(e){var i=e.attributes;return i.mimeType==="text/vtt"||i.contentType==="text"},r6=function(e,i){e.forEach(function(r){r.mediaSequence=0,r.discontinuitySequence=vg(i,function(n){var s=n.timeline;return s===r.timeline}),r.segments&&r.segments.forEach(function(n,s){n.number=s})})},xw=function(e){return e?Object.keys(e).reduce(function(i,r){var n=e[r];return i.concat(n.playlists)},[]):[]},s6=function(e){var i,r=e.dashPlaylists,n=e.locations,s=e.sidxMapping,a=s===void 0?{}:s,o=e.previousManifest;if(!r.length)return{};var l=r[0].attributes,u=l.sourceDuration,c=l.type,f=l.suggestedPresentationDelay,d=l.minimumUpdatePeriod,p=vm(r.filter(t6)).map(e6),g=vm(r.filter(i6)),b=vm(r.filter(n6)),y=r.map(function(A){return A.attributes.captionServices}).filter(Boolean),T={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(i={AUDIO:{},VIDEO:{}},i["CLOSED-CAPTIONS"]={},i.SUBTITLES={},i),uri:"",duration:u,playlists:K5(p,a)};d>=0&&(T.minimumUpdatePeriod=d*1e3),n&&(T.locations=n),c==="dynamic"&&(T.suggestedPresentationDelay=f);var S=T.playlists.length===0,I=g.length?Q5(g,a,S):null,O=b.length?J5(b,a):null,M=p.concat(xw(I),xw(O)),R=M.map(function(A){var E=A.timelineStarts;return E});return T.timelineStarts=HP(R),r6(M,T.timelineStarts),I&&(T.mediaGroups.AUDIO.audio=I),O&&(T.mediaGroups.SUBTITLES.subs=O),y.length&&(T.mediaGroups["CLOSED-CAPTIONS"].cc=Z5(y)),o?G5({oldManifest:o,newManifest:T}):T},a6=function(e,i,r){var n=e.NOW,s=e.clientOffset,a=e.availabilityStartTime,o=e.timescale,l=o===void 0?1:o,u=e.periodStart,c=u===void 0?0:u,f=e.minimumUpdatePeriod,d=f===void 0?0:f,p=(n+s)/1e3,g=a+c,b=p+d,y=b-g;return Math.ceil((y*l-i)/r)},WP=function(e,i){for(var r=e.type,n=e.minimumUpdatePeriod,s=n===void 0?0:n,a=e.media,o=a===void 0?"":a,l=e.sourceDuration,u=e.timescale,c=u===void 0?1:u,f=e.startNumber,d=f===void 0?1:f,p=e.periodStart,g=[],b=-1,y=0;y<i.length;y++){var T=i[y],S=T.d,I=T.r||0,O=T.t||0;b<0&&(b=O),O&&O>b&&(b=O);var M=void 0;if(I<0){var R=y+1;R===i.length?r==="dynamic"&&s>0&&o.indexOf("$Number$")>0?M=a6(e,b,S):M=(l*c-b)/S:M=(i[R].t-b)/S}else M=I+1;for(var A=d+g.length+M,E=d+g.length;E<A;)g.push({number:E,duration:S/c,time:b,timeline:p}),b+=S,E++}return g},o6=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,l6=function(e){return function(i,r,n,s){if(i==="$$")return"$";if(typeof e[r]>"u")return i;var a=""+e[r];return r==="RepresentationID"||(n?s=parseInt(s,10):s=1,a.length>=s)?a:""+new Array(s-a.length+1).join("0")+a}},ww=function(e,i){return e.replace(o6,l6(i))},u6=function(e,i){return!e.duration&&!i?[{number:e.startNumber||1,duration:e.sourceDuration,time:0,timeline:e.periodStart}]:e.duration?$y(e):WP(e,i)},c6=function(e,i){var r={RepresentationID:e.id,Bandwidth:e.bandwidth||0},n=e.initialization,s=n===void 0?{sourceURL:"",range:""}:n,a=Nu({baseUrl:e.baseUrl,source:ww(s.sourceURL,r),range:s.range}),o=u6(e,i);return o.map(function(l){r.Number=l.number,r.Time=l.time;var u=ww(e.media||"",r),c=e.timescale||1,f=e.presentationTimeOffset||0,d=e.periodStart+(l.time-f)/c,p={uri:u,timeline:l.timeline,duration:l.duration,resolvedUri:Ih(e.baseUrl||"",u),map:a,number:l.number,presentationTime:d};return p})},d6=function(e,i){var r=e.baseUrl,n=e.initialization,s=n===void 0?{}:n,a=Nu({baseUrl:r,source:s.sourceURL,range:s.range}),o=Nu({baseUrl:r,source:i.media,range:i.mediaRange});return o.map=a,o},f6=function(e,i){var r=e.duration,n=e.segmentUrls,s=n===void 0?[]:n,a=e.periodStart;if(!r&&!i||r&&i)throw new Error(mo.SEGMENT_TIME_UNSPECIFIED);var o=s.map(function(c){return d6(e,c)}),l;r&&(l=$y(e)),i&&(l=WP(e,i));var u=l.map(function(c,f){if(o[f]){var d=o[f],p=e.timescale||1,g=e.presentationTimeOffset||0;return d.timeline=c.timeline,d.duration=c.duration,d.number=c.number,d.presentationTime=a+(c.time-g)/p,d}}).filter(function(c){return c});return u},h6=function(e){var i=e.attributes,r=e.segmentInfo,n,s;r.template?(s=c6,n=yi(i,r.template)):r.base?(s=VP,n=yi(i,r.base)):r.list&&(s=f6,n=yi(i,r.list));var a={attributes:i};if(!s)return a;var o=s(n,r.segmentTimeline);if(n.duration){var l=n,u=l.duration,c=l.timescale,f=c===void 0?1:c;n.duration=u/f}else o.length?n.duration=o.reduce(function(d,p){return Math.max(d,Math.ceil(p.duration))},0):n.duration=0;return a.attributes=n,a.segments=o,r.base&&n.indexRange&&(a.sidx=o[0],a.segments=[]),a},p6=function(e){return e.map(h6)},Tt=function(e,i){return zP(e.childNodes).filter(function(r){var n=r.tagName;return n===i})},Xy=function(e){return e.textContent.trim()},m6=function(e){return parseFloat(e.split("/").reduce(function(i,r){return i/r}))},Ta=function(e){var i=31536e3,r=30*24*60*60,n=24*60*60,s=60*60,a=60,o=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/,l=o.exec(e);if(!l)return 0;var u=l.slice(1),c=u[0],f=u[1],d=u[2],p=u[3],g=u[4],b=u[5];return parseFloat(c||0)*i+parseFloat(f||0)*r+parseFloat(d||0)*n+parseFloat(p||0)*s+parseFloat(g||0)*a+parseFloat(b||0)},v6=function(e){var i=/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/;return i.test(e)&&(e+="Z"),Date.parse(e)},Sw={mediaPresentationDuration:function(e){return Ta(e)},availabilityStartTime:function(e){return v6(e)/1e3},minimumUpdatePeriod:function(e){return Ta(e)},suggestedPresentationDelay:function(e){return Ta(e)},type:function(e){return e},timeShiftBufferDepth:function(e){return Ta(e)},start:function(e){return Ta(e)},width:function(e){return parseInt(e,10)},height:function(e){return parseInt(e,10)},bandwidth:function(e){return parseInt(e,10)},frameRate:function(e){return m6(e)},startNumber:function(e){return parseInt(e,10)},timescale:function(e){return parseInt(e,10)},presentationTimeOffset:function(e){return parseInt(e,10)},duration:function(e){var i=parseInt(e,10);return isNaN(i)?Ta(e):i},d:function(e){return parseInt(e,10)},t:function(e){return parseInt(e,10)},r:function(e){return parseInt(e,10)},DEFAULT:function(e){return e}},ii=function(e){return e&&e.attributes?zP(e.attributes).reduce(function(i,r){var n=Sw[r.name]||Sw.DEFAULT;return i[r.name]=n(r.value),i},{}):{}},g6={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},Nh=function(e,i){return i.length?Lh(e.map(function(r){return i.map(function(n){return Ih(r,Xy(n))})})):e},Yy=function(e){var i=Tt(e,"SegmentTemplate")[0],r=Tt(e,"SegmentList")[0],n=r&&Tt(r,"SegmentURL").map(function(d){return yi({tag:"SegmentURL"},ii(d))}),s=Tt(e,"SegmentBase")[0],a=r||i,o=a&&Tt(a,"SegmentTimeline")[0],l=r||s||i,u=l&&Tt(l,"Initialization")[0],c=i&&ii(i);c&&u?c.initialization=u&&ii(u):c&&c.initialization&&(c.initialization={sourceURL:c.initialization});var f={template:c,segmentTimeline:o&&Tt(o,"S").map(function(d){return ii(d)}),list:r&&yi(ii(r),{segmentUrls:n,initialization:ii(u)}),base:s&&yi(ii(s),{initialization:ii(u)})};return Object.keys(f).forEach(function(d){f[d]||delete f[d]}),f},y6=function(e,i,r){return function(n){var s=Tt(n,"BaseURL"),a=Nh(i,s),o=yi(e,ii(n)),l=Yy(n);return a.map(function(u){return{segmentInfo:yi(r,l),attributes:yi(o,{baseUrl:u})}})}},_6=function(e){return e.reduce(function(i,r){var n=ii(r);n.schemeIdUri&&(n.schemeIdUri=n.schemeIdUri.toLowerCase());var s=g6[n.schemeIdUri];if(s){i[s]={attributes:n};var a=Tt(r,"cenc:pssh")[0];if(a){var o=Xy(a);i[s].pssh=o&&sP(o)}}return i},{})},b6=function(e){if(e.schemeIdUri==="urn:scte:dash:cc:cea-608:2015"){var i=typeof e.value!="string"?[]:e.value.split(";");return i.map(function(n){var s,a;if(a=n,/^CC\d=/.test(n)){var o=n.split("=");s=o[0],a=o[1]}else/^CC\d$/.test(n)&&(s=n);return{channel:s,language:a}})}else if(e.schemeIdUri==="urn:scte:dash:cc:cea-708:2015"){var r=typeof e.value!="string"?[]:e.value.split(";");return r.map(function(n){var s={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(n)){var a=n.split("="),o=a[0],l=a[1],u=l===void 0?"":l;s.channel=o,s.language=n,u.split(",").forEach(function(c){var f=c.split(":"),d=f[0],p=f[1];d==="lang"?s.language=p:d==="er"?s.easyReader=Number(p):d==="war"?s.aspectRatio=Number(p):d==="3D"&&(s["3D"]=Number(p))})}else s.language=n;return s.channel&&(s.channel="SERVICE"+s.channel),s})}},T6=function(e,i,r){return function(n){var s=ii(n),a=Nh(i,Tt(n,"BaseURL")),o=Tt(n,"Role")[0],l={role:ii(o)},u=yi(e,s,l),c=Tt(n,"Accessibility")[0],f=b6(ii(c));f&&(u=yi(u,{captionServices:f}));var d=Tt(n,"Label")[0];if(d&&d.childNodes.length){var p=d.childNodes[0].nodeValue.trim();u=yi(u,{label:p})}var g=_6(Tt(n,"ContentProtection"));Object.keys(g).length&&(u=yi(u,{contentProtection:g}));var b=Yy(n),y=Tt(n,"Representation"),T=yi(r,b);return Lh(y.map(y6(u,a,T)))}},x6=function(e,i){return function(r,n){var s=Nh(i,Tt(r.node,"BaseURL")),a=yi(e,{periodStart:r.attributes.start});typeof r.attributes.duration=="number"&&(a.periodDuration=r.attributes.duration);var o=Tt(r.node,"AdaptationSet"),l=Yy(r.node);return Lh(o.map(T6(a,s,l)))}},w6=function(e){var i=e.attributes,r=e.priorPeriodAttributes,n=e.mpdType;return typeof i.start=="number"?i.start:r&&typeof r.start=="number"&&typeof r.duration=="number"?r.start+r.duration:!r&&n==="static"?0:null},S6=function(e,i){i===void 0&&(i={});var r=i,n=r.manifestUri,s=n===void 0?"":n,a=r.NOW,o=a===void 0?Date.now():a,l=r.clientOffset,u=l===void 0?0:l,c=Tt(e,"Period");if(!c.length)throw new Error(mo.INVALID_NUMBER_OF_PERIOD);var f=Tt(e,"Location"),d=ii(e),p=Nh([s],Tt(e,"BaseURL"));d.type=d.type||"static",d.sourceDuration=d.mediaPresentationDuration||0,d.NOW=o,d.clientOffset=u,f.length&&(d.locations=f.map(Xy));var g=[];return c.forEach(function(b,y){var T=ii(b),S=g[y-1];T.start=w6({attributes:T,priorPeriodAttributes:S?S.attributes:null,mpdType:d.type}),g.push({node:b,attributes:T})}),{locations:d.locations,representationInfo:Lh(g.map(x6(d,p)))}},qP=function(e){if(e==="")throw new Error(mo.DASH_EMPTY_MANIFEST);var i=new j5,r,n;try{r=i.parseFromString(e,"application/xml"),n=r&&r.documentElement.tagName==="MPD"?r.documentElement:null}catch{}if(!n||n&&n.getElementsByTagName("parsererror").length>0)throw new Error(mo.DASH_INVALID_XML);return n},E6=function(e){var i=Tt(e,"UTCTiming")[0];if(!i)return null;var r=ii(i);switch(r.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":r.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":r.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":r.method="DIRECT",r.value=Date.parse(r.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(mo.UNSUPPORTED_UTC_TIMING_SCHEME)}return r},C6=function(e,i){i===void 0&&(i={});var r=S6(qP(e),i),n=p6(r.representationInfo);return s6({dashPlaylists:n,locations:r.locations,sidxMapping:i.sidxMapping,previousManifest:i.previousManifest})},k6=function(e){return E6(qP(e))},$P=Math.pow(2,32),P6=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),i;return e.getBigUint64?(i=e.getBigUint64(0),i<Number.MAX_SAFE_INTEGER?Number(i):i):e.getUint32(0)*$P+e.getUint32(4)},O6={getUint64:P6,MAX_UINT32:$P},Ew=O6.getUint64,A6=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:e.getUint32(4),timescale:e.getUint32(8)},r=12;i.version===0?(i.earliestPresentationTime=e.getUint32(r),i.firstOffset=e.getUint32(r+4),r+=8):(i.earliestPresentationTime=Ew(t.subarray(r)),i.firstOffset=Ew(t.subarray(r+8)),r+=16),r+=2;var n=e.getUint16(r);for(r+=2;n>0;r+=12,n--)i.references.push({referenceType:(t[r]&128)>>>7,referencedSize:e.getUint32(r)&2147483647,subsegmentDuration:e.getUint32(r+4),startsWithSap:!!(t[r+8]&128),sapType:(t[r+8]&112)>>>4,sapDeltaTime:e.getUint32(r+8)&268435455});return i},I6=A6,D6=Te([73,68,51]),M6=function(e,i){i===void 0&&(i=0),e=Te(e);var r=e[i+5],n=e[i+6]<<21|e[i+7]<<14|e[i+8]<<7|e[i+9],s=(r&16)>>4;return s?n+20:n+10},Ml=function t(e,i){return i===void 0&&(i=0),e=Te(e),e.length-i<10||!at(e,D6,{offset:i})?i:(i+=M6(e,i),t(e,i))},Cw=function(e){return typeof e=="string"?cP(e):e},R6=function(e){return Array.isArray(e)?e.map(function(i){return Cw(i)}):[Cw(e)]},L6=function t(e,i,r){r===void 0&&(r=!1),i=R6(i),e=Te(e);var n=[];if(!i.length)return n;for(var s=0;s<e.length;){var a=(e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3])>>>0,o=e.subarray(s+4,s+8);if(a===0)break;var l=s+a;if(l>e.length){if(r)break;l=e.length}var u=e.subarray(s+8,l);at(o,i[0])&&(i.length===1?n.push(u):n.push.apply(n,t(u,i.slice(1),r))),s=l}return n},ld={EBML:Te([26,69,223,163]),DocType:Te([66,130]),Segment:Te([24,83,128,103]),SegmentInfo:Te([21,73,169,102]),Tracks:Te([22,84,174,107]),Track:Te([174]),TrackNumber:Te([215]),DefaultDuration:Te([35,227,131]),TrackEntry:Te([174]),TrackType:Te([131]),FlagDefault:Te([136]),CodecID:Te([134]),CodecPrivate:Te([99,162]),VideoTrack:Te([224]),AudioTrack:Te([225]),Cluster:Te([31,67,182,117]),Timestamp:Te([231]),TimestampScale:Te([42,215,177]),BlockGroup:Te([160]),BlockDuration:Te([155]),Block:Te([161]),SimpleBlock:Te([163])},gg=[128,64,32,16,8,4,2,1],j6=function(e){for(var i=1,r=0;r<gg.length&&!(e&gg[r]);r++)i++;return i},Af=function(e,i,r,n){r===void 0&&(r=!0),n===void 0&&(n=!1);var s=j6(e[i]),a=e.subarray(i,i+s);return r&&(a=Array.prototype.slice.call(e,i,i+s),a[0]^=gg[s-1]),{length:s,value:s5(a,{signed:n}),bytes:a}},kw=function t(e){return typeof e=="string"?e.match(/.{1,2}/g).map(function(i){return t(i)}):typeof e=="number"?a5(e):e},N6=function(e){return Array.isArray(e)?e.map(function(i){return kw(i)}):[kw(e)]},F6=function t(e,i,r){if(r>=i.length)return i.length;var n=Af(i,r,!1);if(at(e.bytes,n.bytes))return r;var s=Af(i,r+n.length);return t(e,i,r+s.length+s.value+n.length)},Pw=function t(e,i){i=N6(i),e=Te(e);var r=[];if(!i.length)return r;for(var n=0;n<e.length;){var s=Af(e,n,!1),a=Af(e,n+s.length),o=n+s.length+a.length;a.value===127&&(a.value=F6(s,e,o),a.value!==e.length&&(a.value-=o));var l=o+a.value>e.length?e.length:o+a.value,u=e.subarray(o,l);at(i[0],s.bytes)&&(i.length===1?r.push(u):r=r.concat(t(u,i.slice(1))));var c=s.length+a.length+u.length;n+=c}return r},U6=Te([0,0,0,1]),B6=Te([0,0,1]),z6=Te([0,0,3]),V6=function(e){for(var i=[],r=1;r<e.length-2;)at(e.subarray(r,r+3),z6)&&(i.push(r+2),r++),r++;if(i.length===0)return e;var n=e.length-i.length,s=new Uint8Array(n),a=0;for(r=0;r<n;a++,r++)a===i[0]&&(a++,i.shift()),s[r]=e[a];return s},GP=function(e,i,r,n){n===void 0&&(n=1/0),e=Te(e),r=[].concat(r);for(var s=0,a,o=0;s<e.length&&(o<n||a);){var l=void 0;if(at(e.subarray(s),U6)?l=4:at(e.subarray(s),B6)&&(l=3),!l){s++;continue}if(o++,a)return V6(e.subarray(a,s));var u=void 0;i==="h264"?u=e[s+l]&31:i==="h265"&&(u=e[s+l]>>1&63),r.indexOf(u)!==-1&&(a=s+l),s+=l+(i==="h264"?1:2)}return e.subarray(0,0)},H6=function(e,i,r){return GP(e,"h264",i,r)},W6=function(e,i,r){return GP(e,"h265",i,r)},fi={webm:Te([119,101,98,109]),matroska:Te([109,97,116,114,111,115,107,97]),flac:Te([102,76,97,67]),ogg:Te([79,103,103,83]),ac3:Te([11,119]),riff:Te([82,73,70,70]),avi:Te([65,86,73]),wav:Te([87,65,86,69]),"3gp":Te([102,116,121,112,51,103]),mp4:Te([102,116,121,112]),fmp4:Te([115,116,121,112]),mov:Te([102,116,121,112,113,116]),moov:Te([109,111,111,118]),moof:Te([109,111,111,102])},vo={aac:function(e){var i=Ml(e);return at(e,[255,16],{offset:i,mask:[255,22]})},mp3:function(e){var i=Ml(e);return at(e,[255,2],{offset:i,mask:[255,6]})},webm:function(e){var i=Pw(e,[ld.EBML,ld.DocType])[0];return at(i,fi.webm)},mkv:function(e){var i=Pw(e,[ld.EBML,ld.DocType])[0];return at(i,fi.matroska)},mp4:function(e){if(vo["3gp"](e)||vo.mov(e))return!1;if(at(e,fi.mp4,{offset:4})||at(e,fi.fmp4,{offset:4})||at(e,fi.moof,{offset:4})||at(e,fi.moov,{offset:4}))return!0},mov:function(e){return at(e,fi.mov,{offset:4})},"3gp":function(e){return at(e,fi["3gp"],{offset:4})},ac3:function(e){var i=Ml(e);return at(e,fi.ac3,{offset:i})},ts:function(e){if(e.length<189&&e.length>=1)return e[0]===71;for(var i=0;i+188<e.length&&i<188;){if(e[i]===71&&e[i+188]===71)return!0;i+=1}return!1},flac:function(e){var i=Ml(e);return at(e,fi.flac,{offset:i})},ogg:function(e){return at(e,fi.ogg)},avi:function(e){return at(e,fi.riff)&&at(e,fi.avi,{offset:8})},wav:function(e){return at(e,fi.riff)&&at(e,fi.wav,{offset:8})},h264:function(e){return H6(e,7,3).length},h265:function(e){return W6(e,[32,33],3).length}},yg=Object.keys(vo).filter(function(t){return t!=="ts"&&t!=="h264"&&t!=="h265"}).concat(["ts","h264","h265"]);yg.forEach(function(t){var e=vo[t];vo[t]=function(i){return e(Te(i))}});var q6=vo,Qy=function(e){e=Te(e);for(var i=0;i<yg.length;i++){var r=yg[i];if(q6[r](e))return r}return""},$6=function(e){return L6(e,["moof"]).length>0},Jy=9e4,Zy,e_,Fh,t_,KP,XP,YP;Zy=function(t){return t*Jy};e_=function(t,e){return t*e};Fh=function(t){return t/Jy};t_=function(t,e){return t/e};KP=function(t,e){return Zy(t_(t,e))};XP=function(t,e){return e_(Fh(t),e)};YP=function(t,e,i){return Fh(i?t:t-e)};var If={ONE_SECOND_IN_TS:Jy,secondsToVideoTs:Zy,secondsToAudioTs:e_,videoTsToSeconds:Fh,audioTsToSeconds:t_,audioTsToVideoTs:KP,videoTsToAudioTs:XP,metadataTsToSeconds:YP};function _g(t){return _g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},_g(t)}function G6(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function bg(t){var e=typeof Map=="function"?new Map:void 0;return bg=function(r){if(r===null||!G6(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(r))return e.get(r);e.set(r,n)}function n(){return iu(r,arguments,_g(this).constructor)}return n.prototype=Object.create(r.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),co(n,r)},bg(t)}/**
 * @license
 * Video.js 7.21.2 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/main/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/main/LICENSE>
 */var QP="7.21.2",dr={},ds=function(e,i){return dr[e]=dr[e]||[],i&&(dr[e]=dr[e].concat(i)),dr[e]},K6=function(e,i){ds(e,i)},JP=function(e,i){var r=ds(e).indexOf(i);return r<=-1?!1:(dr[e]=dr[e].slice(),dr[e].splice(r,1),!0)},X6=function(e,i){ds(e,[].concat(i).map(function(r){var n=function s(){return JP(e,s),r.apply(void 0,arguments)};return n}))},Df={prefixed:!0},Nd=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"]],Ow=Nd[0],Rl;for(var ud=0;ud<Nd.length;ud++)if(Nd[ud][1]in ae){Rl=Nd[ud];break}if(Rl){for(var cd=0;cd<Rl.length;cd++)Df[Ow[cd]]=Rl[cd];Df.prefixed=Rl[0]!==Ow[0]}var Ai=[],Y6=function(e,i){return function(r,n,s){var a=i.levels[n],o=new RegExp("^("+a+")$");if(r!=="log"&&s.unshift(r.toUpperCase()+":"),s.unshift(e+":"),Ai){Ai.push([].concat(s));var l=Ai.length-1e3;Ai.splice(0,l>0?l:0)}if(!!j.console){var u=j.console[r];!u&&r==="debug"&&(u=j.console.info||j.console.log),!(!u||!a||!o.test(r))&&u[Array.isArray(s)?"apply":"call"](j.console,s)}}};function ZP(t){var e="info",i,r=function(){for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];i("log",e,a)};return i=Y6(t,r),r.createLogger=function(n){return ZP(t+": "+n)},r.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:e},r.level=function(n){if(typeof n=="string"){if(!r.levels.hasOwnProperty(n))throw new Error('"'+n+'" in not a valid log level');e=n}return e},r.history=function(){return Ai?[].concat(Ai):[]},r.history.filter=function(n){return(Ai||[]).filter(function(s){return new RegExp(".*"+n+".*").test(s[0])})},r.history.clear=function(){Ai&&(Ai.length=0)},r.history.disable=function(){Ai!==null&&(Ai.length=0,Ai=null)},r.history.enable=function(){Ai===null&&(Ai=[])},r.error=function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return i("error",e,s)},r.warn=function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return i("warn",e,s)},r.debug=function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return i("debug",e,s)},r}var Le=ZP("VIDEOJS"),eO=Le.createLogger,Q6=Object.prototype.toString,tO=function(e){return kr(e)?Object.keys(e):[]};function Qa(t,e){tO(t).forEach(function(i){return e(t[i],i)})}function J6(t,e,i){return i===void 0&&(i=0),tO(t).reduce(function(r,n){return e(r,t[n],n)},i)}function pt(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];return Object.assign?yn.apply(void 0,[t].concat(i)):(i.forEach(function(n){!n||Qa(n,function(s,a){t[a]=s})}),t)}function kr(t){return!!t&&typeof t=="object"}function Fu(t){return kr(t)&&Q6.call(t)==="[object Object]"&&t.constructor===Object}function Uu(t,e){if(!t||!e)return"";if(typeof j.getComputedStyle=="function"){var i;try{i=j.getComputedStyle(t)}catch{return""}return i?i.getPropertyValue(e)||i[e]:""}return""}var Lt=j.navigator&&j.navigator.userAgent||"",Aw=/AppleWebKit\/([\d.]+)/i.exec(Lt),Z6=Aw?parseFloat(Aw.pop()):null,iO=/iPod/i.test(Lt),eV=function(){var t=Lt.match(/OS (\d+)_/i);return t&&t[1]?t[1]:null}(),Ir=/Android/i.test(Lt),i_=function(){var t=Lt.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;var e=t[1]&&parseFloat(t[1]),i=t[2]&&parseFloat(t[2]);return e&&i?parseFloat(t[1]+"."+t[2]):e||null}(),nO=Ir&&i_<5&&Z6<537,rO=/Firefox/i.test(Lt),mc=/Edg/i.test(Lt),Dr=!mc&&(/Chrome/i.test(Lt)||/CriOS/i.test(Lt)),sO=function(){var t=Lt.match(/(Chrome|CriOS)\/(\d+)/);return t&&t[2]?parseFloat(t[2]):null}(),vc=function(){var t=/MSIE\s(\d+)\.\d/.exec(Lt),e=t&&parseFloat(t[1]);return!e&&/Trident\/7.0/i.test(Lt)&&/rv:11.0/.test(Lt)&&(e=11),e}(),n_=/Safari/i.test(Lt)&&!Dr&&!Ir&&!mc,aO=/Windows/i.test(Lt),go=Boolean(No()&&("ontouchstart"in j||j.navigator.maxTouchPoints||j.DocumentTouch&&j.document instanceof j.DocumentTouch)),r_=/iPad/i.test(Lt)||n_&&go&&!/iPhone/i.test(Lt),s_=/iPhone/i.test(Lt)&&!r_,Si=s_||r_||iO,Uh=(n_||Si)&&!Dr,tV=Object.freeze({__proto__:null,IS_IPOD:iO,IOS_VERSION:eV,IS_ANDROID:Ir,ANDROID_VERSION:i_,IS_NATIVE_ANDROID:nO,IS_FIREFOX:rO,IS_EDGE:mc,IS_CHROME:Dr,CHROME_VERSION:sO,IE_VERSION:vc,IS_SAFARI:n_,IS_WINDOWS:aO,TOUCH_ENABLED:go,IS_IPAD:r_,IS_IPHONE:s_,IS_IOS:Si,IS_ANY_SAFARI:Uh});function Iw(t){return typeof t=="string"&&Boolean(t.trim())}function oO(t){if(t.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function iV(t){return new RegExp("(^|\\s)"+t+"($|\\s)")}function No(){return ae===j.document}function Fo(t){return kr(t)&&t.nodeType===1}function lO(){try{return j.parent!==j.self}catch{return!0}}function uO(t){return function(e,i){if(!Iw(e))return ae[t](null);Iw(i)&&(i=ae.querySelector(i));var r=Fo(i)?i:ae;return r[t]&&r[t](e)}}function Ue(t,e,i,r){t===void 0&&(t="div"),e===void 0&&(e={}),i===void 0&&(i={});var n=ae.createElement(t);return Object.getOwnPropertyNames(e).forEach(function(s){var a=e[s];s.indexOf("aria-")!==-1||s==="role"||s==="type"?(Le.warn(`Setting attributes in the second argument of createEl()
has been deprecated. Use the third argument instead.
`+("createEl(type, properties, attributes). Attempting to set "+s+" to "+a+".")),n.setAttribute(s,a)):s==="textContent"?ua(n,a):(n[s]!==a||s==="tabIndex")&&(n[s]=a)}),Object.getOwnPropertyNames(i).forEach(function(s){n.setAttribute(s,i[s])}),r&&o_(n,r),n}function ua(t,e){return typeof t.textContent>"u"?t.innerText=e:t.textContent=e,t}function Tg(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function zs(t,e){return oO(e),t.classList?t.classList.contains(e):iV(e).test(t.className)}function _r(t,e){return t.classList?t.classList.add(e):zs(t,e)||(t.className=(t.className+" "+e).trim()),t}function gc(t,e){return t?(t.classList?t.classList.remove(e):(oO(e),t.className=t.className.split(/\s+/).filter(function(i){return i!==e}).join(" ")),t):(Le.warn("removeClass was called with an element that doesn't exist"),null)}function cO(t,e,i){var r=zs(t,e);if(typeof i=="function"&&(i=i(t,e)),typeof i!="boolean"&&(i=!r),i!==r)return i?_r(t,e):gc(t,e),t}function dO(t,e){Object.getOwnPropertyNames(e).forEach(function(i){var r=e[i];r===null||typeof r>"u"||r===!1?t.removeAttribute(i):t.setAttribute(i,r===!0?"":r)})}function lr(t){var e={},i=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(t&&t.attributes&&t.attributes.length>0)for(var r=t.attributes,n=r.length-1;n>=0;n--){var s=r[n].name,a=r[n].value;(typeof t[s]=="boolean"||i.indexOf(","+s+",")!==-1)&&(a=a!==null),e[s]=a}return e}function fO(t,e){return t.getAttribute(e)}function yo(t,e,i){t.setAttribute(e,i)}function Bh(t,e){t.removeAttribute(e)}function hO(){ae.body.focus(),ae.onselectstart=function(){return!1}}function pO(){ae.onselectstart=function(){return!0}}function _o(t){if(t&&t.getBoundingClientRect&&t.parentNode){var e=t.getBoundingClientRect(),i={};return["bottom","height","left","right","top","width"].forEach(function(r){e[r]!==void 0&&(i[r]=e[r])}),i.height||(i.height=parseFloat(Uu(t,"height"))),i.width||(i.width=parseFloat(Uu(t,"width"))),i}}function Bu(t){if(!t||t&&!t.offsetParent)return{left:0,top:0,width:0,height:0};for(var e=t.offsetWidth,i=t.offsetHeight,r=0,n=0;t.offsetParent&&t!==ae[Df.fullscreenElement];)r+=t.offsetLeft,n+=t.offsetTop,t=t.offsetParent;return{left:r,top:n,width:e,height:i}}function zh(t,e){var i={x:0,y:0};if(Si)for(var r=t;r&&r.nodeName.toLowerCase()!=="html";){var n=Uu(r,"transform");if(/^matrix/.test(n)){var s=n.slice(7,-1).split(/,\s/).map(Number);i.x+=s[4],i.y+=s[5]}else if(/^matrix3d/.test(n)){var a=n.slice(9,-1).split(/,\s/).map(Number);i.x+=a[12],i.y+=a[13]}r=r.parentNode}var o={},l=Bu(e.target),u=Bu(t),c=u.width,f=u.height,d=e.offsetY-(u.top-l.top),p=e.offsetX-(u.left-l.left);return e.changedTouches&&(p=e.changedTouches[0].pageX-u.left,d=e.changedTouches[0].pageY+u.top,Si&&(p-=i.x,d-=i.y)),o.y=1-Math.max(0,Math.min(1,d/f)),o.x=Math.max(0,Math.min(1,p/c)),o}function mO(t){return kr(t)&&t.nodeType===3}function a_(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function vO(t){return typeof t=="function"&&(t=t()),(Array.isArray(t)?t:[t]).map(function(e){if(typeof e=="function"&&(e=e()),Fo(e)||mO(e))return e;if(typeof e=="string"&&/\S/.test(e))return ae.createTextNode(e)}).filter(function(e){return e})}function o_(t,e){return vO(e).forEach(function(i){return t.appendChild(i)}),t}function gO(t,e){return o_(a_(t),e)}function zu(t){return t.button===void 0&&t.buttons===void 0||t.button===0&&t.buttons===void 0||t.type==="mouseup"&&t.button===0&&t.buttons===0?!0:!(t.button!==0||t.buttons!==1)}var fs=uO("querySelector"),yO=uO("querySelectorAll"),_O=Object.freeze({__proto__:null,isReal:No,isEl:Fo,isInFrame:lO,createEl:Ue,textContent:ua,prependTo:Tg,hasClass:zs,addClass:_r,removeClass:gc,toggleClass:cO,setAttributes:dO,getAttributes:lr,getAttribute:fO,setAttribute:yo,removeAttribute:Bh,blockTextSelection:hO,unblockTextSelection:pO,getBoundingClientRect:_o,findPosition:Bu,getPointerPosition:zh,isTextNode:mO,emptyEl:a_,normalizeContent:vO,appendContent:o_,insertContent:gO,isSingleLeftClick:zu,$:fs,$$:yO}),bO=!1,xg,nV=function(){if(xg.options.autoSetup!==!1){var e=Array.prototype.slice.call(ae.getElementsByTagName("video")),i=Array.prototype.slice.call(ae.getElementsByTagName("audio")),r=Array.prototype.slice.call(ae.getElementsByTagName("video-js")),n=e.concat(i,r);if(n&&n.length>0)for(var s=0,a=n.length;s<a;s++){var o=n[s];if(o&&o.getAttribute){if(o.player===void 0){var l=o.getAttribute("data-setup");l!==null&&xg(o)}}else{wg(1);break}}else bO||wg(1)}};function wg(t,e){!No()||(e&&(xg=e),j.setTimeout(nV,t))}function Sg(){bO=!0,j.removeEventListener("load",Sg)}No()&&(ae.readyState==="complete"?Sg():j.addEventListener("load",Sg));var TO=function(e){var i=ae.createElement("style");return i.className=e,i},xO=function(e,i){e.styleSheet?e.styleSheet.cssText=i:e.textContent=i},rV=3,sV=rV;function Mr(){return sV++}var wO;j.WeakMap||(wO=function(){function t(){this.vdata="vdata"+Math.floor(j.performance&&j.performance.now()||Date.now()),this.data={}}var e=t.prototype;return e.set=function(r,n){var s=r[this.vdata]||Mr();return r[this.vdata]||(r[this.vdata]=s),this.data[s]=n,this},e.get=function(r){var n=r[this.vdata];if(n)return this.data[n];Le("We have no data for this element",r)},e.has=function(r){var n=r[this.vdata];return n in this.data},e.delete=function(r){var n=r[this.vdata];n&&(delete this.data[n],delete r[this.vdata])},t}());var _i=j.WeakMap?new WeakMap:new wO;function Dw(t,e){if(!!_i.has(t)){var i=_i.get(t);i.handlers[e].length===0&&(delete i.handlers[e],t.removeEventListener?t.removeEventListener(e,i.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,i.dispatcher)),Object.getOwnPropertyNames(i.handlers).length<=0&&(delete i.handlers,delete i.dispatcher,delete i.disabled),Object.getOwnPropertyNames(i).length===0&&_i.delete(t)}}function l_(t,e,i,r){i.forEach(function(n){t(e,n,r)})}function Vh(t){if(t.fixed_)return t;function e(){return!0}function i(){return!1}if(!t||!t.isPropagationStopped||!t.isImmediatePropagationStopped){var r=t||j.event;t={};for(var n in r)n!=="layerX"&&n!=="layerY"&&n!=="keyLocation"&&n!=="webkitMovementX"&&n!=="webkitMovementY"&&n!=="path"&&(n==="returnValue"&&r.preventDefault||(t[n]=r[n]));if(t.target||(t.target=t.srcElement||ae),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){r.preventDefault&&r.preventDefault(),t.returnValue=!1,r.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){r.stopPropagation&&r.stopPropagation(),t.cancelBubble=!0,r.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=i,t.stopImmediatePropagation=function(){r.stopImmediatePropagation&&r.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=i,t.clientX!==null&&t.clientX!==void 0){var s=ae.documentElement,a=ae.body;t.pageX=t.clientX+(s&&s.scrollLeft||a&&a.scrollLeft||0)-(s&&s.clientLeft||a&&a.clientLeft||0),t.pageY=t.clientY+(s&&s.scrollTop||a&&a.scrollTop||0)-(s&&s.clientTop||a&&a.clientTop||0)}t.which=t.charCode||t.keyCode,t.button!==null&&t.button!==void 0&&(t.button=t.button&1?0:t.button&4?1:t.button&2?2:0)}return t.fixed_=!0,t}var dd,aV=function(){if(typeof dd!="boolean"){dd=!1;try{var e=Object.defineProperty({},"passive",{get:function(){dd=!0}});j.addEventListener("test",null,e),j.removeEventListener("test",null,e)}catch{}}return dd},oV=["touchstart","touchmove"];function en(t,e,i){if(Array.isArray(e))return l_(en,t,e,i);_i.has(t)||_i.set(t,{});var r=_i.get(t);if(r.handlers||(r.handlers={}),r.handlers[e]||(r.handlers[e]=[]),i.guid||(i.guid=Mr()),r.handlers[e].push(i),r.dispatcher||(r.disabled=!1,r.dispatcher=function(s,a){if(!r.disabled){s=Vh(s);var o=r.handlers[s.type];if(o)for(var l=o.slice(0),u=0,c=l.length;u<c&&!s.isImmediatePropagationStopped();u++)try{l[u].call(t,s,a)}catch(f){Le.error(f)}}}),r.handlers[e].length===1)if(t.addEventListener){var n=!1;aV()&&oV.indexOf(e)>-1&&(n={passive:!0}),t.addEventListener(e,r.dispatcher,n)}else t.attachEvent&&t.attachEvent("on"+e,r.dispatcher)}function si(t,e,i){if(!!_i.has(t)){var r=_i.get(t);if(!!r.handlers){if(Array.isArray(e))return l_(si,t,e,i);var n=function(u,c){r.handlers[c]=[],Dw(u,c)};if(e===void 0){for(var s in r.handlers)Object.prototype.hasOwnProperty.call(r.handlers||{},s)&&n(t,s);return}var a=r.handlers[e];if(!!a){if(!i){n(t,e);return}if(i.guid)for(var o=0;o<a.length;o++)a[o].guid===i.guid&&a.splice(o--,1);Dw(t,e)}}}}function Uo(t,e,i){var r=_i.has(t)?_i.get(t):{},n=t.parentNode||t.ownerDocument;if(typeof e=="string"?e={type:e,target:t}:e.target||(e.target=t),e=Vh(e),r.dispatcher&&r.dispatcher.call(t,e,i),n&&!e.isPropagationStopped()&&e.bubbles===!0)Uo.call(null,n,e,i);else if(!n&&!e.defaultPrevented&&e.target&&e.target[e.type]){_i.has(e.target)||_i.set(e.target,{});var s=_i.get(e.target);e.target[e.type]&&(s.disabled=!0,typeof e.target[e.type]=="function"&&e.target[e.type](),s.disabled=!1)}return!e.defaultPrevented}function Hh(t,e,i){if(Array.isArray(e))return l_(Hh,t,e,i);var r=function n(){si(t,e,n),i.apply(this,arguments)};r.guid=i.guid=i.guid||Mr(),en(t,e,r)}function SO(t,e,i){var r=function n(){si(t,e,n),i.apply(this,arguments)};r.guid=i.guid=i.guid||Mr(),en(t,e,r)}var lV=Object.freeze({__proto__:null,fixEvent:Vh,on:en,off:si,trigger:Uo,one:Hh,any:SO}),Mn=30,it=function(e,i,r){i.guid||(i.guid=Mr());var n=i.bind(e);return n.guid=r?r+"_"+i.guid:i.guid,n},Pr=function(e,i){var r=j.performance.now(),n=function(){var a=j.performance.now();a-r>=i&&(e.apply(void 0,arguments),r=a)};return n},uV=function(e,i,r,n){n===void 0&&(n=j);var s,a=function(){n.clearTimeout(s),s=null},o=function(){var u=this,c=arguments,f=function(){s=null,f=null,r||e.apply(u,c)};!s&&r&&e.apply(u,c),n.clearTimeout(s),s=n.setTimeout(f,i)};return o.cancel=a,o},Ut=function(){};Ut.prototype.allowedEvents_={};Ut.prototype.on=function(t,e){var i=this.addEventListener;this.addEventListener=function(){},en(this,t,e),this.addEventListener=i};Ut.prototype.addEventListener=Ut.prototype.on;Ut.prototype.off=function(t,e){si(this,t,e)};Ut.prototype.removeEventListener=Ut.prototype.off;Ut.prototype.one=function(t,e){var i=this.addEventListener;this.addEventListener=function(){},Hh(this,t,e),this.addEventListener=i};Ut.prototype.any=function(t,e){var i=this.addEventListener;this.addEventListener=function(){},SO(this,t,e),this.addEventListener=i};Ut.prototype.trigger=function(t){var e=t.type||t;typeof t=="string"&&(t={type:e}),t=Vh(t),this.allowedEvents_[e]&&this["on"+e]&&this["on"+e](t),Uo(this,t)};Ut.prototype.dispatchEvent=Ut.prototype.trigger;var _l;Ut.prototype.queueTrigger=function(t){var e=this;_l||(_l=new Map);var i=t.type||t,r=_l.get(this);r||(r=new Map,_l.set(this,r));var n=r.get(i);r.delete(i),j.clearTimeout(n);var s=j.setTimeout(function(){r.delete(i),r.size===0&&(r=null,_l.delete(e)),e.trigger(t)},0);r.set(i,s)};var Wh=function(e){return typeof e.name=="function"?e.name():typeof e.name=="string"?e.name:e.name_?e.name_:e.constructor&&e.constructor.name?e.constructor.name:typeof e},br=function(e){return e instanceof Ut||!!e.eventBusEl_&&["on","one","off","trigger"].every(function(i){return typeof e[i]=="function"})},cV=function(e,i){br(e)?i():(e.eventedCallbacks||(e.eventedCallbacks=[]),e.eventedCallbacks.push(i))},Eg=function(e){return typeof e=="string"&&/\S/.test(e)||Array.isArray(e)&&!!e.length},Mf=function(e,i,r){if(!e||!e.nodeName&&!br(e))throw new Error("Invalid target for "+Wh(i)+"#"+r+"; must be a DOM node or evented object.")},EO=function(e,i,r){if(!Eg(e))throw new Error("Invalid event type for "+Wh(i)+"#"+r+"; must be a non-empty string or array.")},CO=function(e,i,r){if(typeof e!="function")throw new Error("Invalid listener for "+Wh(i)+"#"+r+"; must be a function.")},gm=function(e,i,r){var n=i.length<3||i[0]===e||i[0]===e.eventBusEl_,s,a,o;return n?(s=e.eventBusEl_,i.length>=3&&i.shift(),a=i[0],o=i[1]):(s=i[0],a=i[1],o=i[2]),Mf(s,e,r),EO(a,e,r),CO(o,e,r),o=it(e,o),{isTargetingSelf:n,target:s,type:a,listener:o}},Es=function(e,i,r,n){Mf(e,e,i),e.nodeName?lV[i](e,r,n):e[i](r,n)},dV={on:function(){for(var e=this,i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];var s=gm(this,r,"on"),a=s.isTargetingSelf,o=s.target,l=s.type,u=s.listener;if(Es(o,"on",l,u),!a){var c=function(){return e.off(o,l,u)};c.guid=u.guid;var f=function(){return e.off("dispose",c)};f.guid=u.guid,Es(this,"on","dispose",c),Es(o,"on","dispose",f)}},one:function(){for(var e=this,i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];var s=gm(this,r,"one"),a=s.isTargetingSelf,o=s.target,l=s.type,u=s.listener;if(a)Es(o,"one",l,u);else{var c=function f(){e.off(o,l,f);for(var d=arguments.length,p=new Array(d),g=0;g<d;g++)p[g]=arguments[g];u.apply(null,p)};c.guid=u.guid,Es(o,"one",l,c)}},any:function(){for(var e=this,i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];var s=gm(this,r,"any"),a=s.isTargetingSelf,o=s.target,l=s.type,u=s.listener;if(a)Es(o,"any",l,u);else{var c=function f(){e.off(o,l,f);for(var d=arguments.length,p=new Array(d),g=0;g<d;g++)p[g]=arguments[g];u.apply(null,p)};c.guid=u.guid,Es(o,"any",l,c)}},off:function(e,i,r){if(!e||Eg(e))si(this.eventBusEl_,e,i);else{var n=e,s=i;Mf(n,this,"off"),EO(s,this,"off"),CO(r,this,"off"),r=it(this,r),this.off("dispose",r),n.nodeName?(si(n,s,r),si(n,"dispose",r)):br(n)&&(n.off(s,r),n.off("dispose",r))}},trigger:function(e,i){Mf(this.eventBusEl_,this,"trigger");var r=e&&typeof e!="string"?e.type:e;if(!Eg(r)){var n="Invalid event type for "+Wh(this)+"#trigger; must be a non-empty string or object with a type key that has a non-empty value.";if(e)(this.log||Le).error(n);else throw new Error(n)}return Uo(this.eventBusEl_,e,i)}};function u_(t,e){e===void 0&&(e={});var i=e,r=i.eventBusKey;if(r){if(!t[r].nodeName)throw new Error('The eventBusKey "'+r+'" does not refer to an element.');t.eventBusEl_=t[r]}else t.eventBusEl_=Ue("span",{className:"vjs-event-bus"});return pt(t,dV),t.eventedCallbacks&&t.eventedCallbacks.forEach(function(n){n()}),t.on("dispose",function(){t.off(),[t,t.el_,t.eventBusEl_].forEach(function(n){n&&_i.has(n)&&_i.delete(n)}),j.setTimeout(function(){t.eventBusEl_=null},0)}),t}var fV={state:{},setState:function(e){var i=this;typeof e=="function"&&(e=e());var r;return Qa(e,function(n,s){i.state[s]!==n&&(r=r||{},r[s]={from:i.state[s],to:n}),i.state[s]=n}),r&&br(this)&&this.trigger({changes:r,type:"statechanged"}),r}};function kO(t,e){return pt(t,fV),t.state=pt({},t.state,e),typeof t.handleStateChanged=="function"&&br(t)&&t.on("statechanged",t.handleStateChanged),t}var Fd=function(e){return typeof e!="string"?e:e.replace(/./,function(i){return i.toLowerCase()})},xt=function(e){return typeof e!="string"?e:e.replace(/./,function(i){return i.toUpperCase()})},hV=function(e,i){return xt(e)===xt(i)};function tt(){for(var t={},e=arguments.length,i=new Array(e),r=0;r<e;r++)i[r]=arguments[r];return i.forEach(function(n){!n||Qa(n,function(s,a){if(!Fu(s)){t[a]=s;return}Fu(t[a])||(t[a]={}),t[a]=tt(t[a],s)})}),t}var pV=function(){function t(){this.map_={}}var e=t.prototype;return e.has=function(r){return r in this.map_},e.delete=function(r){var n=this.has(r);return delete this.map_[r],n},e.set=function(r,n){return this.map_[r]=n,this},e.forEach=function(r,n){for(var s in this.map_)r.call(n,this.map_[s],s,this)},t}(),mV=j.Map?j.Map:pV,vV=function(){function t(){this.set_={}}var e=t.prototype;return e.has=function(r){return r in this.set_},e.delete=function(r){var n=this.has(r);return delete this.set_[r],n},e.add=function(r){return this.set_[r]=1,this},e.forEach=function(r,n){for(var s in this.set_)r.call(n,s,s,this)},t}(),ym=j.Set?j.Set:vV,ie=function(){function t(i,r,n){var s=this;if(!i&&this.play?this.player_=i=this:this.player_=i,this.isDisposed_=!1,this.parentComponent_=null,this.options_=tt({},this.options_),r=this.options_=tt(this.options_,r),this.id_=r.id||r.el&&r.el.id,!this.id_){var a=i&&i.id&&i.id()||"no_player";this.id_=a+"_component_"+Mr()}this.name_=r.name||null,r.el?this.el_=r.el:r.createEl!==!1&&(this.el_=this.createEl()),r.className&&this.el_&&r.className.split(" ").forEach(function(o){return s.addClass(o)}),r.evented!==!1&&(u_(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),kO(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new ym,this.setIntervalIds_=new ym,this.rafIds_=new ym,this.namedRafs_=new mV,this.clearingTimersOnDispose_=!1,r.initChildren!==!1&&this.initChildren(),this.ready(n),r.reportTouchActivity!==!1&&this.enableTouchActivity()}var e=t.prototype;return e.dispose=function(r){if(r===void 0&&(r={}),!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(var n=this.children_.length-1;n>=0;n--)this.children_[n].dispose&&this.children_[n].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(r.restoreEl?this.el_.parentNode.replaceChild(r.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}},e.isDisposed=function(){return Boolean(this.isDisposed_)},e.player=function(){return this.player_},e.options=function(r){return r?(this.options_=tt(this.options_,r),this.options_):this.options_},e.el=function(){return this.el_},e.createEl=function(r,n,s){return Ue(r,n,s)},e.localize=function(r,n,s){s===void 0&&(s=r);var a=this.player_.language&&this.player_.language(),o=this.player_.languages&&this.player_.languages(),l=o&&o[a],u=a&&a.split("-")[0],c=o&&o[u],f=s;return l&&l[r]?f=l[r]:c&&c[r]&&(f=c[r]),n&&(f=f.replace(/\{(\d+)\}/g,function(d,p){var g=n[p-1],b=g;return typeof g>"u"&&(b=d),b})),f},e.handleLanguagechange=function(){},e.contentEl=function(){return this.contentEl_||this.el_},e.id=function(){return this.id_},e.name=function(){return this.name_},e.children=function(){return this.children_},e.getChildById=function(r){return this.childIndex_[r]},e.getChild=function(r){if(!!r)return this.childNameIndex_[r]},e.getDescendant=function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];n=n.reduce(function(l,u){return l.concat(u)},[]);for(var a=this,o=0;o<n.length;o++)if(a=a.getChild(n[o]),!a||!a.getChild)return;return a},e.addChild=function(r,n,s){n===void 0&&(n={}),s===void 0&&(s=this.children_.length);var a,o;if(typeof r=="string"){o=xt(r);var l=n.componentClass||o;n.name=o;var u=t.getComponent(l);if(!u)throw new Error("Component "+l+" does not exist");if(typeof u!="function")return null;a=new u(this.player_||this,n)}else a=r;if(a.parentComponent_&&a.parentComponent_.removeChild(a),this.children_.splice(s,0,a),a.parentComponent_=this,typeof a.id=="function"&&(this.childIndex_[a.id()]=a),o=o||a.name&&xt(a.name()),o&&(this.childNameIndex_[o]=a,this.childNameIndex_[Fd(o)]=a),typeof a.el=="function"&&a.el()){var c=null;this.children_[s+1]&&(this.children_[s+1].el_?c=this.children_[s+1].el_:Fo(this.children_[s+1])&&(c=this.children_[s+1])),this.contentEl().insertBefore(a.el(),c)}return a},e.removeChild=function(r){if(typeof r=="string"&&(r=this.getChild(r)),!(!r||!this.children_)){for(var n=!1,s=this.children_.length-1;s>=0;s--)if(this.children_[s]===r){n=!0,this.children_.splice(s,1);break}if(!!n){r.parentComponent_=null,this.childIndex_[r.id()]=null,this.childNameIndex_[xt(r.name())]=null,this.childNameIndex_[Fd(r.name())]=null;var a=r.el();a&&a.parentNode===this.contentEl()&&this.contentEl().removeChild(r.el())}}},e.initChildren=function(){var r=this,n=this.options_.children;if(n){var s=this.options_,a=function(c){var f=c.name,d=c.opts;if(s[f]!==void 0&&(d=s[f]),d!==!1){d===!0&&(d={}),d.playerOptions=r.options_.playerOptions;var p=r.addChild(f,d);p&&(r[f]=p)}},o,l=t.getComponent("Tech");Array.isArray(n)?o=n:o=Object.keys(n),o.concat(Object.keys(this.options_).filter(function(u){return!o.some(function(c){return typeof c=="string"?u===c:u===c.name})})).map(function(u){var c,f;return typeof u=="string"?(c=u,f=n[c]||r.options_[c]||{}):(c=u.name,f=u),{name:c,opts:f}}).filter(function(u){var c=t.getComponent(u.opts.componentClass||xt(u.name));return c&&!l.isTech(c)}).forEach(a)}},e.buildCSSClass=function(){return""},e.ready=function(r,n){if(n===void 0&&(n=!1),!!r){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(r);return}n?r.call(this):this.setTimeout(r,1)}},e.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var r=this.readyQueue_;this.readyQueue_=[],r&&r.length>0&&r.forEach(function(n){n.call(this)},this),this.trigger("ready")},1)},e.$=function(r,n){return fs(r,n||this.contentEl())},e.$$=function(r,n){return yO(r,n||this.contentEl())},e.hasClass=function(r){return zs(this.el_,r)},e.addClass=function(r){_r(this.el_,r)},e.removeClass=function(r){gc(this.el_,r)},e.toggleClass=function(r,n){cO(this.el_,r,n)},e.show=function(){this.removeClass("vjs-hidden")},e.hide=function(){this.addClass("vjs-hidden")},e.lockShowing=function(){this.addClass("vjs-lock-showing")},e.unlockShowing=function(){this.removeClass("vjs-lock-showing")},e.getAttribute=function(r){return fO(this.el_,r)},e.setAttribute=function(r,n){yo(this.el_,r,n)},e.removeAttribute=function(r){Bh(this.el_,r)},e.width=function(r,n){return this.dimension("width",r,n)},e.height=function(r,n){return this.dimension("height",r,n)},e.dimensions=function(r,n){this.width(r,!0),this.height(n)},e.dimension=function(r,n,s){if(n!==void 0){(n===null||n!==n)&&(n=0),(""+n).indexOf("%")!==-1||(""+n).indexOf("px")!==-1?this.el_.style[r]=n:n==="auto"?this.el_.style[r]="":this.el_.style[r]=n+"px",s||this.trigger("componentresize");return}if(!this.el_)return 0;var a=this.el_.style[r],o=a.indexOf("px");return parseInt(o!==-1?a.slice(0,o):this.el_["offset"+xt(r)],10)},e.currentDimension=function(r){var n=0;if(r!=="width"&&r!=="height")throw new Error("currentDimension only accepts width or height value");if(n=Uu(this.el_,r),n=parseFloat(n),n===0||isNaN(n)){var s="offset"+xt(r);n=this.el_[s]}return n},e.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},e.currentWidth=function(){return this.currentDimension("width")},e.currentHeight=function(){return this.currentDimension("height")},e.focus=function(){this.el_.focus()},e.blur=function(){this.el_.blur()},e.handleKeyDown=function(r){this.player_&&(Oe.isEventKey(r,"Tab")||r.stopPropagation(),this.player_.handleKeyDown(r))},e.handleKeyPress=function(r){this.handleKeyDown(r)},e.emitTapEvents=function(){var r=0,n=null,s=10,a=200,o;this.on("touchstart",function(u){u.touches.length===1&&(n={pageX:u.touches[0].pageX,pageY:u.touches[0].pageY},r=j.performance.now(),o=!0)}),this.on("touchmove",function(u){if(u.touches.length>1)o=!1;else if(n){var c=u.touches[0].pageX-n.pageX,f=u.touches[0].pageY-n.pageY,d=Math.sqrt(c*c+f*f);d>s&&(o=!1)}});var l=function(){o=!1};this.on("touchleave",l),this.on("touchcancel",l),this.on("touchend",function(u){if(n=null,o===!0){var c=j.performance.now()-r;c<a&&(u.preventDefault(),this.trigger("tap"))}})},e.enableTouchActivity=function(){if(!(!this.player()||!this.player().reportUserActivity)){var r=it(this.player(),this.player().reportUserActivity),n;this.on("touchstart",function(){r(),this.clearInterval(n),n=this.setInterval(r,250)});var s=function(o){r(),this.clearInterval(n)};this.on("touchmove",r),this.on("touchend",s),this.on("touchcancel",s)}},e.setTimeout=function(r,n){var s=this,a;return r=it(this,r),this.clearTimersOnDispose_(),a=j.setTimeout(function(){s.setTimeoutIds_.has(a)&&s.setTimeoutIds_.delete(a),r()},n),this.setTimeoutIds_.add(a),a},e.clearTimeout=function(r){return this.setTimeoutIds_.has(r)&&(this.setTimeoutIds_.delete(r),j.clearTimeout(r)),r},e.setInterval=function(r,n){r=it(this,r),this.clearTimersOnDispose_();var s=j.setInterval(r,n);return this.setIntervalIds_.add(s),s},e.clearInterval=function(r){return this.setIntervalIds_.has(r)&&(this.setIntervalIds_.delete(r),j.clearInterval(r)),r},e.requestAnimationFrame=function(r){var n=this;if(!this.supportsRaf_)return this.setTimeout(r,1e3/60);this.clearTimersOnDispose_();var s;return r=it(this,r),s=j.requestAnimationFrame(function(){n.rafIds_.has(s)&&n.rafIds_.delete(s),r()}),this.rafIds_.add(s),s},e.requestNamedAnimationFrame=function(r,n){var s=this;if(!this.namedRafs_.has(r)){this.clearTimersOnDispose_(),n=it(this,n);var a=this.requestAnimationFrame(function(){n(),s.namedRafs_.has(r)&&s.namedRafs_.delete(r)});return this.namedRafs_.set(r,a),r}},e.cancelNamedAnimationFrame=function(r){!this.namedRafs_.has(r)||(this.cancelAnimationFrame(this.namedRafs_.get(r)),this.namedRafs_.delete(r))},e.cancelAnimationFrame=function(r){return this.supportsRaf_?(this.rafIds_.has(r)&&(this.rafIds_.delete(r),j.cancelAnimationFrame(r)),r):this.clearTimeout(r)},e.clearTimersOnDispose_=function(){var r=this;this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",function(){[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(function(n){var s=n[0],a=n[1];r[s].forEach(function(o,l){return r[a](l)})}),r.clearingTimersOnDispose_=!1}))},t.registerComponent=function(r,n){if(typeof r!="string"||!r)throw new Error('Illegal component name, "'+r+'"; must be a non-empty string.');var s=t.getComponent("Tech"),a=s&&s.isTech(n),o=t===n||t.prototype.isPrototypeOf(n.prototype);if(a||!o){var l;throw a?l="techs must be registered using Tech.registerTech()":l="must be a Component subclass",new Error('Illegal component, "'+r+'"; '+l+".")}r=xt(r),t.components_||(t.components_={});var u=t.getComponent("Player");if(r==="Player"&&u&&u.players){var c=u.players,f=Object.keys(c);if(c&&f.length>0&&f.map(function(d){return c[d]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return t.components_[r]=n,t.components_[Fd(r)]=n,n},t.getComponent=function(r){if(!(!r||!t.components_))return t.components_[r]},t}();ie.prototype.supportsRaf_=typeof j.requestAnimationFrame=="function"&&typeof j.cancelAnimationFrame=="function";ie.registerComponent("Component",ie);function gV(t,e,i){if(typeof e!="number"||e<0||e>i)throw new Error("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+e+") is non-numeric or out of bounds (0-"+i+").")}function Mw(t,e,i,r){return gV(t,r,i.length-1),i[r][e]}function _m(t){var e;return t===void 0||t.length===0?e={length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:e={length:t.length,start:Mw.bind(null,"start",0,t),end:Mw.bind(null,"end",1,t)},j.Symbol&&j.Symbol.iterator&&(e[j.Symbol.iterator]=function(){return(t||[]).values()}),e}function Vs(t,e){return Array.isArray(t)?_m(t):t===void 0||e===void 0?_m():_m([[t,e]])}function PO(t,e){var i=0,r,n;if(!e)return 0;(!t||!t.length)&&(t=Vs(0,0));for(var s=0;s<t.length;s++)r=t.start(s),n=t.end(s),n>e&&(n=e),i+=n-r;return i/e}function bi(t){if(t instanceof bi)return t;typeof t=="number"?this.code=t:typeof t=="string"?this.message=t:kr(t)&&(typeof t.code=="number"&&(this.code=t.code),pt(this,t)),this.message||(this.message=bi.defaultMessages[this.code]||"")}bi.prototype.code=0;bi.prototype.message="";bi.prototype.status=null;bi.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];bi.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var xa=0;xa<bi.errorTypes.length;xa++)bi[bi.errorTypes[xa]]=xa,bi.prototype[bi.errorTypes[xa]]=xa;function nu(t){return t!=null&&typeof t.then=="function"}function qn(t){nu(t)&&t.then(null,function(e){})}var Cg=function(e){var i=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(r,n,s){return e[n]&&(r[n]=e[n]),r},{cues:e.cues&&Array.prototype.map.call(e.cues,function(r){return{startTime:r.startTime,endTime:r.endTime,text:r.text,id:r.id}})});return i},yV=function(e){var i=e.$$("track"),r=Array.prototype.map.call(i,function(s){return s.track}),n=Array.prototype.map.call(i,function(s){var a=Cg(s.track);return s.src&&(a.src=s.src),a});return n.concat(Array.prototype.filter.call(e.textTracks(),function(s){return r.indexOf(s)===-1}).map(Cg))},_V=function(e,i){return e.forEach(function(r){var n=i.addRemoteTextTrack(r).track;!r.src&&r.cues&&r.cues.forEach(function(s){return n.addCue(s)})}),i.textTracks()},Rw={textTracksToJson:yV,jsonToTextTracks:_V,trackToJson_:Cg},bm="vjs-modal-dialog",Bo=function(t){le(e,t);function e(r,n){var s;return s=t.call(this,r,n)||this,s.handleKeyDown_=function(a){return s.handleKeyDown(a)},s.close_=function(a){return s.close(a)},s.opened_=s.hasBeenOpened_=s.hasBeenFilled_=!1,s.closeable(!s.options_.uncloseable),s.content(s.options_.content),s.contentEl_=Ue("div",{className:bm+"-content"},{role:"document"}),s.descEl_=Ue("p",{className:bm+"-description vjs-control-text",id:s.el().getAttribute("aria-describedby")}),ua(s.descEl_,s.description()),s.el_.appendChild(s.descEl_),s.el_.appendChild(s.contentEl_),s}var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},i.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,t.prototype.dispose.call(this)},i.buildCSSClass=function(){return bm+" vjs-hidden "+t.prototype.buildCSSClass.call(this)},i.label=function(){return this.localize(this.options_.label||"Modal Window")},i.description=function(){var n=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(n+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),n},i.open=function(){if(!this.opened_){var n=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!n.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&n.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=n.controls(),n.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},i.opened=function(n){return typeof n=="boolean"&&this[n?"open":"close"](),this.opened_},i.close=function(){if(!!this.opened_){var n=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&n.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&n.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},i.closeable=function(n){if(typeof n=="boolean"){var s=this.closeable_=!!n,a=this.getChild("closeButton");if(s&&!a){var o=this.contentEl_;this.contentEl_=this.el_,a=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=o,this.on(a,"close",this.close_)}!s&&a&&(this.off(a,"close",this.close_),this.removeChild(a),a.dispose())}return this.closeable_},i.fill=function(){this.fillWith(this.content())},i.fillWith=function(n){var s=this.contentEl(),a=s.parentNode,o=s.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,a.removeChild(s),this.empty(),gO(s,n),this.trigger("modalfill"),o?a.insertBefore(s,o):a.appendChild(s);var l=this.getChild("closeButton");l&&a.appendChild(l.el_)},i.empty=function(){this.trigger("beforemodalempty"),a_(this.contentEl()),this.trigger("modalempty")},i.content=function(n){return typeof n<"u"&&(this.content_=n),this.content_},i.conditionalFocus_=function(){var n=ae.activeElement,s=this.player_.el_;this.previouslyActiveEl_=null,(s.contains(n)||s===n)&&(this.previouslyActiveEl_=n,this.focus())},i.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)},i.handleKeyDown=function(n){if(n.stopPropagation(),Oe.isEventKey(n,"Escape")&&this.closeable()){n.preventDefault(),this.close();return}if(!!Oe.isEventKey(n,"Tab")){for(var s=this.focusableEls_(),a=this.el_.querySelector(":focus"),o,l=0;l<s.length;l++)if(a===s[l]){o=l;break}ae.activeElement===this.el_&&(o=0),n.shiftKey&&o===0?(s[s.length-1].focus(),n.preventDefault()):!n.shiftKey&&o===s.length-1&&(s[0].focus(),n.preventDefault())}},i.focusableEls_=function(){var n=this.el_.querySelectorAll("*");return Array.prototype.filter.call(n,function(s){return(s instanceof j.HTMLAnchorElement||s instanceof j.HTMLAreaElement)&&s.hasAttribute("href")||(s instanceof j.HTMLInputElement||s instanceof j.HTMLSelectElement||s instanceof j.HTMLTextAreaElement||s instanceof j.HTMLButtonElement)&&!s.hasAttribute("disabled")||s instanceof j.HTMLIFrameElement||s instanceof j.HTMLObjectElement||s instanceof j.HTMLEmbedElement||s.hasAttribute("tabindex")&&s.getAttribute("tabindex")!==-1||s.hasAttribute("contenteditable")})},e}(ie);Bo.prototype.options_={pauseOnOpen:!0,temporary:!0};ie.registerComponent("ModalDialog",Bo);var bo=function(t){le(e,t);function e(r){var n;r===void 0&&(r=[]),n=t.call(this)||this,n.tracks_=[],Object.defineProperty(Ee(n),"length",{get:function(){return this.tracks_.length}});for(var s=0;s<r.length;s++)n.addTrack(r[s]);return n}var i=e.prototype;return i.addTrack=function(n){var s=this,a=this.tracks_.length;""+a in this||Object.defineProperty(this,a,{get:function(){return this.tracks_[a]}}),this.tracks_.indexOf(n)===-1&&(this.tracks_.push(n),this.trigger({track:n,type:"addtrack",target:this})),n.labelchange_=function(){s.trigger({track:n,type:"labelchange",target:s})},br(n)&&n.addEventListener("labelchange",n.labelchange_)},i.removeTrack=function(n){for(var s,a=0,o=this.length;a<o;a++)if(this[a]===n){s=this[a],s.off&&s.off(),this.tracks_.splice(a,1);break}!s||this.trigger({track:s,type:"removetrack",target:this})},i.getTrackById=function(n){for(var s=null,a=0,o=this.length;a<o;a++){var l=this[a];if(l.id===n){s=l;break}}return s},e}(Ut);bo.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(var bV in bo.prototype.allowedEvents_)bo.prototype["on"+bV]=null;var Tm=function(e,i){for(var r=0;r<e.length;r++)!Object.keys(e[r]).length||i.id===e[r].id||(e[r].enabled=!1)},TV=function(t){le(e,t);function e(r){var n;r===void 0&&(r=[]);for(var s=r.length-1;s>=0;s--)if(r[s].enabled){Tm(r,r[s]);break}return n=t.call(this,r)||this,n.changing_=!1,n}var i=e.prototype;return i.addTrack=function(n){var s=this;n.enabled&&Tm(this,n),t.prototype.addTrack.call(this,n),n.addEventListener&&(n.enabledChange_=function(){s.changing_||(s.changing_=!0,Tm(s,n),s.changing_=!1,s.trigger("change"))},n.addEventListener("enabledchange",n.enabledChange_))},i.removeTrack=function(n){t.prototype.removeTrack.call(this,n),n.removeEventListener&&n.enabledChange_&&(n.removeEventListener("enabledchange",n.enabledChange_),n.enabledChange_=null)},e}(bo),xm=function(e,i){for(var r=0;r<e.length;r++)!Object.keys(e[r]).length||i.id===e[r].id||(e[r].selected=!1)},xV=function(t){le(e,t);function e(r){var n;r===void 0&&(r=[]);for(var s=r.length-1;s>=0;s--)if(r[s].selected){xm(r,r[s]);break}return n=t.call(this,r)||this,n.changing_=!1,Object.defineProperty(Ee(n),"selectedIndex",{get:function(){for(var o=0;o<this.length;o++)if(this[o].selected)return o;return-1},set:function(){}}),n}var i=e.prototype;return i.addTrack=function(n){var s=this;n.selected&&xm(this,n),t.prototype.addTrack.call(this,n),n.addEventListener&&(n.selectedChange_=function(){s.changing_||(s.changing_=!0,xm(s,n),s.changing_=!1,s.trigger("change"))},n.addEventListener("selectedchange",n.selectedChange_))},i.removeTrack=function(n){t.prototype.removeTrack.call(this,n),n.removeEventListener&&n.selectedChange_&&(n.removeEventListener("selectedchange",n.selectedChange_),n.selectedChange_=null)},e}(bo),OO=function(t){le(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.addTrack=function(n){var s=this;t.prototype.addTrack.call(this,n),this.queueChange_||(this.queueChange_=function(){return s.queueTrigger("change")}),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=function(){return s.trigger("selectedlanguagechange")}),n.addEventListener("modechange",this.queueChange_);var a=["metadata","chapters"];a.indexOf(n.kind)===-1&&n.addEventListener("modechange",this.triggerSelectedlanguagechange_)},i.removeTrack=function(n){t.prototype.removeTrack.call(this,n),n.removeEventListener&&(this.queueChange_&&n.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&n.removeEventListener("modechange",this.triggerSelectedlanguagechange_))},e}(bo),wV=function(){function t(i){i===void 0&&(i=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var r=0,n=i.length;r<n;r++)this.addTrackElement_(i[r])}var e=t.prototype;return e.addTrackElement_=function(r){var n=this.trackElements_.length;""+n in this||Object.defineProperty(this,n,{get:function(){return this.trackElements_[n]}}),this.trackElements_.indexOf(r)===-1&&this.trackElements_.push(r)},e.getTrackElementByTrack_=function(r){for(var n,s=0,a=this.trackElements_.length;s<a;s++)if(r===this.trackElements_[s].track){n=this.trackElements_[s];break}return n},e.removeTrackElement_=function(r){for(var n=0,s=this.trackElements_.length;n<s;n++)if(r===this.trackElements_[n]){this.trackElements_[n].track&&typeof this.trackElements_[n].track.off=="function"&&this.trackElements_[n].track.off(),typeof this.trackElements_[n].off=="function"&&this.trackElements_[n].off(),this.trackElements_.splice(n,1);break}},t}(),Lw=function(){function t(i){t.prototype.setCues_.call(this,i),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var e=t.prototype;return e.setCues_=function(r){var n=this.length||0,s=0,a=r.length;this.cues_=r,this.length_=r.length;var o=function(u){""+u in this||Object.defineProperty(this,""+u,{get:function(){return this.cues_[u]}})};if(n<a)for(s=n;s<a;s++)o.call(this,s)},e.getCueById=function(r){for(var n=null,s=0,a=this.length;s<a;s++){var o=this[s];if(o.id===r){n=o;break}}return n},t}(),SV={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},EV={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},CV={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},jw={disabled:"disabled",hidden:"hidden",showing:"showing"},c_=function(t){le(e,t);function e(i){var r;i===void 0&&(i={}),r=t.call(this)||this;var n={id:i.id||"vjs_track_"+Mr(),kind:i.kind||"",language:i.language||""},s=i.label||"",a=function(u){Object.defineProperty(Ee(r),u,{get:function(){return n[u]},set:function(){}})};for(var o in n)a(o);return Object.defineProperty(Ee(r),"label",{get:function(){return s},set:function(u){u!==s&&(s=u,this.trigger("labelchange"))}}),r}return e}(Ut),d_=function(e){var i=["protocol","hostname","port","pathname","search","hash","host"],r=ae.createElement("a");r.href=e;for(var n={},s=0;s<i.length;s++)n[i[s]]=r[i[s]];return n.protocol==="http:"&&(n.host=n.host.replace(/:80$/,"")),n.protocol==="https:"&&(n.host=n.host.replace(/:443$/,"")),n.protocol||(n.protocol=j.location.protocol),n.host||(n.host=j.location.host),n},AO=function(e){if(!e.match(/^https?:\/\//)){var i=ae.createElement("a");i.href=e,e=i.href}return e},f_=function(e){if(typeof e=="string"){var i=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/,r=i.exec(e);if(r)return r.pop().toLowerCase()}return""},qh=function(e,i){i===void 0&&(i=j.location);var r=d_(e),n=r.protocol===":"?i.protocol:r.protocol,s=n+r.host!==i.protocol+i.host;return s},kV=Object.freeze({__proto__:null,parseUrl:d_,getAbsoluteURL:AO,getFileExtension:f_,isCrossOrigin:qh}),Nw=function(e,i){var r=new j.WebVTT.Parser(j,j.vttjs,j.WebVTT.StringDecoder()),n=[];r.oncue=function(s){i.addCue(s)},r.onparsingerror=function(s){n.push(s)},r.onflush=function(){i.trigger({type:"loadeddata",target:i})},r.parse(e),n.length>0&&(j.console&&j.console.groupCollapsed&&j.console.groupCollapsed("Text Track parsing errors for "+i.src),n.forEach(function(s){return Le.error(s)}),j.console&&j.console.groupEnd&&j.console.groupEnd()),r.flush()},Fw=function(e,i){var r={uri:e},n=qh(e);n&&(r.cors=n);var s=i.tech_.crossOrigin()==="use-credentials";s&&(r.withCredentials=s),eP(r,it(this,function(a,o,l){if(a)return Le.error(a,o);i.loaded_=!0,typeof j.WebVTT!="function"?i.tech_&&i.tech_.any(["vttjsloaded","vttjserror"],function(u){if(u.type==="vttjserror"){Le.error("vttjs failed to load, stopping trying to process "+i.src);return}return Nw(l,i)}):Nw(l,i)}))},yc=function(t){le(e,t);function e(r){var n;if(r===void 0&&(r={}),!r.tech)throw new Error("A tech was not provided.");var s=tt(r,{kind:CV[r.kind]||"subtitles",language:r.language||r.srclang||""}),a=jw[s.mode]||"disabled",o=s.default;(s.kind==="metadata"||s.kind==="chapters")&&(a="hidden"),n=t.call(this,s)||this,n.tech_=s.tech,n.cues_=[],n.activeCues_=[],n.preload_=n.tech_.preloadTextTracks!==!1;var l=new Lw(n.cues_),u=new Lw(n.activeCues_),c=!1;n.timeupdateHandler=it(Ee(n),function(d){if(d===void 0&&(d={}),!this.tech_.isDisposed()){if(!this.tech_.isReady_){d.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler));return}this.activeCues=this.activeCues,c&&(this.trigger("cuechange"),c=!1),d.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))}});var f=function(){n.stopTracking()};return n.tech_.one("dispose",f),a!=="disabled"&&n.startTracking(),Object.defineProperties(Ee(n),{default:{get:function(){return o},set:function(){}},mode:{get:function(){return a},set:function(p){!jw[p]||a!==p&&(a=p,!this.preload_&&a!=="disabled"&&this.cues.length===0&&Fw(this.src,this),this.stopTracking(),a!=="disabled"&&this.startTracking(),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?l:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(this.cues.length===0)return u;for(var p=this.tech_.currentTime(),g=[],b=0,y=this.cues.length;b<y;b++){var T=this.cues[b];(T.startTime<=p&&T.endTime>=p||T.startTime===T.endTime&&T.startTime<=p&&T.startTime+.5>=p)&&g.push(T)}if(c=!1,g.length!==this.activeCues_.length)c=!0;else for(var S=0;S<g.length;S++)this.activeCues_.indexOf(g[S])===-1&&(c=!0);return this.activeCues_=g,u.setCues_(this.activeCues_),u},set:function(){}}}),s.src?(n.src=s.src,n.preload_||(n.loaded_=!0),(n.preload_||s.kind!=="subtitles"&&s.kind!=="captions")&&Fw(n.src,Ee(n))):n.loaded_=!0,n}var i=e.prototype;return i.startTracking=function(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)},i.stopTracking=function(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)},i.addCue=function(n){var s=n;if(j.vttjs&&!(n instanceof j.vttjs.VTTCue)){s=new j.vttjs.VTTCue(n.startTime,n.endTime,n.text);for(var a in n)a in s||(s[a]=n[a]);s.id=n.id,s.originalCue_=n}for(var o=this.tech_.textTracks(),l=0;l<o.length;l++)o[l]!==this&&o[l].removeCue(s);this.cues_.push(s),this.cues.setCues_(this.cues_)},i.removeCue=function(n){for(var s=this.cues_.length;s--;){var a=this.cues_[s];if(a===n||a.originalCue_&&a.originalCue_===n){this.cues_.splice(s,1),this.cues.setCues_(this.cues_);break}}},e}(c_);yc.prototype.allowedEvents_={cuechange:"cuechange"};var IO=function(t){le(e,t);function e(i){var r;i===void 0&&(i={});var n=tt(i,{kind:EV[i.kind]||""});r=t.call(this,n)||this;var s=!1;return Object.defineProperty(Ee(r),"enabled",{get:function(){return s},set:function(o){typeof o!="boolean"||o===s||(s=o,this.trigger("enabledchange"))}}),n.enabled&&(r.enabled=n.enabled),r.loaded_=!0,r}return e}(c_),DO=function(t){le(e,t);function e(i){var r;i===void 0&&(i={});var n=tt(i,{kind:SV[i.kind]||""});r=t.call(this,n)||this;var s=!1;return Object.defineProperty(Ee(r),"selected",{get:function(){return s},set:function(o){typeof o!="boolean"||o===s||(s=o,this.trigger("selectedchange"))}}),n.selected&&(r.selected=n.selected),r}return e}(c_),MO=0,PV=1,RO=2,OV=3,zo=function(t){le(e,t);function e(i){var r;i===void 0&&(i={}),r=t.call(this)||this;var n,s=new yc(i);return r.kind=s.kind,r.src=s.src,r.srclang=s.language,r.label=s.label,r.default=s.default,Object.defineProperties(Ee(r),{readyState:{get:function(){return n}},track:{get:function(){return s}}}),n=MO,s.addEventListener("loadeddata",function(){n=RO,r.trigger({type:"load",target:Ee(r)})}),r}return e}(Ut);zo.prototype.allowedEvents_={load:"load"};zo.NONE=MO;zo.LOADING=PV;zo.LOADED=RO;zo.ERROR=OV;var mn={audio:{ListClass:TV,TrackClass:IO,capitalName:"Audio"},video:{ListClass:xV,TrackClass:DO,capitalName:"Video"},text:{ListClass:OO,TrackClass:yc,capitalName:"Text"}};Object.keys(mn).forEach(function(t){mn[t].getterName=t+"Tracks",mn[t].privateName=t+"Tracks_"});var To={remoteText:{ListClass:OO,TrackClass:yc,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:wV,TrackClass:zo,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},vi=yn({},mn,To);To.names=Object.keys(To);mn.names=Object.keys(mn);vi.names=[].concat(To.names).concat(mn.names);function AV(t,e,i,r,n){n===void 0&&(n={});var s=t.textTracks();n.kind=e,i&&(n.label=i),r&&(n.language=r),n.tech=t;var a=new vi.text.TrackClass(n);return s.addTrack(a),a}var Ge=function(t){le(e,t);function e(r,n){var s;return r===void 0&&(r={}),n===void 0&&(n=function(){}),r.reportTouchActivity=!1,s=t.call(this,null,r,n)||this,s.onDurationChange_=function(a){return s.onDurationChange(a)},s.trackProgress_=function(a){return s.trackProgress(a)},s.trackCurrentTime_=function(a){return s.trackCurrentTime(a)},s.stopTrackingCurrentTime_=function(a){return s.stopTrackingCurrentTime(a)},s.disposeSourceHandler_=function(a){return s.disposeSourceHandler(a)},s.queuedHanders_=new Set,s.hasStarted_=!1,s.on("playing",function(){this.hasStarted_=!0}),s.on("loadstart",function(){this.hasStarted_=!1}),vi.names.forEach(function(a){var o=vi[a];r&&r[o.getterName]&&(s[o.privateName]=r[o.getterName])}),s.featuresProgressEvents||s.manualProgressOn(),s.featuresTimeupdateEvents||s.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(a){r["native"+a+"Tracks"]===!1&&(s["featuresNative"+a+"Tracks"]=!1)}),r.nativeCaptions===!1||r.nativeTextTracks===!1?s.featuresNativeTextTracks=!1:(r.nativeCaptions===!0||r.nativeTextTracks===!0)&&(s.featuresNativeTextTracks=!0),s.featuresNativeTextTracks||s.emulateTextTracks(),s.preloadTextTracks=r.preloadTextTracks!==!1,s.autoRemoteTextTracks_=new vi.text.ListClass,s.initTrackListeners(),r.nativeControlsForTouch||s.emitTapEvents(),s.constructor&&(s.name_=s.constructor.name||"Unknown Tech"),s}var i=e.prototype;return i.triggerSourceset=function(n){var s=this;this.isReady_||this.one("ready",function(){return s.setTimeout(function(){return s.triggerSourceset(n)},1)}),this.trigger({src:n,type:"sourceset"})},i.manualProgressOn=function(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)},i.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)},i.trackProgress=function(n){this.stopTrackingProgress(),this.progressInterval=this.setInterval(it(this,function(){var s=this.bufferedPercent();this.bufferedPercent_!==s&&this.trigger("progress"),this.bufferedPercent_=s,s===1&&this.stopTrackingProgress()}),500)},i.onDurationChange=function(n){this.duration_=this.duration()},i.buffered=function(){return Vs(0,0)},i.bufferedPercent=function(){return PO(this.buffered(),this.duration_)},i.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},i.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)},i.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)},i.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},i.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},i.dispose=function(){this.clearTracks(mn.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),t.prototype.dispose.call(this)},i.clearTracks=function(n){var s=this;n=[].concat(n),n.forEach(function(a){for(var o=s[a+"Tracks"]()||[],l=o.length;l--;){var u=o[l];a==="text"&&s.removeRemoteTextTrack(u),o.removeTrack(u)}})},i.cleanupAutoTextTracks=function(){for(var n=this.autoRemoteTextTracks_||[],s=n.length;s--;){var a=n[s];this.removeRemoteTextTrack(a)}},i.reset=function(){},i.crossOrigin=function(){},i.setCrossOrigin=function(){},i.error=function(n){return n!==void 0&&(this.error_=new bi(n),this.trigger("error")),this.error_},i.played=function(){return this.hasStarted_?Vs(0,0):Vs()},i.play=function(){},i.setScrubbing=function(){},i.scrubbing=function(){},i.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},i.initTrackListeners=function(){var n=this;mn.names.forEach(function(s){var a=mn[s],o=function(){n.trigger(s+"trackchange")},l=n[a.getterName]();l.addEventListener("removetrack",o),l.addEventListener("addtrack",o),n.on("dispose",function(){l.removeEventListener("removetrack",o),l.removeEventListener("addtrack",o)})})},i.addWebVttScript_=function(){var n=this;if(!j.WebVTT)if(ae.body.contains(this.el())){if(!this.options_["vtt.js"]&&Fu(Zx)&&Object.keys(Zx).length>0){this.trigger("vttjsloaded");return}var s=ae.createElement("script");s.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",s.onload=function(){n.trigger("vttjsloaded")},s.onerror=function(){n.trigger("vttjserror")},this.on("dispose",function(){s.onload=null,s.onerror=null}),j.WebVTT=!0,this.el().parentNode.appendChild(s)}else this.ready(this.addWebVttScript_)},i.emulateTextTracks=function(){var n=this,s=this.textTracks(),a=this.remoteTextTracks(),o=function(d){return s.addTrack(d.track)},l=function(d){return s.removeTrack(d.track)};a.on("addtrack",o),a.on("removetrack",l),this.addWebVttScript_();var u=function(){return n.trigger("texttrackchange")},c=function(){u();for(var d=0;d<s.length;d++){var p=s[d];p.removeEventListener("cuechange",u),p.mode==="showing"&&p.addEventListener("cuechange",u)}};c(),s.addEventListener("change",c),s.addEventListener("addtrack",c),s.addEventListener("removetrack",c),this.on("dispose",function(){a.off("addtrack",o),a.off("removetrack",l),s.removeEventListener("change",c),s.removeEventListener("addtrack",c),s.removeEventListener("removetrack",c);for(var f=0;f<s.length;f++){var d=s[f];d.removeEventListener("cuechange",u)}})},i.addTextTrack=function(n,s,a){if(!n)throw new Error("TextTrack kind is required but was not provided");return AV(this,n,s,a)},i.createRemoteTextTrack=function(n){var s=tt(n,{tech:this});return new To.remoteTextEl.TrackClass(s)},i.addRemoteTextTrack=function(n,s){var a=this;n===void 0&&(n={});var o=this.createRemoteTextTrack(n);return s!==!0&&s!==!1&&(Le.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),s=!0),this.remoteTextTrackEls().addTrackElement_(o),this.remoteTextTracks().addTrack(o.track),s!==!0&&this.ready(function(){return a.autoRemoteTextTracks_.addTrack(o.track)}),o},i.removeRemoteTextTrack=function(n){var s=this.remoteTextTrackEls().getTrackElementByTrack_(n);this.remoteTextTrackEls().removeTrackElement_(s),this.remoteTextTracks().removeTrack(n),this.autoRemoteTextTracks_.removeTrack(n)},i.getVideoPlaybackQuality=function(){return{}},i.requestPictureInPicture=function(){var n=this.options_.Promise||j.Promise;if(n)return n.reject()},i.disablePictureInPicture=function(){return!0},i.setDisablePictureInPicture=function(){},i.requestVideoFrameCallback=function(n){var s=this,a=Mr();return!this.isReady_||this.paused()?(this.queuedHanders_.add(a),this.one("playing",function(){s.queuedHanders_.has(a)&&(s.queuedHanders_.delete(a),n())})):this.requestNamedAnimationFrame(a,n),a},i.cancelVideoFrameCallback=function(n){this.queuedHanders_.has(n)?this.queuedHanders_.delete(n):this.cancelNamedAnimationFrame(n)},i.setPoster=function(){},i.playsinline=function(){},i.setPlaysinline=function(){},i.overrideNativeAudioTracks=function(){},i.overrideNativeVideoTracks=function(){},i.canPlayType=function(){return""},e.canPlayType=function(){return""},e.canPlaySource=function(n,s){return e.canPlayType(n.type)},e.isTech=function(n){return n.prototype instanceof e||n instanceof e||n===e},e.registerTech=function(n,s){if(e.techs_||(e.techs_={}),!e.isTech(s))throw new Error("Tech "+n+" must be a Tech");if(!e.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!e.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return n=xt(n),e.techs_[n]=s,e.techs_[Fd(n)]=s,n!=="Tech"&&e.defaultTechOrder_.push(n),s},e.getTech=function(n){if(!!n){if(e.techs_&&e.techs_[n])return e.techs_[n];if(n=xt(n),j&&j.videojs&&j.videojs[n])return Le.warn("The "+n+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),j.videojs[n]}},e}(ie);vi.names.forEach(function(t){var e=vi[t];Ge.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}});Ge.prototype.featuresVolumeControl=!0;Ge.prototype.featuresMuteControl=!0;Ge.prototype.featuresFullscreenResize=!1;Ge.prototype.featuresPlaybackRate=!1;Ge.prototype.featuresProgressEvents=!1;Ge.prototype.featuresSourceset=!1;Ge.prototype.featuresTimeupdateEvents=!1;Ge.prototype.featuresNativeTextTracks=!1;Ge.prototype.featuresVideoFrameCallback=!1;Ge.withSourceHandlers=function(t){t.registerSourceHandler=function(i,r){var n=t.sourceHandlers;n||(n=t.sourceHandlers=[]),r===void 0&&(r=n.length),n.splice(r,0,i)},t.canPlayType=function(i){for(var r=t.sourceHandlers||[],n,s=0;s<r.length;s++)if(n=r[s].canPlayType(i),n)return n;return""},t.selectSourceHandler=function(i,r){for(var n=t.sourceHandlers||[],s,a=0;a<n.length;a++)if(s=n[a].canHandleSource(i,r),s)return n[a];return null},t.canPlaySource=function(i,r){var n=t.selectSourceHandler(i,r);return n?n.canHandleSource(i,r):""};var e=["seekable","seeking","duration"];e.forEach(function(i){var r=this[i];typeof r=="function"&&(this[i]=function(){return this.sourceHandler_&&this.sourceHandler_[i]?this.sourceHandler_[i].apply(this.sourceHandler_,arguments):r.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(i){var r=t.selectSourceHandler(i,this.options_);r||(t.nativeSourceHandler?r=t.nativeSourceHandler:Le.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),r!==t.nativeSourceHandler&&(this.currentSource_=i),this.sourceHandler_=r.handleSource(i,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};ie.registerComponent("Tech",Ge);Ge.registerTech("Tech",Ge);Ge.defaultTechOrder_=[];var Hs={},kg={},Rf={};function IV(t,e){Hs[t]=Hs[t]||[],Hs[t].push(e)}function DV(t,e,i){t.setTimeout(function(){return Ps(e,Hs[e.type],i,t)},1)}function MV(t,e){t.forEach(function(i){return i.setTech&&i.setTech(e)})}function RV(t,e,i){return t.reduceRight(h_(i),e[i]())}function LV(t,e,i,r){return e[i](t.reduce(h_(i),r))}function Uw(t,e,i,r){r===void 0&&(r=null);var n="call"+xt(i),s=t.reduce(h_(n),r),a=s===Rf,o=a?null:e[i](s);return FV(t,i,o,a),o}var jV={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},NV={setCurrentTime:1,setMuted:1,setVolume:1},Bw={play:1,pause:1};function h_(t){return function(e,i){return e===Rf?Rf:i[t]?i[t](e):e}}function FV(t,e,i,r){for(var n=t.length-1;n>=0;n--){var s=t[n];s[e]&&s[e](r,i)}}function UV(t){kg[t.id()]=null}function BV(t,e){var i=kg[t.id()],r=null;if(i==null)return r=e(t),kg[t.id()]=[[e,r]],r;for(var n=0;n<i.length;n++){var s=i[n],a=s[0],o=s[1];a===e&&(r=o)}return r===null&&(r=e(t),i.push([e,r])),r}function Ps(t,e,i,r,n,s){t===void 0&&(t={}),e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s=!1);var a=e,o=a[0],l=a.slice(1);if(typeof o=="string")Ps(t,Hs[o],i,r,n,s);else if(o){var u=BV(r,o);if(!u.setSource)return n.push(u),Ps(t,l,i,r,n,s);u.setSource(pt({},t),function(c,f){if(c)return Ps(t,l,i,r,n,s);n.push(u),Ps(f,t.type===f.type?l:Hs[f.type],i,r,n,s)})}else l.length?Ps(t,l,i,r,n,s):s?i(t,n):Ps(t,Hs["*"],i,r,n,!0)}var zV={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},Lf=function(e){e===void 0&&(e="");var i=f_(e),r=zV[i.toLowerCase()];return r||""},VV=function(e,i){if(!i)return"";if(e.cache_.source.src===i&&e.cache_.source.type)return e.cache_.source.type;var r=e.cache_.sources.filter(function(o){return o.src===i});if(r.length)return r[0].type;for(var n=e.$$("source"),s=0;s<n.length;s++){var a=n[s];if(a.type&&a.src&&a.src===i)return a.type}return Lf(i)},HV=function t(e){if(Array.isArray(e)){var i=[];e.forEach(function(r){r=t(r),Array.isArray(r)?i=i.concat(r):kr(r)&&i.push(r)}),e=i}else typeof e=="string"&&e.trim()?e=[zw({src:e})]:kr(e)&&typeof e.src=="string"&&e.src&&e.src.trim()?e=[zw(e)]:e=[];return e};function zw(t){if(!t.type){var e=Lf(t.src);e&&(t.type=e)}return t}var WV=function(t){le(e,t);function e(i,r,n){var s,a=tt({createEl:!1},r);if(s=t.call(this,i,a,n)||this,!r.playerOptions.sources||r.playerOptions.sources.length===0)for(var o=0,l=r.playerOptions.techOrder;o<l.length;o++){var u=xt(l[o]),c=Ge.getTech(u);if(u||(c=ie.getComponent(u)),c&&c.isSupported()){i.loadTech_(u);break}}else i.src(r.playerOptions.sources);return s}return e}(ie);ie.registerComponent("MediaLoader",WV);var $h=function(t){le(e,t);function e(r,n){var s;return s=t.call(this,r,n)||this,s.options_.controlText&&s.controlText(s.options_.controlText),s.handleMouseOver_=function(a){return s.handleMouseOver(a)},s.handleMouseOut_=function(a){return s.handleMouseOut(a)},s.handleClick_=function(a){return s.handleClick(a)},s.handleKeyDown_=function(a){return s.handleKeyDown(a)},s.emitTapEvents(),s.enable(),s}var i=e.prototype;return i.createEl=function(n,s,a){n===void 0&&(n="div"),s===void 0&&(s={}),a===void 0&&(a={}),s=pt({className:this.buildCSSClass(),tabIndex:0},s),n==="button"&&Le.error("Creating a ClickableComponent with an HTML element of "+n+" is not supported; use a Button instead."),a=pt({role:"button"},a),this.tabIndex_=s.tabIndex;var o=Ue(n,s,a);return o.appendChild(Ue("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(o),o},i.dispose=function(){this.controlTextEl_=null,t.prototype.dispose.call(this)},i.createControlTextEl=function(n){return this.controlTextEl_=Ue("span",{className:"vjs-control-text"},{"aria-live":"polite"}),n&&n.appendChild(this.controlTextEl_),this.controlText(this.controlText_,n),this.controlTextEl_},i.controlText=function(n,s){if(s===void 0&&(s=this.el()),n===void 0)return this.controlText_||"Need Text";var a=this.localize(n);this.controlText_=n,ua(this.controlTextEl_,a),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&s.setAttribute("title",a)},i.buildCSSClass=function(){return"vjs-control vjs-button "+t.prototype.buildCSSClass.call(this)},i.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_<"u"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))},i.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_<"u"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)},i.handleLanguagechange=function(){this.controlText(this.controlText_)},i.handleClick=function(n){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)},i.handleKeyDown=function(n){Oe.isEventKey(n,"Space")||Oe.isEventKey(n,"Enter")?(n.preventDefault(),n.stopPropagation(),this.trigger("click")):t.prototype.handleKeyDown.call(this,n)},e}(ie);ie.registerComponent("ClickableComponent",$h);var qV=function(t){le(e,t);function e(r,n){var s;return s=t.call(this,r,n)||this,s.update(),s.update_=function(a){return s.update(a)},r.on("posterchange",s.update_),s}var i=e.prototype;return i.dispose=function(){this.player().off("posterchange",this.update_),t.prototype.dispose.call(this)},i.createEl=function(){var n=Ue("div",{className:"vjs-poster",tabIndex:-1});return n},i.update=function(n){var s=this.player().poster();this.setSrc(s),s?this.show():this.hide()},i.setSrc=function(n){var s="";n&&(s='url("'+n+'")'),this.el_.style.backgroundImage=s},i.handleClick=function(n){if(!!this.player_.controls()){var s=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;this.player_.tech(!0)&&!((vc||mc)&&s)&&this.player_.tech(!0).focus(),this.player_.paused()?qn(this.player_.play()):this.player_.pause()}},e}($h);ie.registerComponent("PosterImage",qV);var an="#222",Vw="#ccc",$V={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function wm(t,e){var i;if(t.length===4)i=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else if(t.length===7)i=t.slice(1);else throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(i.slice(0,2),16)+","+parseInt(i.slice(2,4),16)+","+parseInt(i.slice(4,6),16)+","+e+")"}function Sm(t,e,i){try{t.style[e]=i}catch{return}}var GV=function(t){le(e,t);function e(r,n,s){var a;a=t.call(this,r,n,s)||this;var o=function(u){return a.updateDisplay(u)};return r.on("loadstart",function(l){return a.toggleDisplay(l)}),r.on("texttrackchange",o),r.on("loadedmetadata",function(l){return a.preselectTrack(l)}),r.ready(it(Ee(a),function(){if(r.tech_&&r.tech_.featuresNativeTextTracks){this.hide();return}r.on("fullscreenchange",o),r.on("playerresize",o),j.addEventListener("orientationchange",o),r.on("dispose",function(){return j.removeEventListener("orientationchange",o)});for(var l=this.options_.playerOptions.tracks||[],u=0;u<l.length;u++)this.player_.addRemoteTextTrack(l[u],!0);this.preselectTrack()})),a}var i=e.prototype;return i.preselectTrack=function(){for(var n={captions:1,subtitles:1},s=this.player_.textTracks(),a=this.player_.cache_.selectedLanguage,o,l,u,c=0;c<s.length;c++){var f=s[c];a&&a.enabled&&a.language&&a.language===f.language&&f.kind in n?f.kind===a.kind?u=f:u||(u=f):a&&!a.enabled?(u=null,o=null,l=null):f.default&&(f.kind==="descriptions"&&!o?o=f:f.kind in n&&!l&&(l=f))}u?u.mode="showing":l?l.mode="showing":o&&(o.mode="showing")},i.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})},i.clearDisplay=function(){typeof j.WebVTT=="function"&&j.WebVTT.processCues(j,[],this.el_)},i.updateDisplay=function(){var n=this.player_.textTracks(),s=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),s){for(var a=[],o=0;o<n.length;++o){var l=n[o];l.mode==="showing"&&a.push(l)}this.updateForTrack(a);return}for(var u=null,c=null,f=n.length;f--;){var d=n[f];d.mode==="showing"&&(d.kind==="descriptions"?u=d:c=d)}c?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(c)):u&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(u))},i.updateDisplayState=function(n){for(var s=this.player_.textTrackSettings.getValues(),a=n.activeCues,o=a.length;o--;){var l=a[o];if(!!l){var u=l.displayState;if(s.color&&(u.firstChild.style.color=s.color),s.textOpacity&&Sm(u.firstChild,"color",wm(s.color||"#fff",s.textOpacity)),s.backgroundColor&&(u.firstChild.style.backgroundColor=s.backgroundColor),s.backgroundOpacity&&Sm(u.firstChild,"backgroundColor",wm(s.backgroundColor||"#000",s.backgroundOpacity)),s.windowColor&&(s.windowOpacity?Sm(u,"backgroundColor",wm(s.windowColor,s.windowOpacity)):u.style.backgroundColor=s.windowColor),s.edgeStyle&&(s.edgeStyle==="dropshadow"?u.firstChild.style.textShadow="2px 2px 3px "+an+", 2px 2px 4px "+an+", 2px 2px 5px "+an:s.edgeStyle==="raised"?u.firstChild.style.textShadow="1px 1px "+an+", 2px 2px "+an+", 3px 3px "+an:s.edgeStyle==="depressed"?u.firstChild.style.textShadow="1px 1px "+Vw+", 0 1px "+Vw+", -1px -1px "+an+", 0 -1px "+an:s.edgeStyle==="uniform"&&(u.firstChild.style.textShadow="0 0 4px "+an+", 0 0 4px "+an+", 0 0 4px "+an+", 0 0 4px "+an)),s.fontPercent&&s.fontPercent!==1){var c=j.parseFloat(u.style.fontSize);u.style.fontSize=c*s.fontPercent+"px",u.style.height="auto",u.style.top="auto"}s.fontFamily&&s.fontFamily!=="default"&&(s.fontFamily==="small-caps"?u.firstChild.style.fontVariant="small-caps":u.firstChild.style.fontFamily=$V[s.fontFamily])}}},i.updateForTrack=function(n){if(Array.isArray(n)||(n=[n]),!(typeof j.WebVTT!="function"||n.every(function(p){return!p.activeCues}))){for(var s=[],a=0;a<n.length;++a)for(var o=n[a],l=0;l<o.activeCues.length;++l)s.push(o.activeCues[l]);j.WebVTT.processCues(j,s,this.el_);for(var u=0;u<n.length;++u){for(var c=n[u],f=0;f<c.activeCues.length;++f){var d=c.activeCues[f].displayState;_r(d,"vjs-text-track-cue"),_r(d,"vjs-text-track-cue-"+(c.language?c.language:u)),c.language&&yo(d,"lang",c.language)}this.player_.textTrackSettings&&this.updateDisplayState(c)}}},e}(ie);ie.registerComponent("TextTrackDisplay",GV);var KV=function(t){le(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.createEl=function(){var n=this.player_.isAudio(),s=this.localize(n?"Audio Player":"Video Player"),a=Ue("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[s])}),o=t.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return o.appendChild(a),o},e}(ie);ie.registerComponent("LoadingSpinner",KV);var In=function(t){le(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.createEl=function(n,s,a){s===void 0&&(s={}),a===void 0&&(a={}),n="button",s=pt({className:this.buildCSSClass()},s),a=pt({type:"button"},a);var o=Ue(n,s,a);return o.appendChild(Ue("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(o),o},i.addChild=function(n,s){s===void 0&&(s={});var a=this.constructor.name;return Le.warn("Adding an actionable (user controllable) child to a Button ("+a+") is not supported; use a ClickableComponent instead."),ie.prototype.addChild.call(this,n,s)},i.enable=function(){t.prototype.enable.call(this),this.el_.removeAttribute("disabled")},i.disable=function(){t.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},i.handleKeyDown=function(n){if(Oe.isEventKey(n,"Space")||Oe.isEventKey(n,"Enter")){n.stopPropagation();return}t.prototype.handleKeyDown.call(this,n)},e}($h);ie.registerComponent("Button",In);var LO=function(t){le(e,t);function e(r,n){var s;return s=t.call(this,r,n)||this,s.mouseused_=!1,s.on("mousedown",function(a){return s.handleMouseDown(a)}),s}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-big-play-button"},i.handleClick=function(n){var s=this.player_.play();if(this.mouseused_&&n.clientX&&n.clientY){var a=this.player_.usingPlugin("eme")&&this.player_.eme.sessions&&this.player_.eme.sessions.length>0;qn(s),this.player_.tech(!0)&&!((vc||mc)&&a)&&this.player_.tech(!0).focus();return}var o=this.player_.getChild("controlBar"),l=o&&o.getChild("playToggle");if(!l){this.player_.tech(!0).focus();return}var u=function(){return l.focus()};nu(s)?s.then(u,function(){}):this.setTimeout(u,1)},i.handleKeyDown=function(n){this.mouseused_=!1,t.prototype.handleKeyDown.call(this,n)},i.handleMouseDown=function(n){this.mouseused_=!0},e}(In);LO.prototype.controlText_="Play Video";ie.registerComponent("BigPlayButton",LO);var XV=function(t){le(e,t);function e(r,n){var s;return s=t.call(this,r,n)||this,s.controlText(n&&n.controlText||s.localize("Close")),s}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-close-button "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(n){this.trigger({type:"close",bubbles:!1})},i.handleKeyDown=function(n){Oe.isEventKey(n,"Esc")?(n.preventDefault(),n.stopPropagation(),this.trigger("click")):t.prototype.handleKeyDown.call(this,n)},e}(In);ie.registerComponent("CloseButton",XV);var jO=function(t){le(e,t);function e(r,n){var s;return n===void 0&&(n={}),s=t.call(this,r,n)||this,n.replay=n.replay===void 0||n.replay,s.on(r,"play",function(a){return s.handlePlay(a)}),s.on(r,"pause",function(a){return s.handlePause(a)}),n.replay&&s.on(r,"ended",function(a){return s.handleEnded(a)}),s}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-play-control "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(n){this.player_.paused()?qn(this.player_.play()):this.player_.pause()},i.handleSeeked=function(n){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(n):this.handlePlay(n)},i.handlePlay=function(n){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},i.handlePause=function(n){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},i.handleEnded=function(n){var s=this;this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",function(a){return s.handleSeeked(a)})},e}(In);jO.prototype.controlText_="Play";ie.registerComponent("PlayToggle",jO);var NO=function(e,i){e=e<0?0:e;var r=Math.floor(e%60),n=Math.floor(e/60%60),s=Math.floor(e/3600),a=Math.floor(i/60%60),o=Math.floor(i/3600);return(isNaN(e)||e===1/0)&&(s=n=r="-"),s=s>0||o>0?s+":":"",n=((s||a>=10)&&n<10?"0"+n:n)+":",r=r<10?"0"+r:r,s+n+r},p_=NO;function YV(t){p_=t}function QV(){p_=NO}function xo(t,e){return e===void 0&&(e=t),p_(t,e)}var Vo=function(t){le(e,t);function e(r,n){var s;return s=t.call(this,r,n)||this,s.on(r,["timeupdate","ended"],function(a){return s.updateContent(a)}),s.updateTextNode_(),s}var i=e.prototype;return i.createEl=function(){var n=this.buildCSSClass(),s=t.prototype.createEl.call(this,"div",{className:n+" vjs-time-control vjs-control"}),a=Ue("span",{className:"vjs-control-text",textContent:this.localize(this.labelText_)+"\xA0"},{role:"presentation"});return s.appendChild(a),this.contentEl_=Ue("span",{className:n+"-display"},{"aria-live":"off",role:"presentation"}),s.appendChild(this.contentEl_),s},i.dispose=function(){this.contentEl_=null,this.textNode_=null,t.prototype.dispose.call(this)},i.updateTextNode_=function(n){var s=this;n===void 0&&(n=0),n=xo(n),this.formattedTime_!==n&&(this.formattedTime_=n,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",function(){if(!!s.contentEl_){var a=s.textNode_;a&&s.contentEl_.firstChild!==a&&(a=null,Le.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),s.textNode_=ae.createTextNode(s.formattedTime_),s.textNode_&&(a?s.contentEl_.replaceChild(s.textNode_,a):s.contentEl_.appendChild(s.textNode_))}}))},i.updateContent=function(n){},e}(ie);Vo.prototype.labelText_="Time";Vo.prototype.controlText_="Time";ie.registerComponent("TimeDisplay",Vo);var m_=function(t){le(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-current-time"},i.updateContent=function(n){var s;this.player_.ended()?s=this.player_.duration():s=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(s)},e}(Vo);m_.prototype.labelText_="Current Time";m_.prototype.controlText_="Current Time";ie.registerComponent("CurrentTimeDisplay",m_);var v_=function(t){le(e,t);function e(r,n){var s;s=t.call(this,r,n)||this;var a=function(l){return s.updateContent(l)};return s.on(r,"durationchange",a),s.on(r,"loadstart",a),s.on(r,"loadedmetadata",a),s}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-duration"},i.updateContent=function(n){var s=this.player_.duration();this.updateTextNode_(s)},e}(Vo);v_.prototype.labelText_="Duration";v_.prototype.controlText_="Duration";ie.registerComponent("DurationDisplay",v_);var JV=function(t){le(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),s=t.prototype.createEl.call(this,"div"),a=t.prototype.createEl.call(this,"span",{textContent:"/"});return s.appendChild(a),n.appendChild(s),n},e}(ie);ie.registerComponent("TimeDivider",JV);var g_=function(t){le(e,t);function e(r,n){var s;return s=t.call(this,r,n)||this,s.on(r,"durationchange",function(a){return s.updateContent(a)}),s}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-remaining-time"},i.createEl=function(){var n=t.prototype.createEl.call(this);return this.options_.displayNegative!==!1&&n.insertBefore(Ue("span",{},{"aria-hidden":!0},"-"),this.contentEl_),n},i.updateContent=function(n){if(typeof this.player_.duration()=="number"){var s;this.player_.ended()?s=0:this.player_.remainingTimeDisplay?s=this.player_.remainingTimeDisplay():s=this.player_.remainingTime(),this.updateTextNode_(s)}},e}(Vo);g_.prototype.labelText_="Remaining Time";g_.prototype.controlText_="Remaining Time";ie.registerComponent("RemainingTimeDisplay",g_);var ZV=function(t){le(e,t);function e(r,n){var s;return s=t.call(this,r,n)||this,s.updateShowing(),s.on(s.player(),"durationchange",function(a){return s.updateShowing(a)}),s}var i=e.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=Ue("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(Ue("span",{className:"vjs-control-text",textContent:this.localize("Stream Type")+"\xA0"})),this.contentEl_.appendChild(ae.createTextNode(this.localize("LIVE"))),n.appendChild(this.contentEl_),n},i.dispose=function(){this.contentEl_=null,t.prototype.dispose.call(this)},i.updateShowing=function(n){this.player().duration()===1/0?this.show():this.hide()},e}(ie);ie.registerComponent("LiveDisplay",ZV);var FO=function(t){le(e,t);function e(r,n){var s;return s=t.call(this,r,n)||this,s.updateLiveEdgeStatus(),s.player_.liveTracker&&(s.updateLiveEdgeStatusHandler_=function(a){return s.updateLiveEdgeStatus(a)},s.on(s.player_.liveTracker,"liveedgechange",s.updateLiveEdgeStatusHandler_)),s}var i=e.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=Ue("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),n.appendChild(this.textEl_),n},i.updateLiveEdgeStatus=function(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},i.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},i.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,t.prototype.dispose.call(this)},e}(In);FO.prototype.controlText_="Seek to live, currently playing live";ie.registerComponent("SeekToLive",FO);var Gh=function(e,i,r){return e=Number(e),Math.min(r,Math.max(i,isNaN(e)?i:e))},y_=function(t){le(e,t);function e(r,n){var s;return s=t.call(this,r,n)||this,s.handleMouseDown_=function(a){return s.handleMouseDown(a)},s.handleMouseUp_=function(a){return s.handleMouseUp(a)},s.handleKeyDown_=function(a){return s.handleKeyDown(a)},s.handleClick_=function(a){return s.handleClick(a)},s.handleMouseMove_=function(a){return s.handleMouseMove(a)},s.update_=function(a){return s.update(a)},s.bar=s.getChild(s.options_.barName),s.vertical(!!s.options_.vertical),s.enable(),s}var i=e.prototype;return i.enabled=function(){return this.enabled_},i.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},i.disable=function(){if(!!this.enabled()){var n=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(n,"mousemove",this.handleMouseMove_),this.off(n,"mouseup",this.handleMouseUp_),this.off(n,"touchmove",this.handleMouseMove_),this.off(n,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},i.createEl=function(n,s,a){return s===void 0&&(s={}),a===void 0&&(a={}),s.className=s.className+" vjs-slider",s=pt({tabIndex:0},s),a=pt({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},a),t.prototype.createEl.call(this,n,s,a)},i.handleMouseDown=function(n){var s=this.bar.el_.ownerDocument;n.type==="mousedown"&&n.preventDefault(),n.type==="touchstart"&&!Dr&&n.preventDefault(),hO(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(s,"mousemove",this.handleMouseMove_),this.on(s,"mouseup",this.handleMouseUp_),this.on(s,"touchmove",this.handleMouseMove_),this.on(s,"touchend",this.handleMouseUp_),this.handleMouseMove(n,!0)},i.handleMouseMove=function(n){},i.handleMouseUp=function(){var n=this.bar.el_.ownerDocument;pO(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(n,"mousemove",this.handleMouseMove_),this.off(n,"mouseup",this.handleMouseUp_),this.off(n,"touchmove",this.handleMouseMove_),this.off(n,"touchend",this.handleMouseUp_),this.update()},i.update=function(){var n=this;if(!(!this.el_||!this.bar)){var s=this.getProgress();return s===this.progress_||(this.progress_=s,this.requestNamedAnimationFrame("Slider#update",function(){var a=n.vertical()?"height":"width";n.bar.el().style[a]=(s*100).toFixed(2)+"%"})),s}},i.getProgress=function(){return Number(Gh(this.getPercent(),0,1).toFixed(4))},i.calculateDistance=function(n){var s=zh(this.el_,n);return this.vertical()?s.y:s.x},i.handleKeyDown=function(n){Oe.isEventKey(n,"Left")||Oe.isEventKey(n,"Down")?(n.preventDefault(),n.stopPropagation(),this.stepBack()):Oe.isEventKey(n,"Right")||Oe.isEventKey(n,"Up")?(n.preventDefault(),n.stopPropagation(),this.stepForward()):t.prototype.handleKeyDown.call(this,n)},i.handleClick=function(n){n.stopPropagation(),n.preventDefault()},i.vertical=function(n){if(n===void 0)return this.vertical_||!1;this.vertical_=!!n,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},e}(ie);ie.registerComponent("Slider",y_);var Em=function(e,i){return Gh(e/i*100,0,100).toFixed(2)+"%"},eH=function(t){le(e,t);function e(r,n){var s;return s=t.call(this,r,n)||this,s.partEls_=[],s.on(r,"progress",function(a){return s.update(a)}),s}var i=e.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-load-progress"}),s=Ue("span",{className:"vjs-control-text"}),a=Ue("span",{textContent:this.localize("Loaded")}),o=ae.createTextNode(": ");return this.percentageEl_=Ue("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),n.appendChild(s),s.appendChild(a),s.appendChild(o),s.appendChild(this.percentageEl_),n},i.dispose=function(){this.partEls_=null,this.percentageEl_=null,t.prototype.dispose.call(this)},i.update=function(n){var s=this;this.requestNamedAnimationFrame("LoadProgressBar#update",function(){var a=s.player_.liveTracker,o=s.player_.buffered(),l=a&&a.isLive()?a.seekableEnd():s.player_.duration(),u=s.player_.bufferedEnd(),c=s.partEls_,f=Em(u,l);s.percent_!==f&&(s.el_.style.width=f,ua(s.percentageEl_,f),s.percent_=f);for(var d=0;d<o.length;d++){var p=o.start(d),g=o.end(d),b=c[d];b||(b=s.el_.appendChild(Ue()),c[d]=b),!(b.dataset.start===p&&b.dataset.end===g)&&(b.dataset.start=p,b.dataset.end=g,b.style.left=Em(p,u),b.style.width=Em(g-p,u))}for(var y=c.length;y>o.length;y--)s.el_.removeChild(c[y-1]);c.length=o.length})},e}(ie);ie.registerComponent("LoadProgressBar",eH);var tH=function(t){le(e,t);function e(r,n){var s;return s=t.call(this,r,n)||this,s.update=Pr(it(Ee(s),s.update),Mn),s}var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},i.update=function(n,s,a){var o=Bu(this.el_),l=_o(this.player_.el()),u=n.width*s;if(!(!l||!o)){var c=n.left-l.left+u,f=n.width-u+(l.right-n.right),d=o.width/2;c<d?d+=d-c:f<d&&(d=f),d<0?d=0:d>o.width&&(d=o.width),d=Math.round(d),this.el_.style.right="-"+d+"px",this.write(a)}},i.write=function(n){ua(this.el_,n)},i.updateTime=function(n,s,a,o){var l=this;this.requestNamedAnimationFrame("TimeTooltip#updateTime",function(){var u,c=l.player_.duration();if(l.player_.liveTracker&&l.player_.liveTracker.isLive()){var f=l.player_.liveTracker.liveWindow(),d=f-s*f;u=(d<1?"":"-")+xo(d,f)}else u=xo(a,c);l.update(n,s,u),o&&o()})},e}(ie);ie.registerComponent("TimeTooltip",tH);var __=function(t){le(e,t);function e(r,n){var s;return s=t.call(this,r,n)||this,s.update=Pr(it(Ee(s),s.update),Mn),s}var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},i.update=function(n,s){var a=this.getChild("timeTooltip");if(!!a){var o=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();a.updateTime(n,s,o)}},e}(ie);__.prototype.options_={children:[]};!Si&&!Ir&&__.prototype.options_.children.push("timeTooltip");ie.registerComponent("PlayProgressBar",__);var UO=function(t){le(e,t);function e(r,n){var s;return s=t.call(this,r,n)||this,s.update=Pr(it(Ee(s),s.update),Mn),s}var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},i.update=function(n,s){var a=this,o=s*this.player_.duration();this.getChild("timeTooltip").updateTime(n,s,o,function(){a.el_.style.left=n.width*s+"px"})},e}(ie);UO.prototype.options_={children:["timeTooltip"]};ie.registerComponent("MouseTimeDisplay",UO);var fd=5,Hw=12,b_=function(t){le(e,t);function e(r,n){var s;return s=t.call(this,r,n)||this,s.setEventHandlers_(),s}var i=e.prototype;return i.setEventHandlers_=function(){var n=this;this.update_=it(this,this.update),this.update=Pr(this.update_,Mn),this.on(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=function(s){return n.enableInterval_(s)},this.disableIntervalHandler_=function(s){return n.disableInterval_(s)},this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in ae&&"visibilityState"in ae&&this.on(ae,"visibilitychange",this.toggleVisibility_)},i.toggleVisibility_=function(n){ae.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(n)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())},i.enableInterval_=function(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,Mn))},i.disableInterval_=function(n){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&n&&n.type!=="ended"||!this.updateInterval||(this.clearInterval(this.updateInterval),this.updateInterval=null)},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},i.update=function(n){var s=this;if(ae.visibilityState!=="hidden"){var a=t.prototype.update.call(this);return this.requestNamedAnimationFrame("SeekBar#update",function(){var o=s.player_.ended()?s.player_.duration():s.getCurrentTime_(),l=s.player_.liveTracker,u=s.player_.duration();l&&l.isLive()&&(u=s.player_.liveTracker.liveCurrentTime()),s.percent_!==a&&(s.el_.setAttribute("aria-valuenow",(a*100).toFixed(2)),s.percent_=a),(s.currentTime_!==o||s.duration_!==u)&&(s.el_.setAttribute("aria-valuetext",s.localize("progress bar timing: currentTime={1} duration={2}",[xo(o,u),xo(u,u)],"{1} of {2}")),s.currentTime_=o,s.duration_=u),s.bar&&s.bar.update(_o(s.el()),s.getProgress())}),a}},i.userSeek_=function(n){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(n)},i.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},i.getPercent=function(){var n=this.getCurrentTime_(),s,a=this.player_.liveTracker;return a&&a.isLive()?(s=(n-a.seekableStart())/a.liveWindow(),a.atLiveEdge()&&(s=1)):s=n/this.player_.duration(),s},i.handleMouseDown=function(n){!zu(n)||(n.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),t.prototype.handleMouseDown.call(this,n))},i.handleMouseMove=function(n,s){if(s===void 0&&(s=!1),!!zu(n)){!s&&!this.player_.scrubbing()&&this.player_.scrubbing(!0);var a,o=this.calculateDistance(n),l=this.player_.liveTracker;if(!l||!l.isLive())a=o*this.player_.duration(),a===this.player_.duration()&&(a=a-.1);else{if(o>=.99){l.seekToLiveEdge();return}var u=l.seekableStart(),c=l.liveCurrentTime();if(a=u+o*l.liveWindow(),a>=c&&(a=c),a<=u&&(a=u+.1),a===1/0)return}this.userSeek_(a)}},i.enable=function(){t.prototype.enable.call(this);var n=this.getChild("mouseTimeDisplay");!n||n.show()},i.disable=function(){t.prototype.disable.call(this);var n=this.getChild("mouseTimeDisplay");!n||n.hide()},i.handleMouseUp=function(n){t.prototype.handleMouseUp.call(this,n),n&&n.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?qn(this.player_.play()):this.update_()},i.stepForward=function(){this.userSeek_(this.player_.currentTime()+fd)},i.stepBack=function(){this.userSeek_(this.player_.currentTime()-fd)},i.handleAction=function(n){this.player_.paused()?this.player_.play():this.player_.pause()},i.handleKeyDown=function(n){var s=this.player_.liveTracker;if(Oe.isEventKey(n,"Space")||Oe.isEventKey(n,"Enter"))n.preventDefault(),n.stopPropagation(),this.handleAction(n);else if(Oe.isEventKey(n,"Home"))n.preventDefault(),n.stopPropagation(),this.userSeek_(0);else if(Oe.isEventKey(n,"End"))n.preventDefault(),n.stopPropagation(),s&&s.isLive()?this.userSeek_(s.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(Oe(n))){n.preventDefault(),n.stopPropagation();var a=(Oe.codes[Oe(n)]-Oe.codes[0])*10/100;s&&s.isLive()?this.userSeek_(s.seekableStart()+s.liveWindow()*a):this.userSeek_(this.player_.duration()*a)}else Oe.isEventKey(n,"PgDn")?(n.preventDefault(),n.stopPropagation(),this.userSeek_(this.player_.currentTime()-fd*Hw)):Oe.isEventKey(n,"PgUp")?(n.preventDefault(),n.stopPropagation(),this.userSeek_(this.player_.currentTime()+fd*Hw)):t.prototype.handleKeyDown.call(this,n)},i.dispose=function(){this.disableInterval_(),this.off(this.player_,["ended","durationchange","timeupdate"],this.update),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in ae&&"visibilityState"in ae&&this.off(ae,"visibilitychange",this.toggleVisibility_),t.prototype.dispose.call(this)},e}(y_);b_.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"};!Si&&!Ir&&b_.prototype.options_.children.splice(1,0,"mouseTimeDisplay");ie.registerComponent("SeekBar",b_);var BO=function(t){le(e,t);function e(r,n){var s;return s=t.call(this,r,n)||this,s.handleMouseMove=Pr(it(Ee(s),s.handleMouseMove),Mn),s.throttledHandleMouseSeek=Pr(it(Ee(s),s.handleMouseSeek),Mn),s.handleMouseUpHandler_=function(a){return s.handleMouseUp(a)},s.handleMouseDownHandler_=function(a){return s.handleMouseDown(a)},s.enable(),s}var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},i.handleMouseMove=function(n){var s=this.getChild("seekBar");if(!!s){var a=s.getChild("playProgressBar"),o=s.getChild("mouseTimeDisplay");if(!(!a&&!o)){var l=s.el(),u=Bu(l),c=zh(l,n).x;c=Gh(c,0,1),o&&o.update(u,c),a&&a.update(u,s.getProgress())}}},i.handleMouseSeek=function(n){var s=this.getChild("seekBar");s&&s.handleMouseMove(n)},i.enabled=function(){return this.enabled_},i.disable=function(){if(this.children().forEach(function(s){return s.disable&&s.disable()}),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,"mousemove",this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){var n=this.getChild("seekBar");this.player_.scrubbing(!1),n.videoWasPlaying&&qn(this.player_.play())}},i.enable=function(){this.children().forEach(function(n){return n.enable&&n.enable()}),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},i.removeListenersAddedOnMousedownAndTouchstart=function(){var n=this.el_.ownerDocument;this.off(n,"mousemove",this.throttledHandleMouseSeek),this.off(n,"touchmove",this.throttledHandleMouseSeek),this.off(n,"mouseup",this.handleMouseUpHandler_),this.off(n,"touchend",this.handleMouseUpHandler_)},i.handleMouseDown=function(n){var s=this.el_.ownerDocument,a=this.getChild("seekBar");a&&a.handleMouseDown(n),this.on(s,"mousemove",this.throttledHandleMouseSeek),this.on(s,"touchmove",this.throttledHandleMouseSeek),this.on(s,"mouseup",this.handleMouseUpHandler_),this.on(s,"touchend",this.handleMouseUpHandler_)},i.handleMouseUp=function(n){var s=this.getChild("seekBar");s&&s.handleMouseUp(n),this.removeListenersAddedOnMousedownAndTouchstart()},e}(ie);BO.prototype.options_={children:["seekBar"]};ie.registerComponent("ProgressControl",BO);var zO=function(t){le(e,t);function e(r,n){var s;return s=t.call(this,r,n)||this,s.on(r,["enterpictureinpicture","leavepictureinpicture"],function(a){return s.handlePictureInPictureChange(a)}),s.on(r,["disablepictureinpicturechanged","loadedmetadata"],function(a){return s.handlePictureInPictureEnabledChange(a)}),s.on(r,["loadedmetadata","audioonlymodechange","audiopostermodechange"],function(){var a=r.currentType().substring(0,5)==="audio";a||r.audioPosterMode()||r.audioOnlyMode()?(r.isInPictureInPicture()&&r.exitPictureInPicture(),s.hide()):s.show()}),s.disable(),s}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-picture-in-picture-control "+t.prototype.buildCSSClass.call(this)},i.handlePictureInPictureEnabledChange=function(){ae.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1?this.enable():this.disable()},i.handlePictureInPictureChange=function(n){this.player_.isInPictureInPicture()?this.controlText("Exit Picture-in-Picture"):this.controlText("Picture-in-Picture"),this.handlePictureInPictureEnabledChange()},i.handleClick=function(n){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()},e}(In);zO.prototype.controlText_="Picture-in-Picture";ie.registerComponent("PictureInPictureToggle",zO);var VO=function(t){le(e,t);function e(r,n){var s;return s=t.call(this,r,n)||this,s.on(r,"fullscreenchange",function(a){return s.handleFullscreenChange(a)}),ae[r.fsApi_.fullscreenEnabled]===!1&&s.disable(),s}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-fullscreen-control "+t.prototype.buildCSSClass.call(this)},i.handleFullscreenChange=function(n){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},i.handleClick=function(n){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},e}(In);VO.prototype.controlText_="Fullscreen";ie.registerComponent("FullscreenToggle",VO);var iH=function(e,i){i.tech_&&!i.tech_.featuresVolumeControl&&e.addClass("vjs-hidden"),e.on(i,"loadstart",function(){i.tech_.featuresVolumeControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},nH=function(t){le(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this,"div",{className:"vjs-volume-level"});return n.appendChild(t.prototype.createEl.call(this,"span",{className:"vjs-control-text"})),n},e}(ie);ie.registerComponent("VolumeLevel",nH);var rH=function(t){le(e,t);function e(r,n){var s;return s=t.call(this,r,n)||this,s.update=Pr(it(Ee(s),s.update),Mn),s}var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})},i.update=function(n,s,a,o){if(!a){var l=_o(this.el_),u=_o(this.player_.el()),c=n.width*s;if(!u||!l)return;var f=n.left-u.left+c,d=n.width-c+(u.right-n.right),p=l.width/2;f<p?p+=p-f:d<p&&(p=d),p<0?p=0:p>l.width&&(p=l.width),this.el_.style.right="-"+p+"px"}this.write(o+"%")},i.write=function(n){ua(this.el_,n)},i.updateVolume=function(n,s,a,o,l){var u=this;this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",function(){u.update(n,s,a,o.toFixed(0)),l&&l()})},e}(ie);ie.registerComponent("VolumeLevelTooltip",rH);var HO=function(t){le(e,t);function e(r,n){var s;return s=t.call(this,r,n)||this,s.update=Pr(it(Ee(s),s.update),Mn),s}var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},i.update=function(n,s,a){var o=this,l=100*s;this.getChild("volumeLevelTooltip").updateVolume(n,s,a,l,function(){a?o.el_.style.bottom=n.height*s+"px":o.el_.style.left=n.width*s+"px"})},e}(ie);HO.prototype.options_={children:["volumeLevelTooltip"]};ie.registerComponent("MouseVolumeLevelDisplay",HO);var Kh=function(t){le(e,t);function e(r,n){var s;return s=t.call(this,r,n)||this,s.on("slideractive",function(a){return s.updateLastVolume_(a)}),s.on(r,"volumechange",function(a){return s.updateARIAAttributes(a)}),r.ready(function(){return s.updateARIAAttributes()}),s}var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},i.handleMouseDown=function(n){!zu(n)||t.prototype.handleMouseDown.call(this,n)},i.handleMouseMove=function(n){var s=this.getChild("mouseVolumeLevelDisplay");if(s){var a=this.el(),o=_o(a),l=this.vertical(),u=zh(a,n);u=l?u.y:u.x,u=Gh(u,0,1),s.update(o,u,l)}!zu(n)||(this.checkMuted(),this.player_.volume(this.calculateDistance(n)))},i.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},i.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},i.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},i.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},i.updateARIAAttributes=function(n){var s=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",s),this.el_.setAttribute("aria-valuetext",s+"%")},i.volumeAsPercentage_=function(){return Math.round(this.player_.volume()*100)},i.updateLastVolume_=function(){var n=this,s=this.player_.volume();this.one("sliderinactive",function(){n.player_.volume()===0&&n.player_.lastVolume_(s)})},e}(y_);Kh.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};!Si&&!Ir&&Kh.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay");Kh.prototype.playerEvent="volumechange";ie.registerComponent("VolumeBar",Kh);var WO=function(t){le(e,t);function e(r,n){var s;return n===void 0&&(n={}),n.vertical=n.vertical||!1,(typeof n.volumeBar>"u"||Fu(n.volumeBar))&&(n.volumeBar=n.volumeBar||{},n.volumeBar.vertical=n.vertical),s=t.call(this,r,n)||this,iH(Ee(s),r),s.throttledHandleMouseMove=Pr(it(Ee(s),s.handleMouseMove),Mn),s.handleMouseUpHandler_=function(a){return s.handleMouseUp(a)},s.on("mousedown",function(a){return s.handleMouseDown(a)}),s.on("touchstart",function(a){return s.handleMouseDown(a)}),s.on("mousemove",function(a){return s.handleMouseMove(a)}),s.on(s.volumeBar,["focus","slideractive"],function(){s.volumeBar.addClass("vjs-slider-active"),s.addClass("vjs-slider-active"),s.trigger("slideractive")}),s.on(s.volumeBar,["blur","sliderinactive"],function(){s.volumeBar.removeClass("vjs-slider-active"),s.removeClass("vjs-slider-active"),s.trigger("sliderinactive")}),s}var i=e.prototype;return i.createEl=function(){var n="vjs-volume-horizontal";return this.options_.vertical&&(n="vjs-volume-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+n})},i.handleMouseDown=function(n){var s=this.el_.ownerDocument;this.on(s,"mousemove",this.throttledHandleMouseMove),this.on(s,"touchmove",this.throttledHandleMouseMove),this.on(s,"mouseup",this.handleMouseUpHandler_),this.on(s,"touchend",this.handleMouseUpHandler_)},i.handleMouseUp=function(n){var s=this.el_.ownerDocument;this.off(s,"mousemove",this.throttledHandleMouseMove),this.off(s,"touchmove",this.throttledHandleMouseMove),this.off(s,"mouseup",this.handleMouseUpHandler_),this.off(s,"touchend",this.handleMouseUpHandler_)},i.handleMouseMove=function(n){this.volumeBar.handleMouseMove(n)},e}(ie);WO.prototype.options_={children:["volumeBar"]};ie.registerComponent("VolumeControl",WO);var sH=function(e,i){i.tech_&&!i.tech_.featuresMuteControl&&e.addClass("vjs-hidden"),e.on(i,"loadstart",function(){i.tech_.featuresMuteControl?e.removeClass("vjs-hidden"):e.addClass("vjs-hidden")})},qO=function(t){le(e,t);function e(r,n){var s;return s=t.call(this,r,n)||this,sH(Ee(s),r),s.on(r,["loadstart","volumechange"],function(a){return s.update(a)}),s}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-mute-control "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(n){var s=this.player_.volume(),a=this.player_.lastVolume_();if(s===0){var o=a<.1?.1:a;this.player_.volume(o),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},i.update=function(n){this.updateIcon_(),this.updateControlText_()},i.updateIcon_=function(){var n=this.player_.volume(),s=3;Si&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),n===0||this.player_.muted()?s=0:n<.33?s=1:n<.67&&(s=2);for(var a=0;a<4;a++)gc(this.el_,"vjs-vol-"+a);_r(this.el_,"vjs-vol-"+s)},i.updateControlText_=function(){var n=this.player_.muted()||this.player_.volume()===0,s=n?"Unmute":"Mute";this.controlText()!==s&&this.controlText(s)},e}(In);qO.prototype.controlText_="Mute";ie.registerComponent("MuteToggle",qO);var $O=function(t){le(e,t);function e(r,n){var s;return n===void 0&&(n={}),typeof n.inline<"u"?n.inline=n.inline:n.inline=!0,(typeof n.volumeControl>"u"||Fu(n.volumeControl))&&(n.volumeControl=n.volumeControl||{},n.volumeControl.vertical=!n.inline),s=t.call(this,r,n)||this,s.handleKeyPressHandler_=function(a){return s.handleKeyPress(a)},s.on(r,["loadstart"],function(a){return s.volumePanelState_(a)}),s.on(s.muteToggle,"keyup",function(a){return s.handleKeyPress(a)}),s.on(s.volumeControl,"keyup",function(a){return s.handleVolumeControlKeyUp(a)}),s.on("keydown",function(a){return s.handleKeyPress(a)}),s.on("mouseover",function(a){return s.handleMouseOver(a)}),s.on("mouseout",function(a){return s.handleMouseOut(a)}),s.on(s.volumeControl,["slideractive"],s.sliderActive_),s.on(s.volumeControl,["sliderinactive"],s.sliderInactive_),s}var i=e.prototype;return i.sliderActive_=function(){this.addClass("vjs-slider-active")},i.sliderInactive_=function(){this.removeClass("vjs-slider-active")},i.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},i.createEl=function(){var n="vjs-volume-panel-horizontal";return this.options_.inline||(n="vjs-volume-panel-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+n})},i.dispose=function(){this.handleMouseOut(),t.prototype.dispose.call(this)},i.handleVolumeControlKeyUp=function(n){Oe.isEventKey(n,"Esc")&&this.muteToggle.focus()},i.handleMouseOver=function(n){this.addClass("vjs-hover"),en(ae,"keyup",this.handleKeyPressHandler_)},i.handleMouseOut=function(n){this.removeClass("vjs-hover"),si(ae,"keyup",this.handleKeyPressHandler_)},i.handleKeyPress=function(n){Oe.isEventKey(n,"Esc")&&this.handleMouseOut()},e}(ie);$O.prototype.options_={children:["muteToggle","volumeControl"]};ie.registerComponent("VolumePanel",$O);var GO=function(t){le(e,t);function e(r,n){var s;return s=t.call(this,r,n)||this,n&&(s.menuButton_=n.menuButton),s.focusedChild_=-1,s.on("keydown",function(a){return s.handleKeyDown(a)}),s.boundHandleBlur_=function(a){return s.handleBlur(a)},s.boundHandleTapClick_=function(a){return s.handleTapClick(a)},s}var i=e.prototype;return i.addEventListenerForItem=function(n){n instanceof ie&&(this.on(n,"blur",this.boundHandleBlur_),this.on(n,["tap","click"],this.boundHandleTapClick_))},i.removeEventListenerForItem=function(n){n instanceof ie&&(this.off(n,"blur",this.boundHandleBlur_),this.off(n,["tap","click"],this.boundHandleTapClick_))},i.removeChild=function(n){typeof n=="string"&&(n=this.getChild(n)),this.removeEventListenerForItem(n),t.prototype.removeChild.call(this,n)},i.addItem=function(n){var s=this.addChild(n);s&&this.addEventListenerForItem(s)},i.createEl=function(){var n=this.options_.contentElType||"ul";this.contentEl_=Ue(n,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var s=t.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return s.appendChild(this.contentEl_),en(s,"click",function(a){a.preventDefault(),a.stopImmediatePropagation()}),s},i.dispose=function(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,t.prototype.dispose.call(this)},i.handleBlur=function(n){var s=n.relatedTarget||ae.activeElement;if(!this.children().some(function(o){return o.el()===s})){var a=this.menuButton_;a&&a.buttonPressed_&&s!==a.el().firstChild&&a.unpressButton()}},i.handleTapClick=function(n){if(this.menuButton_){this.menuButton_.unpressButton();var s=this.children();if(!Array.isArray(s))return;var a=s.filter(function(o){return o.el()===n.target})[0];if(!a)return;a.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}},i.handleKeyDown=function(n){Oe.isEventKey(n,"Left")||Oe.isEventKey(n,"Down")?(n.preventDefault(),n.stopPropagation(),this.stepForward()):(Oe.isEventKey(n,"Right")||Oe.isEventKey(n,"Up"))&&(n.preventDefault(),n.stopPropagation(),this.stepBack())},i.stepForward=function(){var n=0;this.focusedChild_!==void 0&&(n=this.focusedChild_+1),this.focus(n)},i.stepBack=function(){var n=0;this.focusedChild_!==void 0&&(n=this.focusedChild_-1),this.focus(n)},i.focus=function(n){n===void 0&&(n=0);var s=this.children().slice(),a=s.length&&s[0].hasClass("vjs-menu-title");a&&s.shift(),s.length>0&&(n<0?n=0:n>=s.length&&(n=s.length-1),this.focusedChild_=n,s[n].el_.focus())},e}(ie);ie.registerComponent("Menu",GO);var T_=function(t){le(e,t);function e(r,n){var s;n===void 0&&(n={}),s=t.call(this,r,n)||this,s.menuButton_=new In(r,n),s.menuButton_.controlText(s.controlText_),s.menuButton_.el_.setAttribute("aria-haspopup","true");var a=In.prototype.buildCSSClass();s.menuButton_.el_.className=s.buildCSSClass()+" "+a,s.menuButton_.removeClass("vjs-control"),s.addChild(s.menuButton_),s.update(),s.enabled_=!0;var o=function(u){return s.handleClick(u)};return s.handleMenuKeyUp_=function(l){return s.handleMenuKeyUp(l)},s.on(s.menuButton_,"tap",o),s.on(s.menuButton_,"click",o),s.on(s.menuButton_,"keydown",function(l){return s.handleKeyDown(l)}),s.on(s.menuButton_,"mouseenter",function(){s.addClass("vjs-hover"),s.menu.show(),en(ae,"keyup",s.handleMenuKeyUp_)}),s.on("mouseleave",function(l){return s.handleMouseLeave(l)}),s.on("keydown",function(l){return s.handleSubmenuKeyDown(l)}),s}var i=e.prototype;return i.update=function(){var n=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=n,this.addChild(n),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))},i.createMenu=function(){var n=new GO(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var s=Ue("li",{className:"vjs-menu-title",textContent:xt(this.options_.title),tabIndex:-1}),a=new ie(this.player_,{el:s});n.addItem(a)}if(this.items=this.createItems(),this.items)for(var o=0;o<this.items.length;o++)n.addItem(this.items[o]);return n},i.createItems=function(){},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},i.buildWrapperCSSClass=function(){var n="vjs-menu-button";this.options_.inline===!0?n+="-inline":n+="-popup";var s=In.prototype.buildCSSClass();return"vjs-menu-button "+n+" "+s+" "+t.prototype.buildCSSClass.call(this)},i.buildCSSClass=function(){var n="vjs-menu-button";return this.options_.inline===!0?n+="-inline":n+="-popup","vjs-menu-button "+n+" "+t.prototype.buildCSSClass.call(this)},i.controlText=function(n,s){return s===void 0&&(s=this.menuButton_.el()),this.menuButton_.controlText(n,s)},i.dispose=function(){this.handleMouseLeave(),t.prototype.dispose.call(this)},i.handleClick=function(n){this.buttonPressed_?this.unpressButton():this.pressButton()},i.handleMouseLeave=function(n){this.removeClass("vjs-hover"),si(ae,"keyup",this.handleMenuKeyUp_)},i.focus=function(){this.menuButton_.focus()},i.blur=function(){this.menuButton_.blur()},i.handleKeyDown=function(n){Oe.isEventKey(n,"Esc")||Oe.isEventKey(n,"Tab")?(this.buttonPressed_&&this.unpressButton(),Oe.isEventKey(n,"Tab")||(n.preventDefault(),this.menuButton_.focus())):(Oe.isEventKey(n,"Up")||Oe.isEventKey(n,"Down"))&&(this.buttonPressed_||(n.preventDefault(),this.pressButton()))},i.handleMenuKeyUp=function(n){(Oe.isEventKey(n,"Esc")||Oe.isEventKey(n,"Tab"))&&this.removeClass("vjs-hover")},i.handleSubmenuKeyPress=function(n){this.handleSubmenuKeyDown(n)},i.handleSubmenuKeyDown=function(n){(Oe.isEventKey(n,"Esc")||Oe.isEventKey(n,"Tab"))&&(this.buttonPressed_&&this.unpressButton(),Oe.isEventKey(n,"Tab")||(n.preventDefault(),this.menuButton_.focus()))},i.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),Si&&lO())return;this.menu.focus()}},i.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},i.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},i.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},e}(ie);ie.registerComponent("MenuButton",T_);var x_=function(t){le(e,t);function e(i,r){var n,s=r.tracks;if(n=t.call(this,i,r)||this,n.items.length<=1&&n.hide(),!s)return Ee(n);var a=it(Ee(n),n.update);return s.addEventListener("removetrack",a),s.addEventListener("addtrack",a),s.addEventListener("labelchange",a),n.player_.on("ready",a),n.player_.on("dispose",function(){s.removeEventListener("removetrack",a),s.removeEventListener("addtrack",a),s.removeEventListener("labelchange",a)}),n}return e}(T_);ie.registerComponent("TrackButton",x_);var aH=["Tab","Esc","Up","Down","Right","Left"],_c=function(t){le(e,t);function e(r,n){var s;return s=t.call(this,r,n)||this,s.selectable=n.selectable,s.isSelected_=n.selected||!1,s.multiSelectable=n.multiSelectable,s.selected(s.isSelected_),s.selectable?s.multiSelectable?s.el_.setAttribute("role","menuitemcheckbox"):s.el_.setAttribute("role","menuitemradio"):s.el_.setAttribute("role","menuitem"),s}var i=e.prototype;return i.createEl=function(n,s,a){this.nonIconControl=!0;var o=t.prototype.createEl.call(this,"li",pt({className:"vjs-menu-item",tabIndex:-1},s),a);return o.replaceChild(Ue("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)}),o.querySelector(".vjs-icon-placeholder")),o},i.handleKeyDown=function(n){aH.some(function(s){return Oe.isEventKey(n,s)})||t.prototype.handleKeyDown.call(this,n)},i.handleClick=function(n){this.selected(!0)},i.selected=function(n){this.selectable&&(n?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},e}($h);ie.registerComponent("MenuItem",_c);var bc=function(t){le(e,t);function e(r,n){var s,a=n.track,o=r.textTracks();n.label=a.label||a.language||"Unknown",n.selected=a.mode==="showing",s=t.call(this,r,n)||this,s.track=a,s.kinds=(n.kinds||[n.kind||s.track.kind]).filter(Boolean);var l=function(){for(var d=arguments.length,p=new Array(d),g=0;g<d;g++)p[g]=arguments[g];s.handleTracksChange.apply(Ee(s),p)},u=function(){for(var d=arguments.length,p=new Array(d),g=0;g<d;g++)p[g]=arguments[g];s.handleSelectedLanguageChange.apply(Ee(s),p)};if(r.on(["loadstart","texttrackchange"],l),o.addEventListener("change",l),o.addEventListener("selectedlanguagechange",u),s.on("dispose",function(){r.off(["loadstart","texttrackchange"],l),o.removeEventListener("change",l),o.removeEventListener("selectedlanguagechange",u)}),o.onchange===void 0){var c;s.on(["tap","click"],function(){if(typeof j.Event!="object")try{c=new j.Event("change")}catch{}c||(c=ae.createEvent("Event"),c.initEvent("change",!0,!0)),o.dispatchEvent(c)})}return s.handleTracksChange(),s}var i=e.prototype;return i.handleClick=function(n){var s=this.track,a=this.player_.textTracks();if(t.prototype.handleClick.call(this,n),!!a)for(var o=0;o<a.length;o++){var l=a[o];this.kinds.indexOf(l.kind)!==-1&&(l===s?l.mode!=="showing"&&(l.mode="showing"):l.mode!=="disabled"&&(l.mode="disabled"))}},i.handleTracksChange=function(n){var s=this.track.mode==="showing";s!==this.isSelected_&&this.selected(s)},i.handleSelectedLanguageChange=function(n){if(this.track.mode==="showing"){var s=this.player_.cache_.selectedLanguage;if(s&&s.enabled&&s.language===this.track.language&&s.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},i.dispose=function(){this.track=null,t.prototype.dispose.call(this)},e}(_c);ie.registerComponent("TextTrackMenuItem",bc);var KO=function(t){le(e,t);function e(r,n){return n.track={player:r,kind:n.kind,kinds:n.kinds,default:!1,mode:"disabled"},n.kinds||(n.kinds=[n.kind]),n.label?n.track.label=n.label:n.track.label=n.kinds.join(" and ")+" off",n.selectable=!0,n.multiSelectable=!1,t.call(this,r,n)||this}var i=e.prototype;return i.handleTracksChange=function(n){for(var s=this.player().textTracks(),a=!0,o=0,l=s.length;o<l;o++){var u=s[o];if(this.options_.kinds.indexOf(u.kind)>-1&&u.mode==="showing"){a=!1;break}}a!==this.isSelected_&&this.selected(a)},i.handleSelectedLanguageChange=function(n){for(var s=this.player().textTracks(),a=!0,o=0,l=s.length;o<l;o++){var u=s[o];if(["captions","descriptions","subtitles"].indexOf(u.kind)>-1&&u.mode==="showing"){a=!1;break}}a&&(this.player_.cache_.selectedLanguage={enabled:!1})},e}(bc);ie.registerComponent("OffTextTrackMenuItem",KO);var Ho=function(t){le(e,t);function e(r,n){return n===void 0&&(n={}),n.tracks=r.textTracks(),t.call(this,r,n)||this}var i=e.prototype;return i.createItems=function(n,s){n===void 0&&(n=[]),s===void 0&&(s=bc);var a;this.label_&&(a=this.label_+" off"),n.push(new KO(this.player_,{kinds:this.kinds_,kind:this.kind_,label:a})),this.hideThreshold_+=1;var o=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var l=0;l<o.length;l++){var u=o[l];if(this.kinds_.indexOf(u.kind)>-1){var c=new s(this.player_,{track:u,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});c.addClass("vjs-"+u.kind+"-menu-item"),n.push(c)}}return n},e}(x_);ie.registerComponent("TextTrackButton",Ho);var XO=function(t){le(e,t);function e(r,n){var s,a=n.track,o=n.cue,l=r.currentTime();return n.selectable=!0,n.multiSelectable=!1,n.label=o.text,n.selected=o.startTime<=l&&l<o.endTime,s=t.call(this,r,n)||this,s.track=a,s.cue=o,s}var i=e.prototype;return i.handleClick=function(n){t.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime)},e}(_c);ie.registerComponent("ChaptersTrackMenuItem",XO);var w_=function(t){le(e,t);function e(r,n,s){var a;return a=t.call(this,r,n,s)||this,a.selectCurrentItem_=function(){a.items.forEach(function(o){o.selected(a.track_.activeCues[0]===o.cue)})},a}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildWrapperCSSClass.call(this)},i.update=function(n){if(!(n&&n.track&&n.track.kind!=="chapters")){var s=this.findChaptersTrack();s!==this.track_?(this.setTrack(s),t.prototype.update.call(this)):(!this.items||s&&s.cues&&s.cues.length!==this.items.length)&&t.prototype.update.call(this)}},i.setTrack=function(n){if(this.track_!==n){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var s=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);s&&s.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=n,this.track_){this.track_.mode="hidden";var a=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);a&&a.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}},i.findChaptersTrack=function(){for(var n=this.player_.textTracks()||[],s=n.length-1;s>=0;s--){var a=n[s];if(a.kind===this.kind_)return a}},i.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(xt(this.kind_))},i.createMenu=function(){return this.options_.title=this.getMenuCaption(),t.prototype.createMenu.call(this)},i.createItems=function(){var n=[];if(!this.track_)return n;var s=this.track_.cues;if(!s)return n;for(var a=0,o=s.length;a<o;a++){var l=s[a],u=new XO(this.player_,{track:this.track_,cue:l});n.push(u)}return n},e}(Ho);w_.prototype.kind_="chapters";w_.prototype.controlText_="Chapters";ie.registerComponent("ChaptersButton",w_);var S_=function(t){le(e,t);function e(r,n,s){var a;a=t.call(this,r,n,s)||this;var o=r.textTracks(),l=it(Ee(a),a.handleTracksChange);return o.addEventListener("change",l),a.on("dispose",function(){o.removeEventListener("change",l)}),a}var i=e.prototype;return i.handleTracksChange=function(n){for(var s=this.player().textTracks(),a=!1,o=0,l=s.length;o<l;o++){var u=s[o];if(u.kind!==this.kind_&&u.mode==="showing"){a=!0;break}}a?this.disable():this.enable()},i.buildCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(Ho);S_.prototype.kind_="descriptions";S_.prototype.controlText_="Descriptions";ie.registerComponent("DescriptionsButton",S_);var E_=function(t){le(e,t);function e(r,n,s){return t.call(this,r,n,s)||this}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(Ho);E_.prototype.kind_="subtitles";E_.prototype.controlText_="Subtitles";ie.registerComponent("SubtitlesButton",E_);var C_=function(t){le(e,t);function e(r,n){var s;return n.track={player:r,kind:n.kind,label:n.kind+" settings",selectable:!1,default:!1,mode:"disabled"},n.selectable=!1,n.name="CaptionSettingsMenuItem",s=t.call(this,r,n)||this,s.addClass("vjs-texttrack-settings"),s.controlText(", opens "+n.kind+" settings dialog"),s}var i=e.prototype;return i.handleClick=function(n){this.player().getChild("textTrackSettings").open()},e}(bc);ie.registerComponent("CaptionSettingsMenuItem",C_);var k_=function(t){le(e,t);function e(r,n,s){return t.call(this,r,n,s)||this}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-captions-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-captions-button "+t.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(){var n=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(n.push(new C_(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),t.prototype.createItems.call(this,n)},e}(Ho);k_.prototype.kind_="captions";k_.prototype.controlText_="Captions";ie.registerComponent("CaptionsButton",k_);var YO=function(t){le(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.createEl=function(n,s,a){var o=t.prototype.createEl.call(this,n,s,a),l=o.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(l.appendChild(Ue("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),l.appendChild(Ue("span",{className:"vjs-control-text",textContent:" "+this.localize("Captions")}))),o},e}(bc);ie.registerComponent("SubsCapsMenuItem",YO);var P_=function(t){le(e,t);function e(r,n){var s;return n===void 0&&(n={}),s=t.call(this,r,n)||this,s.label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(s.player_.language_)>-1&&(s.label_="captions"),s.menuButton_.controlText(xt(s.label_)),s}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(){var n=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(n.push(new C_(this.player_,{kind:this.label_})),this.hideThreshold_+=1),n=t.prototype.createItems.call(this,n,YO),n},e}(Ho);P_.prototype.kinds_=["captions","subtitles"];P_.prototype.controlText_="Subtitles";ie.registerComponent("SubsCapsButton",P_);var QO=function(t){le(e,t);function e(r,n){var s,a=n.track,o=r.audioTracks();n.label=a.label||a.language||"Unknown",n.selected=a.enabled,s=t.call(this,r,n)||this,s.track=a,s.addClass("vjs-"+a.kind+"-menu-item");var l=function(){for(var c=arguments.length,f=new Array(c),d=0;d<c;d++)f[d]=arguments[d];s.handleTracksChange.apply(Ee(s),f)};return o.addEventListener("change",l),s.on("dispose",function(){o.removeEventListener("change",l)}),s}var i=e.prototype;return i.createEl=function(n,s,a){var o=t.prototype.createEl.call(this,n,s,a),l=o.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="main-desc"&&(l.appendChild(Ue("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),l.appendChild(Ue("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),o},i.handleClick=function(n){if(t.prototype.handleClick.call(this,n),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks)for(var s=this.player_.audioTracks(),a=0;a<s.length;a++){var o=s[a];o!==this.track&&(o.enabled=o===this.track)}},i.handleTracksChange=function(n){this.selected(this.track.enabled)},e}(_c);ie.registerComponent("AudioTrackMenuItem",QO);var JO=function(t){le(e,t);function e(r,n){return n===void 0&&(n={}),n.tracks=r.audioTracks(),t.call(this,r,n)||this}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-audio-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-audio-button "+t.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(n){n===void 0&&(n=[]),this.hideThreshold_=1;for(var s=this.player_.audioTracks(),a=0;a<s.length;a++){var o=s[a];n.push(new QO(this.player_,{track:o,selectable:!0,multiSelectable:!1}))}return n},e}(x_);JO.prototype.controlText_="Audio Track";ie.registerComponent("AudioTrackButton",JO);var O_=function(t){le(e,t);function e(r,n){var s,a=n.rate,o=parseFloat(a,10);return n.label=a,n.selected=o===r.playbackRate(),n.selectable=!0,n.multiSelectable=!1,s=t.call(this,r,n)||this,s.label=a,s.rate=o,s.on(r,"ratechange",function(l){return s.update(l)}),s}var i=e.prototype;return i.handleClick=function(n){t.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},i.update=function(n){this.selected(this.player().playbackRate()===this.rate)},e}(_c);O_.prototype.contentElType="button";ie.registerComponent("PlaybackRateMenuItem",O_);var ZO=function(t){le(e,t);function e(r,n){var s;return s=t.call(this,r,n)||this,s.menuButton_.el_.setAttribute("aria-describedby",s.labelElId_),s.updateVisibility(),s.updateLabel(),s.on(r,"loadstart",function(a){return s.updateVisibility(a)}),s.on(r,"ratechange",function(a){return s.updateLabel(a)}),s.on(r,"playbackrateschange",function(a){return s.handlePlaybackRateschange(a)}),s}var i=e.prototype;return i.createEl=function(){var n=t.prototype.createEl.call(this);return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=Ue("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),n.appendChild(this.labelEl_),n},i.dispose=function(){this.labelEl_=null,t.prototype.dispose.call(this)},i.buildCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(){for(var n=this.playbackRates(),s=[],a=n.length-1;a>=0;a--)s.push(new O_(this.player(),{rate:n[a]+"x"}));return s},i.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},i.handleClick=function(n){var s=this.player().playbackRate(),a=this.playbackRates(),o=a.indexOf(s),l=(o+1)%a.length;this.player().playbackRate(a[l])},i.handlePlaybackRateschange=function(n){this.update()},i.playbackRates=function(){var n=this.player();return n.playbackRates&&n.playbackRates()||[]},i.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},i.updateVisibility=function(n){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},i.updateLabel=function(n){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")},e}(T_);ZO.prototype.controlText_="Playback Rate";ie.registerComponent("PlaybackRateMenuButton",ZO);var eA=function(t){le(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-spacer "+t.prototype.buildCSSClass.call(this)},i.createEl=function(n,s,a){return n===void 0&&(n="div"),s===void 0&&(s={}),a===void 0&&(a={}),s.className||(s.className=this.buildCSSClass()),t.prototype.createEl.call(this,n,s,a)},e}(ie);ie.registerComponent("Spacer",eA);var oH=function(t){le(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),textContent:"\xA0"})},e}(eA);ie.registerComponent("CustomControlSpacer",oH);var jf=function(t){le(e,t);function e(){return t.apply(this,arguments)||this}var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},e}(ie);jf.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]};"exitPictureInPicture"in ae&&jf.prototype.options_.children.splice(jf.prototype.options_.children.length-1,0,"pictureInPictureToggle");ie.registerComponent("ControlBar",jf);var tA=function(t){le(e,t);function e(r,n){var s;return s=t.call(this,r,n)||this,s.on(r,"error",function(a){return s.open(a)}),s}var i=e.prototype;return i.buildCSSClass=function(){return"vjs-error-display "+t.prototype.buildCSSClass.call(this)},i.content=function(){var n=this.player().error();return n?this.localize(n.message):""},e}(Bo);tA.prototype.options_=yn({},Bo.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});ie.registerComponent("ErrorDisplay",tA);var Cm="vjs-text-track-settings",Ww=["#000","Black"],qw=["#00F","Blue"],$w=["#0FF","Cyan"],Gw=["#0F0","Green"],Kw=["#F0F","Magenta"],Xw=["#F00","Red"],Yw=["#FFF","White"],Qw=["#FF0","Yellow"],km=["1","Opaque"],Pm=["0.5","Semi-Transparent"],Jw=["0","Transparent"],Os={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[Ww,Yw,Xw,Gw,qw,Qw,Kw,$w]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[km,Pm,Jw]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[Yw,Ww,Xw,Gw,qw,Qw,Kw,$w]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(e){return e==="1.00"?null:Number(e)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[km,Pm]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[Jw,Pm,km]}};Os.windowColor.options=Os.backgroundColor.options;function iA(t,e){if(e&&(t=e(t)),t&&t!=="none")return t}function lH(t,e){var i=t.options[t.options.selectedIndex].value;return iA(i,e)}function uH(t,e,i){if(!!e){for(var r=0;r<t.options.length;r++)if(iA(t.options[r].value,i)===e){t.selectedIndex=r;break}}}var cH=function(t){le(e,t);function e(r,n){var s;return n.temporary=!1,s=t.call(this,r,n)||this,s.updateDisplay=s.updateDisplay.bind(Ee(s)),s.fill(),s.hasBeenOpened_=s.hasBeenFilled_=!0,s.endDialog=Ue("p",{className:"vjs-control-text",textContent:s.localize("End of dialog window.")}),s.el().appendChild(s.endDialog),s.setDefaults(),n.persistTextTrackSettings===void 0&&(s.options_.persistTextTrackSettings=s.options_.playerOptions.persistTextTrackSettings),s.on(s.$(".vjs-done-button"),"click",function(){s.saveSettings(),s.close()}),s.on(s.$(".vjs-default-button"),"click",function(){s.setDefaults(),s.updateDisplay()}),Qa(Os,function(a){s.on(s.$(a.selector),"change",s.updateDisplay)}),s.options_.persistTextTrackSettings&&s.restoreSettings(),s}var i=e.prototype;return i.dispose=function(){this.endDialog=null,t.prototype.dispose.call(this)},i.createElSelect_=function(n,s,a){var o=this;s===void 0&&(s=""),a===void 0&&(a="label");var l=Os[n],u=l.id.replace("%s",this.id_),c=[s,u].join(" ").trim();return["<"+a+' id="'+u+'" class="'+(a==="label"?"vjs-label":"")+'">',this.localize(l.label),"</"+a+">",'<select aria-labelledby="'+c+'">'].concat(l.options.map(function(f){var d=u+"-"+f[1].replace(/\W+/g,"");return['<option id="'+d+'" value="'+f[0]+'" ','aria-labelledby="'+c+" "+d+'">',o.localize(f[1]),"</option>"].join("")})).concat("</select>").join("")},i.createElFgColor_=function(){var n="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+n+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",n),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",n),"</span>","</fieldset>"].join("")},i.createElBgColor_=function(){var n="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+n+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",n),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",n),"</span>","</fieldset>"].join("")},i.createElWinColor_=function(){var n="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+n+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",n),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",n),"</span>","</fieldset>"].join("")},i.createElColors_=function(){return Ue("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},i.createElFont_=function(){return Ue("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},i.createElControls_=function(){var n=this.localize("restore all settings to the default values");return Ue("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+n+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+n+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},i.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},i.label=function(){return this.localize("Caption Settings Dialog")},i.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},i.buildCSSClass=function(){return t.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},i.getValues=function(){var n=this;return J6(Os,function(s,a,o){var l=lH(n.$(a.selector),a.parser);return l!==void 0&&(s[o]=l),s},{})},i.setValues=function(n){var s=this;Qa(Os,function(a,o){uH(s.$(a.selector),n[o],a.parser)})},i.setDefaults=function(){var n=this;Qa(Os,function(s){var a=s.hasOwnProperty("default")?s.default:0;n.$(s.selector).selectedIndex=a})},i.restoreSettings=function(){var n;try{n=JSON.parse(j.localStorage.getItem(Cm))}catch(s){Le.warn(s)}n&&this.setValues(n)},i.saveSettings=function(){if(!!this.options_.persistTextTrackSettings){var n=this.getValues();try{Object.keys(n).length?j.localStorage.setItem(Cm,JSON.stringify(n)):j.localStorage.removeItem(Cm)}catch(s){Le.warn(s)}}},i.updateDisplay=function(){var n=this.player_.getChild("textTrackDisplay");n&&n.updateDisplay()},i.conditionalBlur_=function(){this.previouslyActiveEl_=null;var n=this.player_.controlBar,s=n&&n.subsCapsButton,a=n&&n.captionsButton;s?s.focus():a&&a.focus()},e}(Bo);ie.registerComponent("TextTrackSettings",cH);var dH=function(t){le(e,t);function e(r,n){var s,a=n.ResizeObserver||j.ResizeObserver;n.ResizeObserver===null&&(a=!1);var o=tt({createEl:!a,reportTouchActivity:!1},n);return s=t.call(this,r,o)||this,s.ResizeObserver=n.ResizeObserver||j.ResizeObserver,s.loadListener_=null,s.resizeObserver_=null,s.debouncedHandler_=uV(function(){s.resizeHandler()},100,!1,Ee(s)),a?(s.resizeObserver_=new s.ResizeObserver(s.debouncedHandler_),s.resizeObserver_.observe(r.el())):(s.loadListener_=function(){if(!(!s.el_||!s.el_.contentWindow)){var l=s.debouncedHandler_,u=s.unloadListener_=function(){si(this,"resize",l),si(this,"unload",u),u=null};en(s.el_.contentWindow,"unload",u),en(s.el_.contentWindow,"resize",l)}},s.one("load",s.loadListener_)),s}var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})},i.resizeHandler=function(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")},i.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,t.prototype.dispose.call(this)},e}(ie);ie.registerComponent("ResizeManager",dH);var fH={trackingThreshold:20,liveTolerance:15},hH=function(t){le(e,t);function e(r,n){var s,a=tt(fH,n,{createEl:!1});return s=t.call(this,r,a)||this,s.handleVisibilityChange_=function(o){return s.handleVisibilityChange(o)},s.trackLiveHandler_=function(){return s.trackLive_()},s.handlePlay_=function(o){return s.handlePlay(o)},s.handleFirstTimeupdate_=function(o){return s.handleFirstTimeupdate(o)},s.handleSeeked_=function(o){return s.handleSeeked(o)},s.seekToLiveEdge_=function(o){return s.seekToLiveEdge(o)},s.reset_(),s.on(s.player_,"durationchange",function(o){return s.handleDurationchange(o)}),s.on(s.player_,"canplay",function(){return s.toggleTracking()}),vc&&"hidden"in ae&&"visibilityState"in ae&&s.on(ae,"visibilitychange",s.handleVisibilityChange_),s}var i=e.prototype;return i.handleVisibilityChange=function(){this.player_.duration()===1/0&&(ae.hidden?this.stopTracking():this.startTracking())},i.trackLive_=function(){var n=this.player_.seekable();if(!(!n||!n.length)){var s=Number(j.performance.now().toFixed(4)),a=this.lastTime_===-1?0:(s-this.lastTime_)/1e3;this.lastTime_=s,this.pastSeekEnd_=this.pastSeekEnd()+a;var o=this.liveCurrentTime(),l=this.player_.currentTime(),u=this.player_.paused()||this.seekedBehindLive_||Math.abs(o-l)>this.options_.liveTolerance;(!this.timeupdateSeen_||o===1/0)&&(u=!1),u!==this.behindLiveEdge_&&(this.behindLiveEdge_=u,this.trigger("liveedgechange"))}},i.handleDurationchange=function(){this.toggleTracking()},i.toggleTracking=function(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())},i.startTracking=function(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,Mn),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))},i.handleFirstTimeupdate=function(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)},i.handleSeeked=function(){var n=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&n>2,this.nextSeekedFromUser_=!1,this.trackLive_()},i.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)},i.reset_=function(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)},i.nextSeekedFromUser=function(){this.nextSeekedFromUser_=!0},i.stopTracking=function(){!this.isTracking()||(this.reset_(),this.trigger("liveedgechange"))},i.seekableEnd=function(){for(var n=this.player_.seekable(),s=[],a=n?n.length:0;a--;)s.push(n.end(a));return s.length?s.sort()[s.length-1]:1/0},i.seekableStart=function(){for(var n=this.player_.seekable(),s=[],a=n?n.length:0;a--;)s.push(n.start(a));return s.length?s.sort()[0]:0},i.liveWindow=function(){var n=this.liveCurrentTime();return n===1/0?0:n-this.seekableStart()},i.isLive=function(){return this.isTracking()},i.atLiveEdge=function(){return!this.behindLiveEdge()},i.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},i.pastSeekEnd=function(){var n=this.seekableEnd();return this.lastSeekEnd_!==-1&&n!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=n,this.pastSeekEnd_},i.behindLiveEdge=function(){return this.behindLiveEdge_},i.isTracking=function(){return typeof this.trackingInterval_=="number"},i.seekToLiveEdge=function(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))},i.dispose=function(){this.off(ae,"visibilitychange",this.handleVisibilityChange_),this.stopTracking(),t.prototype.dispose.call(this)},e}(ie);ie.registerComponent("LiveTracker",hH);var Pg=function(e){var i=e.el();if(i.hasAttribute("src"))return e.triggerSourceset(i.src),!0;var r=e.$$("source"),n=[],s="";if(!r.length)return!1;for(var a=0;a<r.length;a++){var o=r[a].src;o&&n.indexOf(o)===-1&&n.push(o)}return n.length?(n.length===1&&(s=n[0]),e.triggerSourceset(s),!0):!1},pH=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(e){var i=ae.createElement(this.nodeName.toLowerCase());i.innerHTML=e;for(var r=ae.createDocumentFragment();i.childNodes.length;)r.appendChild(i.childNodes[0]);return this.innerText="",j.Element.prototype.appendChild.call(this,r),this.innerHTML}}),nA=function(e,i){for(var r={},n=0;n<e.length&&(r=Object.getOwnPropertyDescriptor(e[n],i),!(r&&r.set&&r.get));n++);return r.enumerable=!0,r.configurable=!0,r},mH=function(e){return nA([e.el(),j.HTMLMediaElement.prototype,j.Element.prototype,pH],"innerHTML")},Zw=function(e){var i=e.el();if(!i.resetSourceWatch_){var r={},n=mH(e),s=function(o){return function(){for(var l=arguments.length,u=new Array(l),c=0;c<l;c++)u[c]=arguments[c];var f=o.apply(i,u);return Pg(e),f}};["append","appendChild","insertAdjacentHTML"].forEach(function(a){!i[a]||(r[a]=i[a],i[a]=s(r[a]))}),Object.defineProperty(i,"innerHTML",tt(n,{set:s(n.set)})),i.resetSourceWatch_=function(){i.resetSourceWatch_=null,Object.keys(r).forEach(function(a){i[a]=r[a]}),Object.defineProperty(i,"innerHTML",n)},e.one("sourceset",i.resetSourceWatch_)}},vH=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?AO(j.Element.prototype.getAttribute.call(this,"src")):""},set:function(e){return j.Element.prototype.setAttribute.call(this,"src",e),e}}),gH=function(e){return nA([e.el(),j.HTMLMediaElement.prototype,vH],"src")},yH=function(e){if(!!e.featuresSourceset){var i=e.el();if(!i.resetSourceset_){var r=gH(e),n=i.setAttribute,s=i.load;Object.defineProperty(i,"src",tt(r,{set:function(o){var l=r.set.call(i,o);return e.triggerSourceset(i.src),l}})),i.setAttribute=function(a,o){var l=n.call(i,a,o);return/src/i.test(a)&&e.triggerSourceset(i.src),l},i.load=function(){var a=s.call(i);return Pg(e)||(e.triggerSourceset(""),Zw(e)),a},i.currentSrc?e.triggerSourceset(i.currentSrc):Pg(e)||Zw(e),i.resetSourceset_=function(){i.resetSourceset_=null,i.load=s,i.setAttribute=n,Object.defineProperty(i,"src",r),i.resetSourceWatch_&&i.resetSourceWatch_()}}}},A_=function(e,i,r,n){n===void 0&&(n=!0);var s=function(l){return Object.defineProperty(e,i,{value:l,enumerable:!0,writable:!0})},a={configurable:!0,enumerable:!0,get:function(){var l=r();return s(l),l}};return n&&(a.set=s),Object.defineProperty(e,i,a)},fe=function(t){le(e,t);function e(r,n){var s;s=t.call(this,r,n)||this;var a=r.source,o=!1;if(s.featuresVideoFrameCallback=s.featuresVideoFrameCallback&&s.el_.tagName==="VIDEO",a&&(s.el_.currentSrc!==a.src||r.tag&&r.tag.initNetworkState_===3)?s.setSource(a):s.handleLateInit_(s.el_),r.enableSourceset&&s.setupSourcesetHandling_(),s.isScrubbing_=!1,s.el_.hasChildNodes()){for(var l=s.el_.childNodes,u=l.length,c=[];u--;){var f=l[u],d=f.nodeName.toLowerCase();d==="track"&&(s.featuresNativeTextTracks?(s.remoteTextTrackEls().addTrackElement_(f),s.remoteTextTracks().addTrack(f.track),s.textTracks().addTrack(f.track),!o&&!s.el_.hasAttribute("crossorigin")&&qh(f.src)&&(o=!0)):c.push(f))}for(var p=0;p<c.length;p++)s.el_.removeChild(c[p])}return s.proxyNativeTracks_(),s.featuresNativeTextTracks&&o&&Le.warn(`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
This may prevent text tracks from loading.`),s.restoreMetadataTracksInIOSNativePlayer_(),(go||s_||nO)&&r.nativeControlsForTouch===!0&&s.setControls(!0),s.proxyWebkitFullscreen_(),s.triggerReady(),s}var i=e.prototype;return i.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),e.disposeMediaElement(this.el_),this.options_=null,t.prototype.dispose.call(this)},i.setupSourcesetHandling_=function(){yH(this)},i.restoreMetadataTracksInIOSNativePlayer_=function(){var n=this.textTracks(),s,a=function(){s=[];for(var u=0;u<n.length;u++){var c=n[u];c.kind==="metadata"&&s.push({track:c,storedMode:c.mode})}};a(),n.addEventListener("change",a),this.on("dispose",function(){return n.removeEventListener("change",a)});var o=function l(){for(var u=0;u<s.length;u++){var c=s[u];c.track.mode==="disabled"&&c.track.mode!==c.storedMode&&(c.track.mode=c.storedMode)}n.removeEventListener("change",l)};this.on("webkitbeginfullscreen",function(){n.removeEventListener("change",a),n.removeEventListener("change",o),n.addEventListener("change",o)}),this.on("webkitendfullscreen",function(){n.removeEventListener("change",a),n.addEventListener("change",a),n.removeEventListener("change",o)})},i.overrideNative_=function(n,s){var a=this;if(s===this["featuresNative"+n+"Tracks"]){var o=n.toLowerCase();this[o+"TracksListeners_"]&&Object.keys(this[o+"TracksListeners_"]).forEach(function(l){var u=a.el()[o+"Tracks"];u.removeEventListener(l,a[o+"TracksListeners_"][l])}),this["featuresNative"+n+"Tracks"]=!s,this[o+"TracksListeners_"]=null,this.proxyNativeTracksForType_(o)}},i.overrideNativeAudioTracks=function(n){this.overrideNative_("Audio",n)},i.overrideNativeVideoTracks=function(n){this.overrideNative_("Video",n)},i.proxyNativeTracksForType_=function(n){var s=this,a=mn[n],o=this.el()[a.getterName],l=this[a.getterName]();if(!(!this["featuresNative"+a.capitalName+"Tracks"]||!o||!o.addEventListener)){var u={change:function(d){var p={type:"change",target:l,currentTarget:l,srcElement:l};l.trigger(p),n==="text"&&s[To.remoteText.getterName]().trigger(p)},addtrack:function(d){l.addTrack(d.track)},removetrack:function(d){l.removeTrack(d.track)}},c=function(){for(var d=[],p=0;p<l.length;p++){for(var g=!1,b=0;b<o.length;b++)if(o[b]===l[p]){g=!0;break}g||d.push(l[p])}for(;d.length;)l.removeTrack(d.shift())};this[a.getterName+"Listeners_"]=u,Object.keys(u).forEach(function(f){var d=u[f];o.addEventListener(f,d),s.on("dispose",function(p){return o.removeEventListener(f,d)})}),this.on("loadstart",c),this.on("dispose",function(f){return s.off("loadstart",c)})}},i.proxyNativeTracks_=function(){var n=this;mn.names.forEach(function(s){n.proxyNativeTracksForType_(s)})},i.createEl=function(){var n=this.options_.tag;if(!n||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(n){var s=n.cloneNode(!0);n.parentNode&&n.parentNode.insertBefore(s,n),e.disposeMediaElement(n),n=s}else{n=ae.createElement("video");var a=this.options_.tag&&lr(this.options_.tag),o=tt({},a);(!go||this.options_.nativeControlsForTouch!==!0)&&delete o.controls,dO(n,pt(o,{id:this.options_.techId,class:"vjs-tech"}))}n.playerId=this.options_.playerId}typeof this.options_.preload<"u"&&yo(n,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(n.disablePictureInPicture=this.options_.disablePictureInPicture);for(var l=["loop","muted","playsinline","autoplay"],u=0;u<l.length;u++){var c=l[u],f=this.options_[c];typeof f<"u"&&(f?yo(n,c,c):Bh(n,c),n[c]=f)}return n},i.handleLateInit_=function(n){if(!(n.networkState===0||n.networkState===3)){if(n.readyState===0){var s=!1,a=function(){s=!0};this.on("loadstart",a);var o=function(){s||this.trigger("loadstart")};this.on("loadedmetadata",o),this.ready(function(){this.off("loadstart",a),this.off("loadedmetadata",o),s||this.trigger("loadstart")});return}var l=["loadstart"];l.push("loadedmetadata"),n.readyState>=2&&l.push("loadeddata"),n.readyState>=3&&l.push("canplay"),n.readyState>=4&&l.push("canplaythrough"),this.ready(function(){l.forEach(function(u){this.trigger(u)},this)})}},i.setScrubbing=function(n){this.isScrubbing_=n},i.scrubbing=function(){return this.isScrubbing_},i.setCurrentTime=function(n){try{this.isScrubbing_&&this.el_.fastSeek&&Uh?this.el_.fastSeek(n):this.el_.currentTime=n}catch(s){Le(s,"Video is not ready. (Video.js)")}},i.duration=function(){var n=this;if(this.el_.duration===1/0&&Ir&&Dr&&this.el_.currentTime===0){var s=function a(){n.el_.currentTime>0&&(n.el_.duration===1/0&&n.trigger("durationchange"),n.off("timeupdate",a))};return this.on("timeupdate",s),NaN}return this.el_.duration||NaN},i.width=function(){return this.el_.offsetWidth},i.height=function(){return this.el_.offsetHeight},i.proxyWebkitFullscreen_=function(){var n=this;if("webkitDisplayingFullscreen"in this.el_){var s=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},a=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",s),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",a),this.on("dispose",function(){n.off("webkitbeginfullscreen",a),n.off("webkitendfullscreen",s)})}},i.supportsFullScreen=function(){if(typeof this.el_.webkitEnterFullScreen=="function"){var n=j.navigator&&j.navigator.userAgent||"";if(/Android/.test(n)||!/Chrome|Mac OS X 10.5/.test(n))return!0}return!1},i.enterFullScreen=function(){var n=this.el_;if(n.paused&&n.networkState<=n.HAVE_METADATA)qn(this.el_.play()),this.setTimeout(function(){n.pause();try{n.webkitEnterFullScreen()}catch(s){this.trigger("fullscreenerror",s)}},0);else try{n.webkitEnterFullScreen()}catch(s){this.trigger("fullscreenerror",s)}},i.exitFullScreen=function(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()},i.requestPictureInPicture=function(){return this.el_.requestPictureInPicture()},i.requestVideoFrameCallback=function(n){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(n):t.prototype.requestVideoFrameCallback.call(this,n)},i.cancelVideoFrameCallback=function(n){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(n):t.prototype.cancelVideoFrameCallback.call(this,n)},i.src=function(n){if(n===void 0)return this.el_.src;this.setSrc(n)},i.reset=function(){e.resetMediaElement(this.el_)},i.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},i.setControls=function(n){this.el_.controls=!!n},i.addTextTrack=function(n,s,a){return this.featuresNativeTextTracks?this.el_.addTextTrack(n,s,a):t.prototype.addTextTrack.call(this,n,s,a)},i.createRemoteTextTrack=function(n){if(!this.featuresNativeTextTracks)return t.prototype.createRemoteTextTrack.call(this,n);var s=ae.createElement("track");return n.kind&&(s.kind=n.kind),n.label&&(s.label=n.label),(n.language||n.srclang)&&(s.srclang=n.language||n.srclang),n.default&&(s.default=n.default),n.id&&(s.id=n.id),n.src&&(s.src=n.src),s},i.addRemoteTextTrack=function(n,s){var a=t.prototype.addRemoteTextTrack.call(this,n,s);return this.featuresNativeTextTracks&&this.el().appendChild(a),a},i.removeRemoteTextTrack=function(n){if(t.prototype.removeRemoteTextTrack.call(this,n),this.featuresNativeTextTracks)for(var s=this.$$("track"),a=s.length;a--;)(n===s[a]||n===s[a].track)&&this.el().removeChild(s[a])},i.getVideoPlaybackQuality=function(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();var n={};return typeof this.el().webkitDroppedFrameCount<"u"&&typeof this.el().webkitDecodedFrameCount<"u"&&(n.droppedVideoFrames=this.el().webkitDroppedFrameCount,n.totalVideoFrames=this.el().webkitDecodedFrameCount),j.performance&&typeof j.performance.now=="function"?n.creationTime=j.performance.now():j.performance&&j.performance.timing&&typeof j.performance.timing.navigationStart=="number"&&(n.creationTime=j.Date.now()-j.performance.timing.navigationStart),n},e}(Ge);A_(fe,"TEST_VID",function(){if(!!No()){var t=ae.createElement("video"),e=ae.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",t.appendChild(e),t}});fe.isSupported=function(){try{fe.TEST_VID.volume=.5}catch{return!1}return!!(fe.TEST_VID&&fe.TEST_VID.canPlayType)};fe.canPlayType=function(t){return fe.TEST_VID.canPlayType(t)};fe.canPlaySource=function(t,e){return fe.canPlayType(t.type)};fe.canControlVolume=function(){try{var t=fe.TEST_VID.volume;fe.TEST_VID.volume=t/2+.1;var e=t!==fe.TEST_VID.volume;return e&&Si?(j.setTimeout(function(){fe&&fe.prototype&&(fe.prototype.featuresVolumeControl=t!==fe.TEST_VID.volume)}),!1):e}catch{return!1}};fe.canMuteVolume=function(){try{var t=fe.TEST_VID.muted;return fe.TEST_VID.muted=!t,fe.TEST_VID.muted?yo(fe.TEST_VID,"muted","muted"):Bh(fe.TEST_VID,"muted","muted"),t!==fe.TEST_VID.muted}catch{return!1}};fe.canControlPlaybackRate=function(){if(Ir&&Dr&&sO<58)return!1;try{var t=fe.TEST_VID.playbackRate;return fe.TEST_VID.playbackRate=t/2+.1,t!==fe.TEST_VID.playbackRate}catch{return!1}};fe.canOverrideAttributes=function(){try{var t=function(){};Object.defineProperty(ae.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(ae.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(ae.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(ae.createElement("audio"),"innerHTML",{get:t,set:t})}catch{return!1}return!0};fe.supportsNativeTextTracks=function(){return Uh||Si&&Dr};fe.supportsNativeVideoTracks=function(){return!!(fe.TEST_VID&&fe.TEST_VID.videoTracks)};fe.supportsNativeAudioTracks=function(){return!!(fe.TEST_VID&&fe.TEST_VID.audioTracks)};fe.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function(t){var e=t[0],i=t[1];A_(fe.prototype,e,function(){return fe[i]()},!0)});fe.prototype.featuresVolumeControl=fe.canControlVolume();fe.prototype.movingMediaElementInDOM=!Si;fe.prototype.featuresFullscreenResize=!0;fe.prototype.featuresProgressEvents=!0;fe.prototype.featuresTimeupdateEvents=!0;fe.prototype.featuresVideoFrameCallback=!!(fe.TEST_VID&&fe.TEST_VID.requestVideoFrameCallback);var Nf;fe.patchCanPlayType=function(){i_>=4&&!rO&&!Dr&&(Nf=fe.TEST_VID&&fe.TEST_VID.constructor.prototype.canPlayType,fe.TEST_VID.constructor.prototype.canPlayType=function(t){var e=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;return t&&e.test(t)?"maybe":Nf.call(this,t)})};fe.unpatchCanPlayType=function(){var t=fe.TEST_VID.constructor.prototype.canPlayType;return Nf&&(fe.TEST_VID.constructor.prototype.canPlayType=Nf),t};fe.patchCanPlayType();fe.disposeMediaElement=function(t){if(!!t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()}};fe.resetMediaElement=function(t){if(!!t){for(var e=t.querySelectorAll("source"),i=e.length;i--;)t.removeChild(e[i]);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()}};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){fe.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){fe.prototype["set"+xt(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(t){fe.prototype[t]=function(){return this.el_[t]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(t){fe.prototype["set"+xt(t)]=function(e){this.el_[t]=e}});["pause","load","play"].forEach(function(t){fe.prototype[t]=function(){return this.el_[t]()}});Ge.withSourceHandlers(fe);fe.nativeSourceHandler={};fe.nativeSourceHandler.canPlayType=function(t){try{return fe.TEST_VID.canPlayType(t)}catch{return""}};fe.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return fe.nativeSourceHandler.canPlayType(t.type);if(t.src){var i=f_(t.src);return fe.nativeSourceHandler.canPlayType("video/"+i)}return""};fe.nativeSourceHandler.handleSource=function(t,e,i){e.setSrc(t.src)};fe.nativeSourceHandler.dispose=function(){};fe.registerSourceHandler(fe.nativeSourceHandler);Ge.registerTech("Html5",fe);var rA=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Om={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Og=["tiny","xsmall","small","medium","large","xlarge","huge"],Ud={};Og.forEach(function(t){var e=t.charAt(0)==="x"?"x-"+t.substring(1):t;Ud[t]="vjs-layout-"+e});var _H={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},Ct=function(t){le(e,t);function e(r,n,s){var a;if(r.id=r.id||n.id||"vjs_video_"+Mr(),n=pt(e.getTagSettings(r),n),n.initChildren=!1,n.createEl=!1,n.evented=!1,n.reportTouchActivity=!1,!n.language)if(typeof r.closest=="function"){var o=r.closest("[lang]");o&&o.getAttribute&&(n.language=o.getAttribute("lang"))}else for(var l=r;l&&l.nodeType===1;){if(lr(l).hasOwnProperty("lang")){n.language=l.getAttribute("lang");break}l=l.parentNode}if(a=t.call(this,null,n,s)||this,a.boundDocumentFullscreenChange_=function(d){return a.documentFullscreenChange_(d)},a.boundFullWindowOnEscKey_=function(d){return a.fullWindowOnEscKey(d)},a.boundUpdateStyleEl_=function(d){return a.updateStyleEl_(d)},a.boundApplyInitTime_=function(d){return a.applyInitTime_(d)},a.boundUpdateCurrentBreakpoint_=function(d){return a.updateCurrentBreakpoint_(d)},a.boundHandleTechClick_=function(d){return a.handleTechClick_(d)},a.boundHandleTechDoubleClick_=function(d){return a.handleTechDoubleClick_(d)},a.boundHandleTechTouchStart_=function(d){return a.handleTechTouchStart_(d)},a.boundHandleTechTouchMove_=function(d){return a.handleTechTouchMove_(d)},a.boundHandleTechTouchEnd_=function(d){return a.handleTechTouchEnd_(d)},a.boundHandleTechTap_=function(d){return a.handleTechTap_(d)},a.isFullscreen_=!1,a.log=eO(a.id_),a.fsApi_=Df,a.isPosterFromTech_=!1,a.queuedCallbacks_=[],a.isReady_=!1,a.hasStarted_=!1,a.userActive_=!1,a.debugEnabled_=!1,a.audioOnlyMode_=!1,a.audioPosterMode_=!1,a.audioOnlyCache_={playerHeight:null,hiddenChildren:[]},!a.options_||!a.options_.techOrder||!a.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(a.tag=r,a.tagAttributes=r&&lr(r),a.language(a.options_.language),n.languages){var u={};Object.getOwnPropertyNames(n.languages).forEach(function(d){u[d.toLowerCase()]=n.languages[d]}),a.languages_=u}else a.languages_=e.prototype.options_.languages;a.resetCache_(),a.poster_=n.poster||"",a.controls_=!!n.controls,r.controls=!1,r.removeAttribute("controls"),a.changingSrc_=!1,a.playCallbacks_=[],a.playTerminatedQueue_=[],r.hasAttribute("autoplay")?a.autoplay(!0):a.autoplay(a.options_.autoplay),n.plugins&&Object.keys(n.plugins).forEach(function(d){if(typeof a[d]!="function")throw new Error('plugin "'+d+'" does not exist')}),a.scrubbing_=!1,a.el_=a.createEl(),u_(Ee(a),{eventBusKey:"el_"}),a.fsApi_.requestFullscreen&&(en(ae,a.fsApi_.fullscreenchange,a.boundDocumentFullscreenChange_),a.on(a.fsApi_.fullscreenchange,a.boundDocumentFullscreenChange_)),a.fluid_&&a.on(["playerreset","resize"],a.boundUpdateStyleEl_);var c=tt(a.options_);n.plugins&&Object.keys(n.plugins).forEach(function(d){a[d](n.plugins[d])}),n.debug&&a.debug(!0),a.options_.playerOptions=c,a.middleware_=[],a.playbackRates(n.playbackRates),a.initChildren(),a.isAudio(r.nodeName.toLowerCase()==="audio"),a.controls()?a.addClass("vjs-controls-enabled"):a.addClass("vjs-controls-disabled"),a.el_.setAttribute("role","region"),a.isAudio()?a.el_.setAttribute("aria-label",a.localize("Audio Player")):a.el_.setAttribute("aria-label",a.localize("Video Player")),a.isAudio()&&a.addClass("vjs-audio"),a.flexNotSupported_()&&a.addClass("vjs-no-flex"),go&&a.addClass("vjs-touch-enabled"),Si||a.addClass("vjs-workinghover"),e.players[a.id_]=Ee(a);var f=QP.split(".")[0];return a.addClass("vjs-v"+f),a.userActive(!0),a.reportUserActivity(),a.one("play",function(d){return a.listenForUserActivity_(d)}),a.on("stageclick",function(d){return a.handleStageClick_(d)}),a.on("keydown",function(d){return a.handleKeyDown(d)}),a.on("languagechange",function(d){return a.handleLanguagechange(d)}),a.breakpoints(a.options_.breakpoints),a.responsive(a.options_.responsive),a.on("ready",function(){a.audioPosterMode(a.options_.audioPosterMode),a.audioOnlyMode(a.options_.audioOnlyMode)}),a}var i=e.prototype;return i.dispose=function(){var n=this;this.trigger("dispose"),this.off("dispose"),si(ae,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),si(ae,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),e.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),UV(this),vi.names.forEach(function(s){var a=vi[s],o=n[a.getterName]();o&&o.off&&o.off()}),t.prototype.dispose.call(this,{restoreEl:this.options_.restoreEl})},i.createEl=function(){var n=this.tag,s,a=this.playerElIngest_=n.parentNode&&n.parentNode.hasAttribute&&n.parentNode.hasAttribute("data-vjs-player"),o=this.tag.tagName.toLowerCase()==="video-js";a?s=this.el_=n.parentNode:o||(s=this.el_=t.prototype.createEl.call(this,"div"));var l=lr(n);if(o){for(s=this.el_=n,n=this.tag=ae.createElement("video");s.children.length;)n.appendChild(s.firstChild);zs(s,"video-js")||_r(s,"video-js"),s.appendChild(n),a=this.playerElIngest_=s,Object.keys(s).forEach(function(g){try{n[g]=s[g]}catch{}})}if(n.setAttribute("tabindex","-1"),l.tabindex="-1",(vc||Dr&&aO)&&(n.setAttribute("role","application"),l.role="application"),n.removeAttribute("width"),n.removeAttribute("height"),"width"in l&&delete l.width,"height"in l&&delete l.height,Object.getOwnPropertyNames(l).forEach(function(g){o&&g==="class"||s.setAttribute(g,l[g]),o&&n.setAttribute(g,l[g])}),n.playerId=n.id,n.id+="_html5_api",n.className="vjs-tech",n.player=s.player=this,this.addClass("vjs-paused"),j.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=TO("vjs-styles-dimensions");var u=fs(".vjs-styles-defaults"),c=fs("head");c.insertBefore(this.styleEl_,u?u.nextSibling:c.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);for(var f=n.getElementsByTagName("a"),d=0;d<f.length;d++){var p=f.item(d);_r(p,"vjs-hidden"),p.setAttribute("hidden","hidden")}return n.initNetworkState_=n.networkState,n.parentNode&&!a&&n.parentNode.insertBefore(s,n),Tg(n,s),this.children_.unshift(n),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=s,s},i.crossOrigin=function(n){if(!n)return this.techGet_("crossOrigin");if(n!=="anonymous"&&n!=="use-credentials"){Le.warn('crossOrigin must be "anonymous" or "use-credentials", given "'+n+'"');return}this.techCall_("setCrossOrigin",n)},i.width=function(n){return this.dimension("width",n)},i.height=function(n){return this.dimension("height",n)},i.dimension=function(n,s){var a=n+"_";if(s===void 0)return this[a]||0;if(s===""||s==="auto"){this[a]=void 0,this.updateStyleEl_();return}var o=parseFloat(s);if(isNaN(o)){Le.error('Improper value "'+s+'" supplied for for '+n);return}this[a]=o,this.updateStyleEl_()},i.fluid=function(n){var s=this;if(n===void 0)return!!this.fluid_;this.fluid_=!!n,br(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),n?(this.addClass("vjs-fluid"),this.fill(!1),cV(this,function(){s.on(["playerreset","resize"],s.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()},i.fill=function(n){if(n===void 0)return!!this.fill_;this.fill_=!!n,n?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},i.aspectRatio=function(n){if(n===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(n))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=n,this.fluid(!0),this.updateStyleEl_()},i.updateStyleEl_=function(){if(j.VIDEOJS_NO_DYNAMIC_STYLE===!0){var n=typeof this.width_=="number"?this.width_:this.options_.width,s=typeof this.height_=="number"?this.height_:this.options_.height,a=this.tech_&&this.tech_.el();a&&(n>=0&&(a.width=n),s>=0&&(a.height=s));return}var o,l,u,c;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?u=this.aspectRatio_:this.videoWidth()>0?u=this.videoWidth()+":"+this.videoHeight():u="16:9";var f=u.split(":"),d=f[1]/f[0];this.width_!==void 0?o=this.width_:this.height_!==void 0?o=this.height_/d:o=this.videoWidth()||300,this.height_!==void 0?l=this.height_:l=o*d,/^[^a-zA-Z]/.test(this.id())?c="dimensions-"+this.id():c=this.id()+"-dimensions",this.addClass(c),xO(this.styleEl_,`
      .`+c+` {
        width: `+o+`px;
        height: `+l+`px;
      }

      .`+c+`.vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: `+d*100+`%;
      }
    `)},i.loadTech_=function(n,s){var a=this;this.tech_&&this.unloadTech_();var o=xt(n),l=n.charAt(0).toLowerCase()+n.slice(1);o!=="Html5"&&this.tag&&(Ge.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=o,this.isReady_=!1;var u=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(u=!1);var c={source:s,autoplay:u,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+l+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset,Promise:this.options_.Promise};vi.names.forEach(function(d){var p=vi[d];c[p.getterName]=a[p.privateName]}),pt(c,this.options_[o]),pt(c,this.options_[l]),pt(c,this.options_[n.toLowerCase()]),this.tag&&(c.tag=this.tag),s&&s.src===this.cache_.src&&this.cache_.currentTime>0&&(c.startTime=this.cache_.currentTime);var f=Ge.getTech(n);if(!f)throw new Error("No Tech named '"+o+"' exists! '"+o+"' should be registered using videojs.registerTech()'");this.tech_=new f(c),this.tech_.ready(it(this,this.handleTechReady_),!0),Rw.jsonToTextTracks(this.textTracksJson_||[],this.tech_),rA.forEach(function(d){a.on(a.tech_,d,function(p){return a["handleTech"+xt(d)+"_"](p)})}),Object.keys(Om).forEach(function(d){a.on(a.tech_,d,function(p){if(a.tech_.playbackRate()===0&&a.tech_.seeking()){a.queuedCallbacks_.push({callback:a["handleTech"+Om[d]+"_"].bind(a),event:p});return}a["handleTech"+Om[d]+"_"](p)})}),this.on(this.tech_,"loadstart",function(d){return a.handleTechLoadStart_(d)}),this.on(this.tech_,"sourceset",function(d){return a.handleTechSourceset_(d)}),this.on(this.tech_,"waiting",function(d){return a.handleTechWaiting_(d)}),this.on(this.tech_,"ended",function(d){return a.handleTechEnded_(d)}),this.on(this.tech_,"seeking",function(d){return a.handleTechSeeking_(d)}),this.on(this.tech_,"play",function(d){return a.handleTechPlay_(d)}),this.on(this.tech_,"firstplay",function(d){return a.handleTechFirstPlay_(d)}),this.on(this.tech_,"pause",function(d){return a.handleTechPause_(d)}),this.on(this.tech_,"durationchange",function(d){return a.handleTechDurationChange_(d)}),this.on(this.tech_,"fullscreenchange",function(d,p){return a.handleTechFullscreenChange_(d,p)}),this.on(this.tech_,"fullscreenerror",function(d,p){return a.handleTechFullscreenError_(d,p)}),this.on(this.tech_,"enterpictureinpicture",function(d){return a.handleTechEnterPictureInPicture_(d)}),this.on(this.tech_,"leavepictureinpicture",function(d){return a.handleTechLeavePictureInPicture_(d)}),this.on(this.tech_,"error",function(d){return a.handleTechError_(d)}),this.on(this.tech_,"posterchange",function(d){return a.handleTechPosterChange_(d)}),this.on(this.tech_,"textdata",function(d){return a.handleTechTextData_(d)}),this.on(this.tech_,"ratechange",function(d){return a.handleTechRateChange_(d)}),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(o!=="Html5"||!this.tag)&&Tg(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},i.unloadTech_=function(){var n=this;vi.names.forEach(function(s){var a=vi[s];n[a.privateName]=n[a.getterName]()}),this.textTracksJson_=Rw.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},i.tech=function(n){return n===void 0&&Le.warn(`Using the tech directly can be dangerous. I hope you know what you're doing.
See https://github.com/videojs/video.js/issues/2617 for more info.
`),this.tech_},i.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)},i.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)},i.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},i.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())},i.manualAutoplay_=function(n){var s=this;if(!(!this.tech_||typeof n!="string")){var a=function(){var u=s.muted();s.muted(!0);var c=function(){s.muted(u)};s.playTerminatedQueue_.push(c);var f=s.play();if(!!nu(f))return f.catch(function(d){throw c(),new Error("Rejection at manualAutoplay. Restoring muted value. "+(d||""))})},o;if(n==="any"&&!this.muted()?(o=this.play(),nu(o)&&(o=o.catch(a))):n==="muted"&&!this.muted()?o=a():o=this.play(),!!nu(o))return o.then(function(){s.trigger({type:"autoplay-success",autoplay:n})}).catch(function(){s.trigger({type:"autoplay-failure",autoplay:n})})}},i.updateSourceCaches_=function(n){n===void 0&&(n="");var s=n,a="";typeof s!="string"&&(s=n.src,a=n.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],s&&!a&&(a=VV(this,s)),this.cache_.source=tt({},n,{src:s,type:a});for(var o=this.cache_.sources.filter(function(p){return p.src&&p.src===s}),l=[],u=this.$$("source"),c=[],f=0;f<u.length;f++){var d=lr(u[f]);l.push(d),d.src&&d.src===s&&c.push(d.src)}c.length&&!o.length?this.cache_.sources=l:o.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=s},i.handleTechSourceset_=function(n){var s=this;if(!this.changingSrc_){var a=function(c){return s.updateSourceCaches_(c)},o=this.currentSource().src,l=n.src;o&&!/^blob:/.test(o)&&/^blob:/.test(l)&&(!this.lastSource_||this.lastSource_.tech!==l&&this.lastSource_.player!==o)&&(a=function(){}),a(l),n.src||this.tech_.any(["sourceset","loadstart"],function(u){if(u.type!=="sourceset"){var c=s.techGet("currentSrc");s.lastSource_.tech=c,s.updateSourceCaches_(c)}})}this.lastSource_={player:this.currentSource().src,tech:n.src},this.trigger({src:n.src,type:"sourceset"})},i.hasStarted=function(n){if(n===void 0)return this.hasStarted_;n!==this.hasStarted_&&(this.hasStarted_=n,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},i.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},i.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(function(n){return n.callback(n.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},i.handleTechWaiting_=function(){var n=this;this.addClass("vjs-waiting"),this.trigger("waiting");var s=this.currentTime(),a=function o(){s!==n.currentTime()&&(n.removeClass("vjs-waiting"),n.off("timeupdate",o))};this.on("timeupdate",a)},i.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},i.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},i.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},i.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},i.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.removeClass("vjs-ended"),this.trigger("seeked")},i.handleTechFirstPlay_=function(){this.options_.starttime&&(Le.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},i.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},i.handleTechEnded_=function(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},i.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},i.handleTechClick_=function(n){!this.controls_||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,n):this.paused()?qn(this.play()):this.pause())},i.handleTechDoubleClick_=function(n){if(!!this.controls_){var s=Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(a){return a.contains(n.target)});s||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,n):this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}},i.handleTechTap_=function(){this.userActive(!this.userActive())},i.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},i.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},i.handleTechTouchEnd_=function(n){n.cancelable&&n.preventDefault()},i.handleStageClick_=function(){this.reportUserActivity()},i.toggleFullscreenClass_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},i.documentFullscreenChange_=function(n){var s=n.target.player;if(!(s&&s!==this)){var a=this.el(),o=ae[this.fsApi_.fullscreenElement]===a;!o&&a.matches?o=a.matches(":"+this.fsApi_.fullscreen):!o&&a.msMatchesSelector&&(o=a.msMatchesSelector(":"+this.fsApi_.fullscreen)),this.isFullscreen(o)}},i.handleTechFullscreenChange_=function(n,s){var a=this;s&&(s.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",function(){a.removeClass("vjs-ios-native-fs")})),this.isFullscreen(s.isFullscreen))},i.handleTechFullscreenError_=function(n,s){this.trigger("fullscreenerror",s)},i.togglePictureInPictureClass_=function(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")},i.handleTechEnterPictureInPicture_=function(n){this.isInPictureInPicture(!0)},i.handleTechLeavePictureInPicture_=function(n){this.isInPictureInPicture(!1)},i.handleTechError_=function(){var n=this.tech_.error();this.error(n)},i.handleTechTextData_=function(){var n=null;arguments.length>1&&(n=arguments[1]),this.trigger("textdata",n)},i.getCache=function(){return this.cache_},i.resetCache_=function(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}},i.techCall_=function(n,s){this.ready(function(){if(n in NV)return LV(this.middleware_,this.tech_,n,s);if(n in Bw)return Uw(this.middleware_,this.tech_,n,s);try{this.tech_&&this.tech_[n](s)}catch(a){throw Le(a),a}},!0)},i.techGet_=function(n){if(!(!this.tech_||!this.tech_.isReady_)){if(n in jV)return RV(this.middleware_,this.tech_,n);if(n in Bw)return Uw(this.middleware_,this.tech_,n);try{return this.tech_[n]()}catch(s){throw this.tech_[n]===void 0?(Le("Video.js: "+n+" method not defined for "+this.techName_+" playback technology.",s),s):s.name==="TypeError"?(Le("Video.js: "+n+" unavailable on "+this.techName_+" playback technology element.",s),this.tech_.isReady_=!1,s):(Le(s),s)}}},i.play=function(){var n=this,s=this.options_.Promise||j.Promise;return s?new s(function(a){n.play_(a)}):this.play_()},i.play_=function(n){var s=this;n===void 0&&(n=qn),this.playCallbacks_.push(n);var a=Boolean(!this.changingSrc_&&(this.src()||this.currentSrc()));if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!a){this.waitToPlay_=function(l){s.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!a&&(Uh||Si)&&this.load();return}var o=this.techGet_("play");o===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(o)},i.runPlayTerminatedQueue_=function(){var n=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],n.forEach(function(s){s()})},i.runPlayCallbacks_=function(n){var s=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],s.forEach(function(a){a(n)})},i.pause=function(){this.techCall_("pause")},i.paused=function(){return this.techGet_("paused")!==!1},i.played=function(){return this.techGet_("played")||Vs(0,0)},i.scrubbing=function(n){if(typeof n>"u")return this.scrubbing_;this.scrubbing_=!!n,this.techCall_("setScrubbing",this.scrubbing_),n?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},i.currentTime=function(n){if(typeof n<"u"){if(n<0&&(n=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=n,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",n),this.cache_.initTime=0;return}return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime},i.applyInitTime_=function(){this.currentTime(this.cache_.initTime)},i.duration=function(n){if(n===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;n=parseFloat(n),n<0&&(n=1/0),n!==this.cache_.duration&&(this.cache_.duration=n,n===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(n)||this.trigger("durationchange"))},i.remainingTime=function(){return this.duration()-this.currentTime()},i.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},i.buffered=function(){var n=this.techGet_("buffered");return(!n||!n.length)&&(n=Vs(0,0)),n},i.bufferedPercent=function(){return PO(this.buffered(),this.duration())},i.bufferedEnd=function(){var n=this.buffered(),s=this.duration(),a=n.end(n.length-1);return a>s&&(a=s),a},i.volume=function(n){var s;if(n!==void 0){s=Math.max(0,Math.min(1,parseFloat(n))),this.cache_.volume=s,this.techCall_("setVolume",s),s>0&&this.lastVolume_(s);return}return s=parseFloat(this.techGet_("volume")),isNaN(s)?1:s},i.muted=function(n){if(n!==void 0){this.techCall_("setMuted",n);return}return this.techGet_("muted")||!1},i.defaultMuted=function(n){return n!==void 0?this.techCall_("setDefaultMuted",n):this.techGet_("defaultMuted")||!1},i.lastVolume_=function(n){if(n!==void 0&&n!==0){this.cache_.lastVolume=n;return}return this.cache_.lastVolume},i.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},i.isFullscreen=function(n){if(n!==void 0){var s=this.isFullscreen_;this.isFullscreen_=Boolean(n),this.isFullscreen_!==s&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_},i.requestFullscreen=function(n){var s=this.options_.Promise||j.Promise;if(s){var a=this;return new s(function(o,l){function u(){a.off("fullscreenerror",f),a.off("fullscreenchange",c)}function c(){u(),o()}function f(p,g){u(),l(g)}a.one("fullscreenchange",c),a.one("fullscreenerror",f);var d=a.requestFullscreenHelper_(n);d&&(d.then(u,u),d.then(o,l))})}return this.requestFullscreenHelper_()},i.requestFullscreenHelper_=function(n){var s=this,a;if(this.fsApi_.prefixed||(a=this.options_.fullscreen&&this.options_.fullscreen.options||{},n!==void 0&&(a=n)),this.fsApi_.requestFullscreen){var o=this.el_[this.fsApi_.requestFullscreen](a);return o&&o.then(function(){return s.isFullscreen(!0)},function(){return s.isFullscreen(!1)}),o}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()},i.exitFullscreen=function(){var n=this.options_.Promise||j.Promise;if(n){var s=this;return new n(function(a,o){function l(){s.off("fullscreenerror",c),s.off("fullscreenchange",u)}function u(){l(),a()}function c(d,p){l(),o(p)}s.one("fullscreenchange",u),s.one("fullscreenerror",c);var f=s.exitFullscreenHelper_();f&&(f.then(l,l),f.then(a,o))})}return this.exitFullscreenHelper_()},i.exitFullscreenHelper_=function(){var n=this;if(this.fsApi_.requestFullscreen){var s=ae[this.fsApi_.exitFullscreen]();return s&&qn(s.then(function(){return n.isFullscreen(!1)})),s}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()},i.enterFullWindow=function(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=ae.documentElement.style.overflow,en(ae,"keydown",this.boundFullWindowOnEscKey_),ae.documentElement.style.overflow="hidden",_r(ae.body,"vjs-full-window"),this.trigger("enterFullWindow")},i.fullWindowOnEscKey=function(n){Oe.isEventKey(n,"Esc")&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())},i.exitFullWindow=function(){this.isFullscreen(!1),this.isFullWindow=!1,si(ae,"keydown",this.boundFullWindowOnEscKey_),ae.documentElement.style.overflow=this.docOrigOverflow,gc(ae.body,"vjs-full-window"),this.trigger("exitFullWindow")},i.disablePictureInPicture=function(n){if(n===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",n),this.options_.disablePictureInPicture=n,this.trigger("disablepictureinpicturechanged")},i.isInPictureInPicture=function(n){if(n!==void 0){this.isInPictureInPicture_=!!n,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_},i.requestPictureInPicture=function(){if("pictureInPictureEnabled"in ae&&this.disablePictureInPicture()===!1)return this.techGet_("requestPictureInPicture")},i.exitPictureInPicture=function(){if("pictureInPictureEnabled"in ae)return ae.exitPictureInPicture()},i.handleKeyDown=function(n){var s=this.options_.userActions;if(!(!s||!s.hotkeys)){var a=function(l){var u=l.tagName.toLowerCase();if(l.isContentEditable)return!0;var c=["button","checkbox","hidden","radio","reset","submit"];if(u==="input")return c.indexOf(l.type)===-1;var f=["textarea"];return f.indexOf(u)!==-1};a(this.el_.ownerDocument.activeElement)||(typeof s.hotkeys=="function"?s.hotkeys.call(this,n):this.handleHotkeys(n))}},i.handleHotkeys=function(n){var s=this.options_.userActions?this.options_.userActions.hotkeys:{},a=s.fullscreenKey,o=a===void 0?function(b){return Oe.isEventKey(b,"f")}:a,l=s.muteKey,u=l===void 0?function(b){return Oe.isEventKey(b,"m")}:l,c=s.playPauseKey,f=c===void 0?function(b){return Oe.isEventKey(b,"k")||Oe.isEventKey(b,"Space")}:c;if(o.call(this,n)){n.preventDefault(),n.stopPropagation();var d=ie.getComponent("FullscreenToggle");ae[this.fsApi_.fullscreenEnabled]!==!1&&d.prototype.handleClick.call(this,n)}else if(u.call(this,n)){n.preventDefault(),n.stopPropagation();var p=ie.getComponent("MuteToggle");p.prototype.handleClick.call(this,n)}else if(f.call(this,n)){n.preventDefault(),n.stopPropagation();var g=ie.getComponent("PlayToggle");g.prototype.handleClick.call(this,n)}},i.canPlayType=function(n){for(var s,a=0,o=this.options_.techOrder;a<o.length;a++){var l=o[a],u=Ge.getTech(l);if(u||(u=ie.getComponent(l)),!u){Le.error('The "'+l+'" tech is undefined. Skipped browser support check for that tech.');continue}if(u.isSupported()&&(s=u.canPlayType(n),s))return s}return""},i.selectSource=function(n){var s=this,a=this.options_.techOrder.map(function(f){return[f,Ge.getTech(f)]}).filter(function(f){var d=f[0],p=f[1];return p?p.isSupported():(Le.error('The "'+d+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),o=function(d,p,g){var b;return d.some(function(y){return p.some(function(T){if(b=g(y,T),b)return!0})}),b},l,u=function(d){return function(p,g){return d(g,p)}},c=function(d,p){var g=d[0],b=d[1];if(b.canPlaySource(p,s.options_[g.toLowerCase()]))return{source:p,tech:g}};return this.options_.sourceOrder?l=o(n,a,u(c)):l=o(a,n,c),l||!1},i.handleSrc_=function(n,s){var a=this;if(typeof n>"u")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();var o=HV(n);if(!o.length){this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0);return}if(this.changingSrc_=!0,s||(this.cache_.sources=o),this.updateSourceCaches_(o[0]),DV(this,o[0],function(c,f){a.middleware_=f,s||(a.cache_.sources=o),a.updateSourceCaches_(c);var d=a.src_(c);if(d){if(o.length>1)return a.handleSrc_(o.slice(1));a.changingSrc_=!1,a.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),a.triggerReady();return}MV(f,a.tech_)}),this.options_.retryOnError&&o.length>1){var l=function(){a.error(null),a.handleSrc_(o.slice(1),!0)},u=function(){a.off("error",l)};this.one("error",l),this.one("playing",u),this.resetRetryOnError_=function(){a.off("error",l),a.off("playing",u)}}},i.src=function(n){return this.handleSrc_(n,!1)},i.src_=function(n){var s=this,a=this.selectSource([n]);return a?hV(a.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",n):this.techCall_("src",n.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(a.tech,a.source),this.tech_.ready(function(){s.changingSrc_=!1}),!1):!0},i.load=function(){this.techCall_("load")},i.reset=function(){var n=this,s=this.options_.Promise||j.Promise;if(this.paused()||!s)this.doReset_();else{var a=this.play();qn(a.then(function(){return n.doReset_()}))}},i.doReset_=function(){this.tech_&&this.tech_.clearTracks("text"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),br(this)&&this.trigger("playerreset")},i.resetControlBarUI_=function(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()},i.resetProgressBar_=function(){this.currentTime(0);var n=this.controlBar||{},s=n.durationDisplay,a=n.remainingTimeDisplay;s&&s.updateContent(),a&&a.updateContent()},i.resetPlaybackRate_=function(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()},i.resetVolumeBar_=function(){this.volume(1),this.trigger("volumechange")},i.currentSources=function(){var n=this.currentSource(),s=[];return Object.keys(n).length!==0&&s.push(n),this.cache_.sources||s},i.currentSource=function(){return this.cache_.source||{}},i.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},i.currentType=function(){return this.currentSource()&&this.currentSource().type||""},i.preload=function(n){if(n!==void 0){this.techCall_("setPreload",n),this.options_.preload=n;return}return this.techGet_("preload")},i.autoplay=function(n){if(n===void 0)return this.options_.autoplay||!1;var s;typeof n=="string"&&/(any|play|muted)/.test(n)||n===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=n,this.manualAutoplay_(typeof n=="string"?n:"play"),s=!1):n?this.options_.autoplay=!0:this.options_.autoplay=!1,s=typeof s>"u"?this.options_.autoplay:s,this.tech_&&this.techCall_("setAutoplay",s)},i.playsinline=function(n){return n!==void 0?(this.techCall_("setPlaysinline",n),this.options_.playsinline=n,this):this.techGet_("playsinline")},i.loop=function(n){if(n!==void 0){this.techCall_("setLoop",n),this.options_.loop=n;return}return this.techGet_("loop")},i.poster=function(n){if(n===void 0)return this.poster_;n||(n=""),n!==this.poster_&&(this.poster_=n,this.techCall_("setPoster",n),this.isPosterFromTech_=!1,this.trigger("posterchange"))},i.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var n=this.tech_.poster()||"";n!==this.poster_&&(this.poster_=n,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},i.controls=function(n){if(n===void 0)return!!this.controls_;n=!!n,this.controls_!==n&&(this.controls_=n,this.usingNativeControls()&&this.techCall_("setControls",n),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},i.usingNativeControls=function(n){if(n===void 0)return!!this.usingNativeControls_;n=!!n,this.usingNativeControls_!==n&&(this.usingNativeControls_=n,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},i.error=function(n){var s=this;if(n===void 0)return this.error_||null;if(ds("beforeerror").forEach(function(o){var l=o(s,n);if(!(kr(l)&&!Array.isArray(l)||typeof l=="string"||typeof l=="number"||l===null)){s.log.error("please return a value that MediaError expects in beforeerror hooks");return}n=l}),this.options_.suppressNotSupportedError&&n&&n.code===4){var a=function(){this.error(n)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],a),this.one("loadstart",function(){this.off(["click","touchstart"],a)});return}if(n===null){this.error_=n,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new bi(n),this.addClass("vjs-error"),Le.error("(CODE:"+this.error_.code+" "+bi.errorTypes[this.error_.code]+")",this.error_.message,this.error_),this.trigger("error"),ds("error").forEach(function(o){return o(s,s.error_)})},i.reportUserActivity=function(n){this.userActivity_=!0},i.userActive=function(n){if(n===void 0)return this.userActive_;if(n=!!n,n!==this.userActive_){if(this.userActive_=n,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(s){s.stopPropagation(),s.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},i.listenForUserActivity_=function(){var n,s,a,o=it(this,this.reportUserActivity),l=function(g){(g.screenX!==s||g.screenY!==a)&&(s=g.screenX,a=g.screenY,o())},u=function(){o(),this.clearInterval(n),n=this.setInterval(o,250)},c=function(g){o(),this.clearInterval(n)};this.on("mousedown",u),this.on("mousemove",l),this.on("mouseup",c),this.on("mouseleave",c);var f=this.getChild("controlBar");f&&!Si&&!Ir&&(f.on("mouseenter",function(p){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),f.on("mouseleave",function(p){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",o),this.on("keyup",o);var d;this.setInterval(function(){if(!!this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(d);var p=this.options_.inactivityTimeout;p<=0||(d=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},p))}},250)},i.playbackRate=function(n){if(n!==void 0){this.techCall_("setPlaybackRate",n);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1},i.defaultPlaybackRate=function(n){return n!==void 0?this.techCall_("setDefaultPlaybackRate",n):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},i.isAudio=function(n){if(n!==void 0){this.isAudio_=!!n;return}return!!this.isAudio_},i.enableAudioOnlyUI_=function(){var n=this;this.addClass("vjs-audio-only-mode");var s=this.children(),a=this.getChild("ControlBar"),o=a&&a.currentHeight();s.forEach(function(l){l!==a&&l.el_&&!l.hasClass("vjs-hidden")&&(l.hide(),n.audioOnlyCache_.hiddenChildren.push(l))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.height(o),this.trigger("audioonlymodechange")},i.disableAudioOnlyUI_=function(){this.removeClass("vjs-audio-only-mode"),this.audioOnlyCache_.hiddenChildren.forEach(function(n){return n.show()}),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")},i.audioOnlyMode=function(n){var s=this;if(typeof n!="boolean"||n===this.audioOnlyMode_)return this.audioOnlyMode_;this.audioOnlyMode_=n;var a=this.options_.Promise||j.Promise;if(a){if(n){var o=[];return this.isInPictureInPicture()&&o.push(this.exitPictureInPicture()),this.isFullscreen()&&o.push(this.exitFullscreen()),this.audioPosterMode()&&o.push(this.audioPosterMode(!1)),a.all(o).then(function(){return s.enableAudioOnlyUI_()})}return a.resolve().then(function(){return s.disableAudioOnlyUI_()})}n?(this.isInPictureInPicture()&&this.exitPictureInPicture(),this.isFullscreen()&&this.exitFullscreen(),this.enableAudioOnlyUI_()):this.disableAudioOnlyUI_()},i.enablePosterModeUI_=function(){var n=this.tech_&&this.tech_;n.hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},i.disablePosterModeUI_=function(){var n=this.tech_&&this.tech_;n.show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")},i.audioPosterMode=function(n){var s=this;if(typeof n!="boolean"||n===this.audioPosterMode_)return this.audioPosterMode_;this.audioPosterMode_=n;var a=this.options_.Promise||j.Promise;if(a){if(n){if(this.audioOnlyMode()){var o=this.audioOnlyMode(!1);return o.then(function(){s.enablePosterModeUI_()})}return a.resolve().then(function(){s.enablePosterModeUI_()})}return a.resolve().then(function(){s.disablePosterModeUI_()})}if(n){this.audioOnlyMode()&&this.audioOnlyMode(!1),this.enablePosterModeUI_();return}this.disablePosterModeUI_()},i.addTextTrack=function(n,s,a){if(this.tech_)return this.tech_.addTextTrack(n,s,a)},i.addRemoteTextTrack=function(n,s){if(this.tech_)return this.tech_.addRemoteTextTrack(n,s)},i.removeRemoteTextTrack=function(n){n===void 0&&(n={});var s=n,a=s.track;if(a||(a=n),this.tech_)return this.tech_.removeRemoteTextTrack(a)},i.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},i.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},i.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},i.language=function(n){if(n===void 0)return this.language_;this.language_!==String(n).toLowerCase()&&(this.language_=String(n).toLowerCase(),br(this)&&this.trigger("languagechange"))},i.languages=function(){return tt(e.prototype.options_.languages,this.languages_)},i.toJSON=function(){var n=tt(this.options_),s=n.tracks;n.tracks=[];for(var a=0;a<s.length;a++){var o=s[a];o=tt(o),o.player=void 0,n.tracks[a]=o}return n},i.createModal=function(n,s){var a=this;s=s||{},s.content=n||"";var o=new Bo(this,s);return this.addChild(o),o.on("dispose",function(){a.removeChild(o)}),o.open(),o},i.updateCurrentBreakpoint_=function(){if(!!this.responsive())for(var n=this.currentBreakpoint(),s=this.currentWidth(),a=0;a<Og.length;a++){var o=Og[a],l=this.breakpoints_[o];if(s<=l){if(n===o)return;n&&this.removeClass(Ud[n]),this.addClass(Ud[o]),this.breakpoint_=o;break}}},i.removeCurrentBreakpoint_=function(){var n=this.currentBreakpointClass();this.breakpoint_="",n&&this.removeClass(n)},i.breakpoints=function(n){return n===void 0?pt(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=pt({},_H,n),this.updateCurrentBreakpoint_(),pt(this.breakpoints_))},i.responsive=function(n){if(n===void 0)return this.responsive_;n=Boolean(n);var s=this.responsive_;if(n!==s)return this.responsive_=n,n?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),n},i.currentBreakpoint=function(){return this.breakpoint_},i.currentBreakpointClass=function(){return Ud[this.breakpoint_]||""},i.loadMedia=function(n,s){var a=this;if(!(!n||typeof n!="object")){this.reset(),this.cache_.media=tt(n);var o=this.cache_.media,l=o.artwork,u=o.poster,c=o.src,f=o.textTracks;!l&&u&&(this.cache_.media.artwork=[{src:u,type:Lf(u)}]),c&&this.src(c),u&&this.poster(u),Array.isArray(f)&&f.forEach(function(d){return a.addRemoteTextTrack(d,!1)}),this.ready(s)}},i.getMedia=function(){if(!this.cache_.media){var n=this.poster(),s=this.currentSources(),a=Array.prototype.map.call(this.remoteTextTracks(),function(l){return{kind:l.kind,label:l.label,language:l.language,src:l.src}}),o={src:s,textTracks:a};return n&&(o.poster=n,o.artwork=[{src:o.poster,type:Lf(o.poster)}]),o}return tt(this.cache_.media)},e.getTagSettings=function(n){var s={sources:[],tracks:[]},a=lr(n),o=a["data-setup"];if(zs(n,"vjs-fill")&&(a.fill=!0),zs(n,"vjs-fluid")&&(a.fluid=!0),o!==null){var l=e8(o||"{}"),u=l[0],c=l[1];u&&Le.error(u),pt(a,c)}if(pt(s,a),n.hasChildNodes())for(var f=n.childNodes,d=0,p=f.length;d<p;d++){var g=f[d],b=g.nodeName.toLowerCase();b==="source"?s.sources.push(lr(g)):b==="track"&&s.tracks.push(lr(g))}return s},i.flexNotSupported_=function(){var n=ae.createElement("i");return!("flexBasis"in n.style||"webkitFlexBasis"in n.style||"mozFlexBasis"in n.style||"msFlexBasis"in n.style||"msFlexOrder"in n.style)},i.debug=function(n){if(n===void 0)return this.debugEnabled_;n?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)},i.playbackRates=function(n){if(n===void 0)return this.cache_.playbackRates;!Array.isArray(n)||!n.every(function(s){return typeof s=="number"})||(this.cache_.playbackRates=n,this.trigger("playbackrateschange"))},e}(ie);vi.names.forEach(function(t){var e=vi[t];Ct.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}});Ct.prototype.crossorigin=Ct.prototype.crossOrigin;Ct.players={};var bl=j.navigator;Ct.prototype.options_={techOrder:Ge.defaultTechOrder_,html5:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:bl&&(bl.languages&&bl.languages[0]||bl.userLanguage||bl.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1};["ended","seeking","seekable","networkState","readyState"].forEach(function(t){Ct.prototype[t]=function(){return this.techGet_(t)}});rA.forEach(function(t){Ct.prototype["handleTech"+xt(t)+"_"]=function(){return this.trigger(t)}});ie.registerComponent("Player",Ct);var Ff="plugin",Ja="activePlugins_",ja={},Uf=function(e){return ja.hasOwnProperty(e)},Bd=function(e){return Uf(e)?ja[e]:void 0},sA=function(e,i){e[Ja]=e[Ja]||{},e[Ja][i]=!0},Bf=function(e,i,r){var n=(r?"before":"")+"pluginsetup";e.trigger(n,i),e.trigger(n+":"+i.name,i)},bH=function(e,i){var r=function(){Bf(this,{name:e,plugin:i,instance:null},!0);var s=i.apply(this,arguments);return sA(this,e),Bf(this,{name:e,plugin:i,instance:s}),s};return Object.keys(i).forEach(function(n){r[n]=i[n]}),r},eS=function(e,i){return i.prototype.name=e,function(){Bf(this,{name:e,plugin:i,instance:null},!0);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];var a=iu(i,[this].concat(n));return this[e]=function(){return a},Bf(this,a.getEventHash()),a}},ir=function(){function t(i){if(this.constructor===t)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=i,this.log||(this.log=this.player.log.createLogger(this.name)),u_(this),delete this.trigger,kO(this,this.constructor.defaultState),sA(i,this.name),this.dispose=this.dispose.bind(this),i.on("dispose",this.dispose)}var e=t.prototype;return e.version=function(){return this.constructor.VERSION},e.getEventHash=function(r){return r===void 0&&(r={}),r.name=this.name,r.plugin=this.constructor,r.instance=this,r},e.trigger=function(r,n){return n===void 0&&(n={}),Uo(this.eventBusEl_,r,this.getEventHash(n))},e.handleStateChanged=function(r){},e.dispose=function(){var r=this.name,n=this.player;this.trigger("dispose"),this.off(),n.off("dispose",this.dispose),n[Ja][r]=!1,this.player=this.state=null,n[r]=eS(r,ja[r])},t.isBasic=function(r){var n=typeof r=="string"?Bd(r):r;return typeof n=="function"&&!t.prototype.isPrototypeOf(n.prototype)},t.registerPlugin=function(r,n){if(typeof r!="string")throw new Error('Illegal plugin name, "'+r+'", must be a string, was '+typeof r+".");if(Uf(r))Le.warn('A plugin named "'+r+'" already exists. You may want to avoid re-registering plugins!');else if(Ct.prototype.hasOwnProperty(r))throw new Error('Illegal plugin name, "'+r+'", cannot share a name with an existing player method!');if(typeof n!="function")throw new Error('Illegal plugin for "'+r+'", must be a function, was '+typeof n+".");return ja[r]=n,r!==Ff&&(t.isBasic(n)?Ct.prototype[r]=bH(r,n):Ct.prototype[r]=eS(r,n)),n},t.deregisterPlugin=function(r){if(r===Ff)throw new Error("Cannot de-register base plugin.");Uf(r)&&(delete ja[r],delete Ct.prototype[r])},t.getPlugins=function(r){r===void 0&&(r=Object.keys(ja));var n;return r.forEach(function(s){var a=Bd(s);a&&(n=n||{},n[s]=a)}),n},t.getPluginVersion=function(r){var n=Bd(r);return n&&n.VERSION||""},t}();ir.getPlugin=Bd;ir.BASE_PLUGIN_NAME=Ff;ir.registerPlugin(Ff,ir);Ct.prototype.usingPlugin=function(t){return!!this[Ja]&&this[Ja][t]===!0};Ct.prototype.hasPlugin=function(t){return!!Uf(t)};var tS=!1,TH=function(e,i){i===void 0&&(i={}),tS||(Le.warn("videojs.extend is deprecated as of Video.js 7.22.0 and will be removed in Video.js 8.0.0"),tS=!0);var r=function(){e.apply(this,arguments)},n={};typeof i=="object"?(i.constructor!==Object.prototype.constructor&&(r=i.constructor),n=i):typeof i=="function"&&(r=i),V8(r,e),e&&(r.super_=e);for(var s in n)n.hasOwnProperty(s)&&(r.prototype[s]=n[s]);return r},aA=function(e){return e.indexOf("#")===0?e.slice(1):e};function V(t,e,i){var r=V.getPlayer(t);if(r)return e&&Le.warn('Player "'+t+'" is already initialised. Options will not be applied.'),i&&r.ready(i),r;var n=typeof t=="string"?fs("#"+aA(t)):t;if(!Fo(n))throw new TypeError("The element or ID supplied is not valid. (videojs)");(!n.ownerDocument.defaultView||!n.ownerDocument.body.contains(n))&&Le.warn("The element supplied is not included in the DOM"),e=e||{},e.restoreEl===!0&&(e.restoreEl=(n.parentNode&&n.parentNode.hasAttribute("data-vjs-player")?n.parentNode:n).cloneNode(!0)),ds("beforesetup").forEach(function(a){var o=a(n,tt(e));if(!kr(o)||Array.isArray(o)){Le.error("please return an object in beforesetup hooks");return}e=tt(e,o)});var s=ie.getComponent("Player");return r=new s(n,e,i),ds("setup").forEach(function(a){return a(r)}),r}V.hooks_=dr;V.hooks=ds;V.hook=K6;V.hookOnce=X6;V.removeHook=JP;if(j.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&No()){var hd=fs(".vjs-styles-defaults");if(!hd){hd=TO("vjs-styles-defaults");var Am=fs("head");Am&&Am.insertBefore(hd,Am.firstChild),xO(hd,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: 56.25%
      }
    `)}}wg(1,V);V.VERSION=QP;V.options=Ct.prototype.options_;V.getPlayers=function(){return Ct.players};V.getPlayer=function(t){var e=Ct.players,i;if(typeof t=="string"){var r=aA(t),n=e[r];if(n)return n;i=fs("#"+r)}else i=t;if(Fo(i)){var s=i,a=s.player,o=s.playerId;if(a||e[o])return a||e[o]}};V.getAllPlayers=function(){return Object.keys(Ct.players).map(function(t){return Ct.players[t]}).filter(Boolean)};V.players=Ct.players;V.getComponent=ie.getComponent;V.registerComponent=function(t,e){Ge.isTech(e)&&Le.warn("The "+t+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),ie.registerComponent.call(ie,t,e)};V.getTech=Ge.getTech;V.registerTech=Ge.registerTech;V.use=IV;Object.defineProperty(V,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(V.middleware,"TERMINATOR",{value:Rf,writeable:!1,enumerable:!0});V.browser=tV;V.TOUCH_ENABLED=go;V.extend=TH;V.mergeOptions=tt;V.bind=it;V.registerPlugin=ir.registerPlugin;V.deregisterPlugin=ir.deregisterPlugin;V.plugin=function(t,e){return Le.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),ir.registerPlugin(t,e)};V.getPlugins=ir.getPlugins;V.getPlugin=ir.getPlugin;V.getPluginVersion=ir.getPluginVersion;V.addLanguage=function(t,e){var i;return t=(""+t).toLowerCase(),V.options.languages=tt(V.options.languages,(i={},i[t]=e,i)),V.options.languages[t]};V.log=Le;V.createLogger=eO;V.createTimeRange=V.createTimeRanges=Vs;V.formatTime=xo;V.setFormatTime=YV;V.resetFormatTime=QV;V.parseUrl=d_;V.isCrossOrigin=qh;V.EventTarget=Ut;V.on=en;V.one=Hh;V.off=si;V.trigger=Uo;V.xhr=eP;V.TextTrack=yc;V.AudioTrack=IO;V.VideoTrack=DO;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(t){V[t]=function(){return Le.warn("videojs."+t+"() is deprecated; use videojs.dom."+t+"() instead"),_O[t].apply(null,arguments)}});V.computedStyle=Uu;V.dom=_O;V.url=kV;V.defineLazyProperty=A_;V.addLanguage("en",{"Non-Fullscreen":"Exit Fullscreen"});/*! @name @videojs/http-streaming @version 2.16.0 @license Apache-2.0 */var kn=Ih,zf=function(e,i,r){return e&&r&&r.responseURL&&i!==r.responseURL?r.responseURL:i},jn=function(e){return V.log.debug?V.log.debug.bind(V,"VHS:",e+" >"):function(){}},hs=1/30,$n=hs*3,oA=function(e,i){var r=[],n;if(e&&e.length)for(n=0;n<e.length;n++)i(e.start(n),e.end(n))&&r.push([e.start(n),e.end(n)]);return V.createTimeRanges(r)},Na=function(e,i){return oA(e,function(r,n){return r-$n<=i&&n+$n>=i})},pd=function(e,i){return oA(e,function(r){return r-hs>=i})},xH=function(e){if(e.length<2)return V.createTimeRanges();for(var i=[],r=1;r<e.length;r++){var n=e.end(r-1),s=e.start(r);i.push([n,s])}return V.createTimeRanges(i)},wH=function(e,i){var r=null,n=null,s=0,a=[],o=[];if(!e||!e.length||!i||!i.length)return V.createTimeRange();for(var l=e.length;l--;)a.push({time:e.start(l),type:"start"}),a.push({time:e.end(l),type:"end"});for(l=i.length;l--;)a.push({time:i.start(l),type:"start"}),a.push({time:i.end(l),type:"end"});for(a.sort(function(u,c){return u.time-c.time}),l=0;l<a.length;l++)a[l].type==="start"?(s++,s===2&&(r=a[l].time)):a[l].type==="end"&&(s--,s===1&&(n=a[l].time)),r!==null&&n!==null&&(o.push([r,n]),r=null,n=null);return V.createTimeRanges(o)},lA=function(e){var i=[];if(!e||!e.length)return"";for(var r=0;r<e.length;r++)i.push(e.start(r)+" => "+e.end(r));return i.join(", ")},SH=function(e,i,r){r===void 0&&(r=1);var n=e.length?e.end(e.length-1):0;return(n-i)/r},Fs=function(e){for(var i=[],r=0;r<e.length;r++)i.push({start:e.start(r),end:e.end(r)});return i},EH=function(e,i){if(e===i)return!1;if(!e&&i||!i&&e||e.length!==i.length)return!0;for(var r=0;r<e.length;r++)if(e.start(r)!==i.start(r)||e.end(r)!==i.end(r))return!0;return!1},iS=function(e){if(!(!e||!e.length||!e.end))return e.end(e.length-1)},I_=function(e,i){var r=0;if(!e||!e.length)return r;for(var n=0;n<e.length;n++){var s=e.start(n),a=e.end(n);if(!(i>a)){if(i>s&&i<=a){r+=a-i;continue}r+=a-s}}return r},nS=V.createTimeRange,D_=function(e,i){if(!i.preload)return i.duration;var r=0;return(i.parts||[]).forEach(function(n){r+=n.duration}),(i.preloadHints||[]).forEach(function(n){n.type==="PART"&&(r+=e.partTargetDuration)}),r},Ag=function(e){return(e.segments||[]).reduce(function(i,r,n){return r.parts?r.parts.forEach(function(s,a){i.push({duration:s.duration,segmentIndex:n,partIndex:a,part:s,segment:r})}):i.push({duration:r.duration,segmentIndex:n,partIndex:null,segment:r,part:null}),i},[])},uA=function(e){var i=e.segments&&e.segments.length&&e.segments[e.segments.length-1];return i&&i.parts||[]},cA=function(e){var i=e.preloadSegment;if(!!i){var r=i.parts,n=i.preloadHints,s=(n||[]).reduce(function(a,o){return a+(o.type==="PART"?1:0)},0);return s+=r&&r.length?r.length:0,s}},dA=function(e,i){if(i.endList)return 0;if(e&&e.suggestedPresentationDelay)return e.suggestedPresentationDelay;var r=uA(i).length>0;return r&&i.serverControl&&i.serverControl.partHoldBack?i.serverControl.partHoldBack:r&&i.partTargetDuration?i.partTargetDuration*3:i.serverControl&&i.serverControl.holdBack?i.serverControl.holdBack:i.targetDuration?i.targetDuration*3:0},CH=function(e,i){var r=0,n=i-e.mediaSequence,s=e.segments[n];if(s){if(typeof s.start<"u")return{result:s.start,precise:!0};if(typeof s.end<"u")return{result:s.end-s.duration,precise:!0}}for(;n--;){if(s=e.segments[n],typeof s.end<"u")return{result:r+s.end,precise:!0};if(r+=D_(e,s),typeof s.start<"u")return{result:r+s.start,precise:!0}}return{result:r,precise:!1}},kH=function(e,i){for(var r=0,n,s=i-e.mediaSequence;s<e.segments.length;s++){if(n=e.segments[s],typeof n.start<"u")return{result:n.start-r,precise:!0};if(r+=D_(e,n),typeof n.end<"u")return{result:n.end-r,precise:!0}}return{result:-1,precise:!1}},fA=function(e,i,r){if(typeof i>"u"&&(i=e.mediaSequence+e.segments.length),i<e.mediaSequence)return 0;var n=CH(e,i);if(n.precise)return n.result;var s=kH(e,i);return s.precise?s.result:n.result+r},hA=function(e,i,r){if(!e)return 0;if(typeof r!="number"&&(r=0),typeof i>"u"){if(e.totalDuration)return e.totalDuration;if(!e.endList)return j.Infinity}return fA(e,i,r)},ru=function(e){var i=e.defaultDuration,r=e.durationList,n=e.startIndex,s=e.endIndex,a=0;if(n>s){var o=[s,n];n=o[0],s=o[1]}if(n<0){for(var l=n;l<Math.min(0,s);l++)a+=i;n=0}for(var u=n;u<s;u++)a+=r[u].duration;return a},pA=function(e,i,r,n){if(!e||!e.segments)return null;if(e.endList)return hA(e);if(i===null)return null;i=i||0;var s=fA(e,e.mediaSequence+e.segments.length,i);return r&&(n=typeof n=="number"?n:dA(null,e),s-=n),Math.max(0,s)},PH=function(e,i,r){var n=!0,s=i||0,a=pA(e,i,n,r);return a===null?nS():nS(s,a)},OH=function(e){for(var i=e.playlist,r=e.currentTime,n=e.startingSegmentIndex,s=e.startingPartIndex,a=e.startTime,o=e.experimentalExactManifestTimings,l=r-a,u=Ag(i),c=0,f=0;f<u.length;f++){var d=u[f];if(n===d.segmentIndex&&!(typeof s=="number"&&typeof d.partIndex=="number"&&s!==d.partIndex)){c=f;break}}if(l<0){if(c>0)for(var p=c-1;p>=0;p--){var g=u[p];if(l+=g.duration,o){if(l<0)continue}else if(l+hs<=0)continue;return{partIndex:g.partIndex,segmentIndex:g.segmentIndex,startTime:a-ru({defaultDuration:i.targetDuration,durationList:u,startIndex:c,endIndex:p})}}return{partIndex:u[0]&&u[0].partIndex||null,segmentIndex:u[0]&&u[0].segmentIndex||0,startTime:r}}if(c<0){for(var b=c;b<0;b++)if(l-=i.targetDuration,l<0)return{partIndex:u[0]&&u[0].partIndex||null,segmentIndex:u[0]&&u[0].segmentIndex||0,startTime:r};c=0}for(var y=c;y<u.length;y++){var T=u[y];if(l-=T.duration,o){if(l>0)continue}else if(l-hs>=0)continue;return{partIndex:T.partIndex,segmentIndex:T.segmentIndex,startTime:a+ru({defaultDuration:i.targetDuration,durationList:u,startIndex:c,endIndex:y})}}return{segmentIndex:u[u.length-1].segmentIndex,partIndex:u[u.length-1].partIndex,startTime:r}},mA=function(e){return e.excludeUntil&&e.excludeUntil>Date.now()},M_=function(e){return e.excludeUntil&&e.excludeUntil===1/0},Xh=function(e){var i=mA(e);return!e.disabled&&!i},AH=function(e){return e.disabled},IH=function(e){for(var i=0;i<e.segments.length;i++)if(e.segments[i].key)return!0;return!1},vA=function(e,i){return i.attributes&&i.attributes[e]},DH=function(e,i,r,n){if(n===void 0&&(n=0),!vA("BANDWIDTH",r))return NaN;var s=e*r.attributes.BANDWIDTH;return(s-n*8)/i},Ig=function(e,i){if(e.playlists.length===1)return!0;var r=i.attributes.BANDWIDTH||Number.MAX_VALUE;return e.playlists.filter(function(n){return Xh(n)?(n.attributes.BANDWIDTH||0)<r:!1}).length===0},R_=function(e,i){return!e&&!i||!e&&i||e&&!i?!1:!!(e===i||e.id&&i.id&&e.id===i.id||e.resolvedUri&&i.resolvedUri&&e.resolvedUri===i.resolvedUri||e.uri&&i.uri&&e.uri===i.uri)},rS=function(e,i){var r=e&&e.mediaGroups&&e.mediaGroups.AUDIO||{},n=!1;for(var s in r){for(var a in r[s])if(n=i(r[s][a]),n)break;if(n)break}return!!n},Tc=function(e){if(!e||!e.playlists||!e.playlists.length){var i=rS(e,function(a){return a.playlists&&a.playlists.length||a.uri});return i}for(var r=function(o){var l=e.playlists[o],u=l.attributes&&l.attributes.CODECS;if(u&&u.split(",").every(function(f){return oP(f)}))return"continue";var c=rS(e,function(f){return R_(l,f)});return c?"continue":{v:!1}},n=0;n<e.playlists.length;n++){var s=r(n);if(s!=="continue"&&typeof s=="object")return s.v}return!0},ji={liveEdgeDelay:dA,duration:hA,seekable:PH,getMediaInfoForTime:OH,isEnabled:Xh,isDisabled:AH,isBlacklisted:mA,isIncompatible:M_,playlistEnd:pA,isAes:IH,hasAttribute:vA,estimateSegmentRequestTime:DH,isLowestEnabledRendition:Ig,isAudioOnly:Tc,playlistMatch:R_,segmentDurationWithParts:D_},gA=V.log,L_=function(e,i){return e+"-"+i},MH=function(e){var i=e.onwarn,r=e.oninfo,n=e.manifestString,s=e.customTagParsers,a=s===void 0?[]:s,o=e.customTagMappers,l=o===void 0?[]:o,u=e.experimentalLLHLS,c=new X8;i&&c.on("warn",i),r&&c.on("info",r),a.forEach(function(b){return c.addParser(b)}),l.forEach(function(b){return c.addTagMapper(b)}),c.push(n),c.end();var f=c.manifest;if(u||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(b){f.hasOwnProperty(b)&&delete f[b]}),f.segments&&f.segments.forEach(function(b){["parts","preloadHints"].forEach(function(y){b.hasOwnProperty(y)&&delete b[y]})})),!f.targetDuration){var d=10;f.segments&&f.segments.length&&(d=f.segments.reduce(function(b,y){return Math.max(b,y.duration)},0)),i&&i("manifest has no targetDuration defaulting to "+d),f.targetDuration=d}var p=uA(f);if(p.length&&!f.partTargetDuration){var g=p.reduce(function(b,y){return Math.max(b,y.duration)},0);i&&(i("manifest has no partTargetDuration defaulting to "+g),gA.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),f.partTargetDuration=g}return f},xc=function(e,i){!e.mediaGroups||["AUDIO","SUBTITLES"].forEach(function(r){if(!!e.mediaGroups[r])for(var n in e.mediaGroups[r])for(var s in e.mediaGroups[r][n]){var a=e.mediaGroups[r][n][s];i(a,r,n,s)}})},yA=function(e){var i=e.playlist,r=e.uri,n=e.id;i.id=n,i.playlistErrors_=0,r&&(i.uri=r),i.attributes=i.attributes||{}},RH=function(e){for(var i=e.playlists.length;i--;){var r=e.playlists[i];yA({playlist:r,id:L_(i,r.uri)}),r.resolvedUri=kn(e.uri,r.uri),e.playlists[r.id]=r,e.playlists[r.uri]=r,r.attributes.BANDWIDTH||gA.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},LH=function(e){xc(e,function(i){i.uri&&(i.resolvedUri=kn(e.uri,i.uri))})},jH=function(e,i){var r=L_(0,i),n={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:j.location.href,resolvedUri:j.location.href,playlists:[{uri:i,id:r,resolvedUri:i,attributes:{}}]};return n.playlists[r]=n.playlists[0],n.playlists[i]=n.playlists[0],n},_A=function(e,i){e.uri=i;for(var r=0;r<e.playlists.length;r++)if(!e.playlists[r].uri){var n="placeholder-uri-"+r;e.playlists[r].uri=n}var s=Tc(e);xc(e,function(a,o,l,u){var c="placeholder-uri-"+o+"-"+l+"-"+u;if(!a.playlists||!a.playlists.length){if(s&&o==="AUDIO"&&!a.uri)for(var f=0;f<e.playlists.length;f++){var d=e.playlists[f];if(d.attributes&&d.attributes.AUDIO&&d.attributes.AUDIO===l)return}a.playlists=[yn({},a)]}a.playlists.forEach(function(p,g){var b=L_(g,c);p.uri?p.resolvedUri=p.resolvedUri||kn(e.uri,p.uri):(p.uri=g===0?c:b,p.resolvedUri=p.uri),p.id=p.id||b,p.attributes=p.attributes||{},e.playlists[p.id]=p,e.playlists[p.uri]=p})}),RH(e),LH(e)},Vf=V.mergeOptions,NH=V.EventTarget,FH=function(e,i){if(i.endList||!i.serverControl)return e;var r={};if(i.serverControl.canBlockReload){var n=i.preloadSegment,s=i.mediaSequence+i.segments.length;if(n){var a=n.parts||[],o=cA(i)-1;o>-1&&o!==a.length-1&&(r._HLS_part=o),(o>-1||a.length)&&s--}r._HLS_msn=s}if(i.serverControl&&i.serverControl.canSkipUntil&&(r._HLS_skip=i.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(r).length){var l=new j.URL(e);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(u){!r.hasOwnProperty(u)||l.searchParams.set(u,r[u])}),e=l.toString()}return e},UH=function(e,i){if(!e)return i;var r=Vf(e,i);if(e.preloadHints&&!i.preloadHints&&delete r.preloadHints,e.parts&&!i.parts)delete r.parts;else if(e.parts&&i.parts)for(var n=0;n<i.parts.length;n++)e.parts&&e.parts[n]&&(r.parts[n]=Vf(e.parts[n],i.parts[n]));return!e.skipped&&i.skipped&&(r.skipped=!1),e.preload&&!i.preload&&(r.preload=!1),r},BH=function(e,i,r){var n=e.slice(),s=i.slice();r=r||0;for(var a=[],o,l=0;l<s.length;l++){var u=n[l+r],c=s[l];u?(o=u.map||o,a.push(UH(u,c))):(o&&!c.map&&(c.map=o),a.push(c))}return a},bA=function(e,i){!e.resolvedUri&&e.uri&&(e.resolvedUri=kn(i,e.uri)),e.key&&!e.key.resolvedUri&&(e.key.resolvedUri=kn(i,e.key.uri)),e.map&&!e.map.resolvedUri&&(e.map.resolvedUri=kn(i,e.map.uri)),e.map&&e.map.key&&!e.map.key.resolvedUri&&(e.map.key.resolvedUri=kn(i,e.map.key.uri)),e.parts&&e.parts.length&&e.parts.forEach(function(r){r.resolvedUri||(r.resolvedUri=kn(i,r.uri))}),e.preloadHints&&e.preloadHints.length&&e.preloadHints.forEach(function(r){r.resolvedUri||(r.resolvedUri=kn(i,r.uri))})},TA=function(e){var i=e.segments||[],r=e.preloadSegment;if(r&&r.parts&&r.parts.length){if(r.preloadHints){for(var n=0;n<r.preloadHints.length;n++)if(r.preloadHints[n].type==="MAP")return i}r.duration=e.targetDuration,r.preload=!0,i.push(r)}return i},xA=function(e,i){return e===i||e.segments&&i.segments&&e.segments.length===i.segments.length&&e.endList===i.endList&&e.mediaSequence===i.mediaSequence&&e.preloadSegment===i.preloadSegment},Dg=function(e,i,r){r===void 0&&(r=xA);var n=Vf(e,{}),s=n.playlists[i.id];if(!s||r(s,i))return null;i.segments=TA(i);var a=Vf(s,i);if(a.preloadSegment&&!i.preloadSegment&&delete a.preloadSegment,s.segments){if(i.skip){i.segments=i.segments||[];for(var o=0;o<i.skip.skippedSegments;o++)i.segments.unshift({skipped:!0})}a.segments=BH(s.segments,i.segments,i.mediaSequence-s.mediaSequence)}a.segments.forEach(function(u){bA(u,a.resolvedUri)});for(var l=0;l<n.playlists.length;l++)n.playlists[l].id===i.id&&(n.playlists[l]=a);return n.playlists[i.id]=a,n.playlists[i.uri]=a,xc(e,function(u,c,f,d){if(!!u.playlists)for(var p=0;p<u.playlists.length;p++)i.id===u.playlists[p].id&&(u.playlists[p]=a)}),n},Mg=function(e,i){var r=e.segments||[],n=r[r.length-1],s=n&&n.parts&&n.parts[n.parts.length-1],a=s&&s.duration||n&&n.duration;return i&&a?a*1e3:(e.partTargetDuration||e.targetDuration||10)*500},Fa=function(t){le(e,t);function e(r,n,s){var a;if(s===void 0&&(s={}),a=t.call(this)||this,!r)throw new Error("A non-empty playlist URL or object is required");a.logger_=jn("PlaylistLoader");var o=s,l=o.withCredentials,u=l===void 0?!1:l,c=o.handleManifestRedirects,f=c===void 0?!1:c;a.src=r,a.vhs_=n,a.withCredentials=u,a.handleManifestRedirects=f;var d=n.options_;return a.customTagParsers=d&&d.customTagParsers||[],a.customTagMappers=d&&d.customTagMappers||[],a.experimentalLLHLS=d&&d.experimentalLLHLS||!1,V.browser.IE_VERSION&&(a.experimentalLLHLS=!1),a.state="HAVE_NOTHING",a.handleMediaupdatetimeout_=a.handleMediaupdatetimeout_.bind(Ee(a)),a.on("mediaupdatetimeout",a.handleMediaupdatetimeout_),a}var i=e.prototype;return i.handleMediaupdatetimeout_=function(){var n=this;if(this.state==="HAVE_METADATA"){var s=this.media(),a=kn(this.master.uri,s.uri);this.experimentalLLHLS&&(a=FH(a,s)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:a,withCredentials:this.withCredentials},function(o,l){if(!!n.request){if(o)return n.playlistRequestError(n.request,n.media(),"HAVE_METADATA");n.haveMetadata({playlistString:n.request.responseText,url:n.media().uri,id:n.media().id})}})}},i.playlistRequestError=function(n,s,a){var o=s.uri,l=s.id;this.request=null,a&&(this.state=a),this.error={playlist:this.master.playlists[l],status:n.status,message:"HLS playlist request error at URL: "+o+".",responseText:n.responseText,code:n.status>=500?4:2},this.trigger("error")},i.parseManifest_=function(n){var s=this,a=n.url,o=n.manifestString;return MH({onwarn:function(u){var c=u.message;return s.logger_("m3u8-parser warn for "+a+": "+c)},oninfo:function(u){var c=u.message;return s.logger_("m3u8-parser info for "+a+": "+c)},manifestString:o,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,experimentalLLHLS:this.experimentalLLHLS})},i.haveMetadata=function(n){var s=n.playlistString,a=n.playlistObject,o=n.url,l=n.id;this.request=null,this.state="HAVE_METADATA";var u=a||this.parseManifest_({url:o,manifestString:s});u.lastRequest=Date.now(),yA({playlist:u,uri:o,id:l});var c=Dg(this.master,u);this.targetDuration=u.partTargetDuration||u.targetDuration,this.pendingMedia_=null,c?(this.master=c,this.media_=this.master.playlists[l]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(Mg(this.media(),!!c)),this.trigger("loadedplaylist")},i.dispose=function(){this.trigger("dispose"),this.stopRequest(),j.clearTimeout(this.mediaUpdateTimeout),j.clearTimeout(this.finalRenditionTimeout),this.off()},i.stopRequest=function(){if(this.request){var n=this.request;this.request=null,n.onreadystatechange=null,n.abort()}},i.media=function(n,s){var a=this;if(!n)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof n=="string"){if(!this.master.playlists[n])throw new Error("Unknown playlist URI: "+n);n=this.master.playlists[n]}if(j.clearTimeout(this.finalRenditionTimeout),s){var o=(n.partTargetDuration||n.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=j.setTimeout(this.media.bind(this,n,!1),o);return}var l=this.state,u=!this.media_||n.id!==this.media_.id,c=this.master.playlists[n.id];if(c&&c.endList||n.endList&&n.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=n,u&&(this.trigger("mediachanging"),l==="HAVE_MASTER"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(Mg(n,!0)),!!u){if(this.state="SWITCHING_MEDIA",this.request){if(n.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=n,this.request=this.vhs_.xhr({uri:n.resolvedUri,withCredentials:this.withCredentials},function(f,d){if(!!a.request){if(n.lastRequest=Date.now(),n.resolvedUri=zf(a.handleManifestRedirects,n.resolvedUri,d),f)return a.playlistRequestError(a.request,n,l);a.haveMetadata({playlistString:d.responseText,url:n.uri,id:n.id}),l==="HAVE_MASTER"?a.trigger("loadedmetadata"):a.trigger("mediachange")}})}},i.pause=function(){this.mediaUpdateTimeout&&(j.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")},i.load=function(n){var s=this;this.mediaUpdateTimeout&&(j.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);var a=this.media();if(n){var o=a?(a.partTargetDuration||a.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=j.setTimeout(function(){s.mediaUpdateTimeout=null,s.load()},o);return}if(!this.started){this.start();return}a&&!a.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")},i.updateMediaUpdateTimeout_=function(n){var s=this;this.mediaUpdateTimeout&&(j.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=j.setTimeout(function(){s.mediaUpdateTimeout=null,s.trigger("mediaupdatetimeout"),s.updateMediaUpdateTimeout_(n)},n))},i.start=function(){var n=this;if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=j.location.href),this.src.resolvedUri=this.src.uri,setTimeout(function(){n.setupInitialPlaylist(n.src)},0);return}this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials},function(s,a){if(!!n.request){if(n.request=null,s)return n.error={status:a.status,message:"HLS playlist request error at URL: "+n.src+".",responseText:a.responseText,code:2},n.state==="HAVE_NOTHING"&&(n.started=!1),n.trigger("error");n.src=zf(n.handleManifestRedirects,n.src,a);var o=n.parseManifest_({manifestString:a.responseText,url:n.src});n.setupInitialPlaylist(o)}})},i.srcUri=function(){return typeof this.src=="string"?this.src:this.src.uri},i.setupInitialPlaylist=function(n){if(this.state="HAVE_MASTER",n.playlists){this.master=n,_A(this.master,this.srcUri()),n.playlists.forEach(function(a){a.segments=TA(a),a.segments.forEach(function(o){bA(o,a.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.master.playlists[0]);return}var s=this.srcUri()||j.location.href;this.master=jH(n,s),this.haveMetadata({playlistObject:n,url:s,id:this.master.playlists[0].id}),this.trigger("loadedmetadata")},e}(NH),zH=V.xhr,VH=V.mergeOptions,Rg=function(e,i,r,n){var s=e.responseType==="arraybuffer"?e.response:e.responseText;!i&&s&&(e.responseTime=Date.now(),e.roundTripTime=e.responseTime-e.requestTime,e.bytesReceived=s.byteLength||s.length,e.bandwidth||(e.bandwidth=Math.floor(e.bytesReceived/e.roundTripTime*8*1e3))),r.headers&&(e.responseHeaders=r.headers),i&&i.code==="ETIMEDOUT"&&(e.timedout=!0),!i&&!e.aborted&&r.statusCode!==200&&r.statusCode!==206&&r.statusCode!==0&&(i=new Error("XHR Failed with a response of: "+(e&&(s||e.responseText)))),n(i,e)},wA=function(){var e=function i(r,n){r=VH({timeout:45e3},r);var s=i.beforeRequest||V.Vhs.xhr.beforeRequest;if(s&&typeof s=="function"){var a=s(r);a&&(r=a)}var o=V.Vhs.xhr.original===!0?zH:V.Vhs.xhr,l=o(r,function(c,f){return Rg(l,c,f,n)}),u=l.abort;return l.abort=function(){return l.aborted=!0,u.apply(l,arguments)},l.uri=r.uri,l.requestTime=Date.now(),l};return e.original=!0,e},HH=function(e){var i,r=e.offset;return typeof e.offset=="bigint"||typeof e.length=="bigint"?i=j.BigInt(e.offset)+j.BigInt(e.length)-j.BigInt(1):i=e.offset+e.length-1,"bytes="+r+"-"+i},Lg=function(e){var i={};return e.byterange&&(i.Range=HH(e.byterange)),i},WH=function(e,i){return e.start(i)+"-"+e.end(i)},qH=function(e,i){var r=e.toString(16);return"00".substring(0,2-r.length)+r+(i%2?" ":"")},$H=function(e){return e>=32&&e<126?String.fromCharCode(e):"."},SA=function(e){var i={};return Object.keys(e).forEach(function(r){var n=e[r];uP(n)?i[r]={bytes:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength}:i[r]=n}),i},Hf=function(e){var i=e.byterange||{length:1/0,offset:0};return[i.length,i.offset,e.resolvedUri].join(",")},EA=function(e){return e.resolvedUri},CA=function(e){for(var i=Array.prototype.slice.call(e),r=16,n="",s,a,o=0;o<i.length/r;o++)s=i.slice(o*r,o*r+r).map(qH).join(""),a=i.slice(o*r,o*r+r).map($H).join(""),n+=s+" "+a+`
`;return n},GH=function(e){var i=e.bytes;return CA(i)},KH=function(e){var i="",r;for(r=0;r<e.length;r++)i+=WH(e,r)+" ";return i},XH=Object.freeze({__proto__:null,createTransferableMessage:SA,initSegmentId:Hf,segmentKeyId:EA,hexDump:CA,tagDump:GH,textRanges:KH}),kA=.25,YH=function(e,i){if(!i.dateTimeObject)return null;var r=i.videoTimingInfo.transmuxerPrependedSeconds,n=i.videoTimingInfo.transmuxedPresentationStart,s=n+r,a=e-s;return new Date(i.dateTimeObject.getTime()+a*1e3)},QH=function(e){return e.transmuxedPresentationEnd-e.transmuxedPresentationStart-e.transmuxerPrependedSeconds},JH=function(e,i){var r;try{r=new Date(e)}catch{return null}if(!i||!i.segments||i.segments.length===0)return null;var n=i.segments[0];if(r<n.dateTimeObject)return null;for(var s=0;s<i.segments.length-1;s++){n=i.segments[s];var a=i.segments[s+1].dateTimeObject;if(r<a)break}var o=i.segments[i.segments.length-1],l=o.dateTimeObject,u=o.videoTimingInfo?QH(o.videoTimingInfo):o.duration+o.duration*kA,c=new Date(l.getTime()+u*1e3);return r>c?null:(r>l&&(n=o),{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:ji.duration(i,i.mediaSequence+i.segments.indexOf(n)),type:n.videoTimingInfo?"accurate":"estimate"})},ZH=function(e,i){if(!i||!i.segments||i.segments.length===0)return null;for(var r=0,n,s=0;s<i.segments.length&&(n=i.segments[s],r=n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationEnd:r+n.duration,!(e<=r));s++);var a=i.segments[i.segments.length-1];if(a.videoTimingInfo&&a.videoTimingInfo.transmuxedPresentationEnd<e)return null;if(e>r){if(e>r+a.duration*kA)return null;n=a}return{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:r-n.duration,type:n.videoTimingInfo?"accurate":"estimate"}},e7=function(e,i){var r,n;try{r=new Date(e),n=new Date(i)}catch{}var s=r.getTime(),a=n.getTime();return(a-s)/1e3},t7=function(e){if(!e.segments||e.segments.length===0)return!1;for(var i=0;i<e.segments.length;i++){var r=e.segments[i];if(!r.dateTimeObject)return!1}return!0},i7=function(e){var i=e.playlist,r=e.time,n=r===void 0?void 0:r,s=e.callback;if(!s)throw new Error("getProgramTime: callback must be provided");if(!i||n===void 0)return s({message:"getProgramTime: playlist and time must be provided"});var a=ZH(n,i);if(!a)return s({message:"valid programTime was not found"});if(a.type==="estimate")return s({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:a.estimatedStart});var o={mediaSeconds:n},l=YH(n,a.segment);return l&&(o.programDateTime=l.toISOString()),s(null,o)},n7=function t(e){var i=e.programTime,r=e.playlist,n=e.retryCount,s=n===void 0?2:n,a=e.seekTo,o=e.pauseAfterSeek,l=o===void 0?!0:o,u=e.tech,c=e.callback;if(!c)throw new Error("seekToProgramTime: callback must be provided");if(typeof i>"u"||!r||!a)return c({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!r.endList&&!u.hasStarted_)return c({message:"player must be playing a live stream to start buffering"});if(!t7(r))return c({message:"programDateTime tags must be provided in the manifest "+r.resolvedUri});var f=JH(i,r);if(!f)return c({message:i+" was not found in the stream"});var d=f.segment,p=e7(d.dateTimeObject,i);if(f.type==="estimate"){if(s===0)return c({message:i+" is not buffered yet. Try again"});a(f.estimatedStart+p),u.one("seeked",function(){t({programTime:i,playlist:r,retryCount:s-1,seekTo:a,pauseAfterSeek:l,tech:u,callback:c})});return}var g=d.start+p,b=function(){return c(null,u.currentTime())};u.one("seeked",b),l&&u.pause(),a(g)},Im=function(e,i){if(e.readyState===4)return i()},r7=function(e,i,r){var n=[],s,a=!1,o=function(d,p,g,b){return p.abort(),a=!0,r(d,p,g,b)},l=function(d,p){if(!a){if(d)return o(d,p,"",n);var g=p.responseText.substring(n&&n.byteLength||0,p.responseText.length);if(n=o5(n,cP(g,!0)),s=s||Ml(n),n.length<10||s&&n.length<s+2)return Im(p,function(){return o(d,p,"",n)});var b=Qy(n);return b==="ts"&&n.length<188?Im(p,function(){return o(d,p,"",n)}):!b&&n.length<376?Im(p,function(){return o(d,p,"",n)}):o(null,p,b,n)}},u={uri:e,beforeSend:function(d){d.overrideMimeType("text/plain; charset=x-user-defined"),d.addEventListener("progress",function(p){return p.total,p.loaded,Rg(d,null,{statusCode:d.status},l)})}},c=i(u,function(f,d){return Rg(c,f,d,l)});return c},s7=V.EventTarget,PA=V.mergeOptions,sS=function(e,i){if(!xA(e,i)||e.sidx&&i.sidx&&(e.sidx.offset!==i.sidx.offset||e.sidx.length!==i.sidx.length))return!1;if(!e.sidx&&i.sidx||e.sidx&&!i.sidx||e.segments&&!i.segments||!e.segments&&i.segments)return!1;if(!e.segments&&!i.segments)return!0;for(var r=0;r<e.segments.length;r++){var n=e.segments[r],s=i.segments[r];if(n.uri!==s.uri)return!1;if(!(!n.byterange&&!s.byterange)){var a=n.byterange,o=s.byterange;if(a&&!o||!a&&o||a.offset!==o.offset||a.length!==o.length)return!1}}return!0},a7=function(e){var i=e.masterXml,r=e.srcUrl,n=e.clientOffset,s=e.sidxMapping,a=e.previousManifest,o=C6(i,{manifestUri:r,clientOffset:n,sidxMapping:s,previousManifest:a});return _A(o,r),o},o7=function(e,i,r){for(var n=!0,s=PA(e,{duration:i.duration,minimumUpdatePeriod:i.minimumUpdatePeriod,timelineStarts:i.timelineStarts}),a=0;a<i.playlists.length;a++){var o=i.playlists[a];if(o.sidx){var l=jh(o.sidx);r&&r[l]&&r[l].sidx&&Gy(o,r[l].sidx,o.sidx.resolvedUri)}var u=Dg(s,o,sS);u&&(s=u,n=!1)}return xc(i,function(c,f,d,p){if(c.playlists&&c.playlists.length){var g=c.playlists[0].id,b=Dg(s,c.playlists[0],sS);b&&(s=b,s.mediaGroups[f][d][p].playlists[0]=s.playlists[g],n=!1)}}),i.minimumUpdatePeriod!==e.minimumUpdatePeriod&&(n=!1),n?null:s},l7=function(e,i){var r=Boolean(!e.map&&!i.map),n=r||Boolean(e.map&&i.map&&e.map.byterange.offset===i.map.byterange.offset&&e.map.byterange.length===i.map.byterange.length);return n&&e.uri===i.uri&&e.byterange.offset===i.byterange.offset&&e.byterange.length===i.byterange.length},aS=function(e,i){var r={};for(var n in e){var s=e[n],a=s.sidx;if(a){var o=jh(a);if(!i[o])break;var l=i[o].sidxInfo;l7(l,a)&&(r[o]=i[o])}}return r},u7=function(e,i){var r=aS(e.playlists,i),n=r;return xc(e,function(s,a,o,l){if(s.playlists&&s.playlists.length){var u=s.playlists;n=PA(n,aS(u,i))}}),n},jg=function(t){le(e,t);function e(r,n,s,a){var o;s===void 0&&(s={}),o=t.call(this)||this,o.masterPlaylistLoader_=a||Ee(o),a||(o.isMaster_=!0);var l=s,u=l.withCredentials,c=u===void 0?!1:u,f=l.handleManifestRedirects,d=f===void 0?!1:f;if(o.vhs_=n,o.withCredentials=c,o.handleManifestRedirects=d,!r)throw new Error("A non-empty playlist URL or object is required");return o.on("minimumUpdatePeriod",function(){o.refreshXml_()}),o.on("mediaupdatetimeout",function(){o.refreshMedia_(o.media().id)}),o.state="HAVE_NOTHING",o.loadedPlaylists_={},o.logger_=jn("DashPlaylistLoader"),o.isMaster_?(o.masterPlaylistLoader_.srcUrl=r,o.masterPlaylistLoader_.sidxMapping_={}):o.childPlaylist_=r,o}var i=e.prototype;return i.requestErrored_=function(n,s,a){if(!this.request)return!0;if(this.request=null,n)return this.error=typeof n=="object"&&!(n instanceof Error)?n:{status:s.status,message:"DASH request error at URL: "+s.uri,response:s.response,code:2},a&&(this.state=a),this.trigger("error"),!0},i.addSidxSegments_=function(n,s,a){var o=this,l=n.sidx&&jh(n.sidx);if(!n.sidx||!l||this.masterPlaylistLoader_.sidxMapping_[l]){this.mediaRequest_=j.setTimeout(function(){return a(!1)},0);return}var u=zf(this.handleManifestRedirects,n.sidx.resolvedUri),c=function(d,p){if(!o.requestErrored_(d,p,s)){var g=o.masterPlaylistLoader_.sidxMapping_,b;try{b=I6(Te(p.response).subarray(8))}catch(y){o.requestErrored_(y,p,s);return}return g[l]={sidxInfo:n.sidx,sidx:b},Gy(n,b,n.sidx.resolvedUri),a(!0)}};this.request=r7(u,this.vhs_.xhr,function(f,d,p,g){if(f)return c(f,d);if(!p||p!=="mp4")return c({status:d.status,message:"Unsupported "+(p||"unknown")+" container type for sidx segment at URL: "+u,response:"",playlist:n,internal:!0,blacklistDuration:1/0,code:2},d);var b=n.sidx.byterange,y=b.offset,T=b.length;if(g.length>=T+y)return c(f,{response:g.subarray(y,y+T),status:d.status,uri:d.uri});o.request=o.vhs_.xhr({uri:u,responseType:"arraybuffer",headers:Lg({byterange:n.sidx.byterange})},c)})},i.dispose=function(){this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},j.clearTimeout(this.minimumUpdatePeriodTimeout_),j.clearTimeout(this.mediaRequest_),j.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.off()},i.hasPendingRequest=function(){return this.request||this.mediaRequest_},i.stopRequest=function(){if(this.request){var n=this.request;this.request=null,n.onreadystatechange=null,n.abort()}},i.media=function(n){var s=this;if(!n)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);var a=this.state;if(typeof n=="string"){if(!this.masterPlaylistLoader_.master.playlists[n])throw new Error("Unknown playlist URI: "+n);n=this.masterPlaylistLoader_.master.playlists[n]}var o=!this.media_||n.id!==this.media_.id;if(o&&this.loadedPlaylists_[n.id]&&this.loadedPlaylists_[n.id].endList){this.state="HAVE_METADATA",this.media_=n,o&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}!o||(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(n,a,function(l){s.haveMetadata({startingState:a,playlist:n})}))},i.haveMetadata=function(n){var s=n.startingState,a=n.playlist;this.state="HAVE_METADATA",this.loadedPlaylists_[a.id]=a,this.mediaRequest_=null,this.refreshMedia_(a.id),s==="HAVE_MASTER"?this.trigger("loadedmetadata"):this.trigger("mediachange")},i.pause=function(){this.masterPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.masterPlaylistLoader_.createMupOnMedia_),this.masterPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),j.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMaster_&&(j.clearTimeout(this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_),this.masterPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)},i.load=function(n){var s=this;j.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;var a=this.media();if(n){var o=a?a.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=j.setTimeout(function(){return s.load()},o);return}if(!this.started){this.start();return}a&&!a.endList?(this.isMaster_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")},i.start=function(){var n=this;if(this.started=!0,!this.isMaster_){this.mediaRequest_=j.setTimeout(function(){return n.haveMaster_()},0);return}this.requestMaster_(function(s,a){n.haveMaster_(),!n.hasPendingRequest()&&!n.media_&&n.media(n.masterPlaylistLoader_.master.playlists[0])})},i.requestMaster_=function(n){var s=this;this.request=this.vhs_.xhr({uri:this.masterPlaylistLoader_.srcUrl,withCredentials:this.withCredentials},function(a,o){if(s.requestErrored_(a,o)){s.state==="HAVE_NOTHING"&&(s.started=!1);return}var l=o.responseText!==s.masterPlaylistLoader_.masterXml_;if(s.masterPlaylistLoader_.masterXml_=o.responseText,o.responseHeaders&&o.responseHeaders.date?s.masterLoaded_=Date.parse(o.responseHeaders.date):s.masterLoaded_=Date.now(),s.masterPlaylistLoader_.srcUrl=zf(s.handleManifestRedirects,s.masterPlaylistLoader_.srcUrl,o),l){s.handleMaster_(),s.syncClientServerClock_(function(){return n(o,l)});return}return n(o,l)})},i.syncClientServerClock_=function(n){var s=this,a=k6(this.masterPlaylistLoader_.masterXml_);if(a===null)return this.masterPlaylistLoader_.clientOffset_=this.masterLoaded_-Date.now(),n();if(a.method==="DIRECT")return this.masterPlaylistLoader_.clientOffset_=a.value-Date.now(),n();this.request=this.vhs_.xhr({uri:kn(this.masterPlaylistLoader_.srcUrl,a.value),method:a.method,withCredentials:this.withCredentials},function(o,l){if(!!s.request){if(o)return s.masterPlaylistLoader_.clientOffset_=s.masterLoaded_-Date.now(),n();var u;a.method==="HEAD"?!l.responseHeaders||!l.responseHeaders.date?u=s.masterLoaded_:u=Date.parse(l.responseHeaders.date):u=Date.parse(l.responseText),s.masterPlaylistLoader_.clientOffset_=u-Date.now(),n()}})},i.haveMaster_=function(){this.state="HAVE_MASTER",this.isMaster_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)},i.handleMaster_=function(){this.mediaRequest_=null;var n=this.masterPlaylistLoader_.master,s=a7({masterXml:this.masterPlaylistLoader_.masterXml_,srcUrl:this.masterPlaylistLoader_.srcUrl,clientOffset:this.masterPlaylistLoader_.clientOffset_,sidxMapping:this.masterPlaylistLoader_.sidxMapping_,previousManifest:n});n&&(s=o7(n,s,this.masterPlaylistLoader_.sidxMapping_)),this.masterPlaylistLoader_.master=s||n;var a=this.masterPlaylistLoader_.master.locations&&this.masterPlaylistLoader_.master.locations[0];return a&&a!==this.masterPlaylistLoader_.srcUrl&&(this.masterPlaylistLoader_.srcUrl=a),(!n||s&&s.minimumUpdatePeriod!==n.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),Boolean(s)},i.updateMinimumUpdatePeriodTimeout_=function(){var n=this.masterPlaylistLoader_;n.createMupOnMedia_&&(n.off("loadedmetadata",n.createMupOnMedia_),n.createMupOnMedia_=null),n.minimumUpdatePeriodTimeout_&&(j.clearTimeout(n.minimumUpdatePeriodTimeout_),n.minimumUpdatePeriodTimeout_=null);var s=n.master&&n.master.minimumUpdatePeriod;if(s===0&&(n.media()?s=n.media().targetDuration*1e3:(n.createMupOnMedia_=n.updateMinimumUpdatePeriodTimeout_,n.one("loadedmetadata",n.createMupOnMedia_))),typeof s!="number"||s<=0){s<0&&this.logger_("found invalid minimumUpdatePeriod of "+s+", not setting a timeout");return}this.createMUPTimeout_(s)},i.createMUPTimeout_=function(n){var s=this.masterPlaylistLoader_;s.minimumUpdatePeriodTimeout_=j.setTimeout(function(){s.minimumUpdatePeriodTimeout_=null,s.trigger("minimumUpdatePeriod"),s.createMUPTimeout_(n)},n)},i.refreshXml_=function(){var n=this;this.requestMaster_(function(s,a){!a||(n.media_&&(n.media_=n.masterPlaylistLoader_.master.playlists[n.media_.id]),n.masterPlaylistLoader_.sidxMapping_=u7(n.masterPlaylistLoader_.master,n.masterPlaylistLoader_.sidxMapping_),n.addSidxSegments_(n.media(),n.state,function(o){n.refreshMedia_(n.media().id)}))})},i.refreshMedia_=function(n){var s=this;if(!n)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMaster_&&this.handleMaster_();var a=this.masterPlaylistLoader_.master.playlists,o=!this.media_||this.media_!==a[n];if(o?this.media_=a[n]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){var l=function u(){s.media().endList||(s.mediaUpdateTimeout=j.setTimeout(function(){s.trigger("mediaupdatetimeout"),u()},Mg(s.media(),Boolean(o))))};l()}this.trigger("loadedplaylist")},e}(s7),Rt={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30},c7=function(e){for(var i=new Uint8Array(new ArrayBuffer(e.length)),r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i.buffer},OA=function(e){return e.on=e.addEventListener,e.off=e.removeEventListener,e},d7=function(e){try{return URL.createObjectURL(new Blob([e],{type:"application/javascript"}))}catch{var i=new BlobBuilder;return i.append(e),URL.createObjectURL(i.getBlob())}},AA=function(e){return function(){var i=d7(e),r=OA(new Worker(i));r.objURL=i;var n=r.terminate;return r.on=r.addEventListener,r.off=r.removeEventListener,r.terminate=function(){return URL.revokeObjectURL(i),n.call(this)},r}},IA=function(e){return"var browserWorkerPolyFill = "+OA.toString()+`;
browserWorkerPolyFill(self);
`+e},DA=function(e){return e.toString().replace(/^function.+?{/,"").slice(0,-1)},f7=IA(DA(function(){var t=function(){this.init=function(){var h={};this.on=function(v,m){h[v]||(h[v]=[]),h[v]=h[v].concat(m)},this.off=function(v,m){var _;return h[v]?(_=h[v].indexOf(m),h[v]=h[v].slice(),h[v].splice(_,1),_>-1):!1},this.trigger=function(v){var m,_,x,w;if(m=h[v],!!m)if(arguments.length===2)for(x=m.length,_=0;_<x;++_)m[_].call(this,arguments[1]);else{for(w=[],_=arguments.length,_=1;_<arguments.length;++_)w.push(arguments[_]);for(x=m.length,_=0;_<x;++_)m[_].apply(this,w)}},this.dispose=function(){h={}}}};t.prototype.pipe=function(k){return this.on("data",function(h){k.push(h)}),this.on("done",function(h){k.flush(h)}),this.on("partialdone",function(h){k.partialFlush(h)}),this.on("endedtimeline",function(h){k.endTimeline(h)}),this.on("reset",function(h){k.reset(h)}),k},t.prototype.push=function(k){this.trigger("data",k)},t.prototype.flush=function(k){this.trigger("done",k)},t.prototype.partialFlush=function(k){this.trigger("partialdone",k)},t.prototype.endTimeline=function(k){this.trigger("endedtimeline",k)},t.prototype.reset=function(k){this.trigger("reset",k)};var e=t,i=Math.pow(2,32),r=function(h){var v=new DataView(h.buffer,h.byteOffset,h.byteLength),m;return v.getBigUint64?(m=v.getBigUint64(0),m<Number.MAX_SAFE_INTEGER?Number(m):m):v.getUint32(0)*i+v.getUint32(4)},n={getUint64:r,MAX_UINT32:i},s=n.MAX_UINT32,a,o,l,u,c,f,d,p,g,b,y,T,S,I,O,M,R,A,E,C,P,U,B,G,W,Y,ee,K,q,X,Z,$,H,se,me,ce;(function(){var k;if(B={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},!(typeof Uint8Array>"u")){for(k in B)B.hasOwnProperty(k)&&(B[k]=[k.charCodeAt(0),k.charCodeAt(1),k.charCodeAt(2),k.charCodeAt(3)]);G=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),Y=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),W=new Uint8Array([0,0,0,1]),ee=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),K=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),q={video:ee,audio:K},$=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),Z=new Uint8Array([0,0,0,0,0,0,0,0]),H=new Uint8Array([0,0,0,0,0,0,0,0]),se=H,me=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),ce=H,X=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),a=function(h){var v=[],m=0,_,x,w;for(_=1;_<arguments.length;_++)v.push(arguments[_]);for(_=v.length;_--;)m+=v[_].byteLength;for(x=new Uint8Array(m+8),w=new DataView(x.buffer,x.byteOffset,x.byteLength),w.setUint32(0,x.byteLength),x.set(h,4),_=0,m=8;_<v.length;_++)x.set(v[_],m),m+=v[_].byteLength;return x},o=function(){return a(B.dinf,a(B.dref,$))},l=function(h){return a(B.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,h.audioobjecttype<<3|h.samplingfrequencyindex>>>1,h.samplingfrequencyindex<<7|h.channelcount<<3,6,1,2]))},u=function(){return a(B.ftyp,G,W,G,Y)},M=function(h){return a(B.hdlr,q[h])},c=function(h){return a(B.mdat,h)},O=function(h){var v=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,h.duration>>>24&255,h.duration>>>16&255,h.duration>>>8&255,h.duration&255,85,196,0,0]);return h.samplerate&&(v[12]=h.samplerate>>>24&255,v[13]=h.samplerate>>>16&255,v[14]=h.samplerate>>>8&255,v[15]=h.samplerate&255),a(B.mdhd,v)},I=function(h){return a(B.mdia,O(h),M(h.type),d(h))},f=function(h){return a(B.mfhd,new Uint8Array([0,0,0,0,(h&4278190080)>>24,(h&16711680)>>16,(h&65280)>>8,h&255]))},d=function(h){return a(B.minf,h.type==="video"?a(B.vmhd,X):a(B.smhd,Z),o(),A(h))},p=function(h,v){for(var m=[],_=v.length;_--;)m[_]=C(v[_]);return a.apply(null,[B.moof,f(h)].concat(m))},g=function(h){for(var v=h.length,m=[];v--;)m[v]=T(h[v]);return a.apply(null,[B.moov,y(4294967295)].concat(m).concat(b(h)))},b=function(h){for(var v=h.length,m=[];v--;)m[v]=P(h[v]);return a.apply(null,[B.mvex].concat(m))},y=function(h){var v=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(h&4278190080)>>24,(h&16711680)>>16,(h&65280)>>8,h&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return a(B.mvhd,v)},R=function(h){var v=h.samples||[],m=new Uint8Array(4+v.length),_,x;for(x=0;x<v.length;x++)_=v[x].flags,m[x+4]=_.dependsOn<<4|_.isDependedOn<<2|_.hasRedundancy;return a(B.sdtp,m)},A=function(h){return a(B.stbl,E(h),a(B.stts,ce),a(B.stsc,se),a(B.stsz,me),a(B.stco,H))},function(){var k,h;E=function(m){return a(B.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),m.type==="video"?k(m):h(m))},k=function(m){var _=m.sps||[],x=m.pps||[],w=[],D=[],L,F;for(L=0;L<_.length;L++)w.push((_[L].byteLength&65280)>>>8),w.push(_[L].byteLength&255),w=w.concat(Array.prototype.slice.call(_[L]));for(L=0;L<x.length;L++)D.push((x[L].byteLength&65280)>>>8),D.push(x[L].byteLength&255),D=D.concat(Array.prototype.slice.call(x[L]));if(F=[B.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(m.width&65280)>>8,m.width&255,(m.height&65280)>>8,m.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),a(B.avcC,new Uint8Array([1,m.profileIdc,m.profileCompatibility,m.levelIdc,255].concat([_.length],w,[x.length],D))),a(B.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],m.sarRatio){var N=m.sarRatio[0],z=m.sarRatio[1];F.push(a(B.pasp,new Uint8Array([(N&4278190080)>>24,(N&16711680)>>16,(N&65280)>>8,N&255,(z&4278190080)>>24,(z&16711680)>>16,(z&65280)>>8,z&255])))}return a.apply(null,F)},h=function(m){return a(B.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(m.channelcount&65280)>>8,m.channelcount&255,(m.samplesize&65280)>>8,m.samplesize&255,0,0,0,0,(m.samplerate&65280)>>8,m.samplerate&255,0,0]),l(m))}}(),S=function(h){var v=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(h.id&4278190080)>>24,(h.id&16711680)>>16,(h.id&65280)>>8,h.id&255,0,0,0,0,(h.duration&4278190080)>>24,(h.duration&16711680)>>16,(h.duration&65280)>>8,h.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(h.width&65280)>>8,h.width&255,0,0,(h.height&65280)>>8,h.height&255,0,0]);return a(B.tkhd,v)},C=function(h){var v,m,_,x,w,D,L;return v=a(B.tfhd,new Uint8Array([0,0,0,58,(h.id&4278190080)>>24,(h.id&16711680)>>16,(h.id&65280)>>8,h.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),D=Math.floor(h.baseMediaDecodeTime/s),L=Math.floor(h.baseMediaDecodeTime%s),m=a(B.tfdt,new Uint8Array([1,0,0,0,D>>>24&255,D>>>16&255,D>>>8&255,D&255,L>>>24&255,L>>>16&255,L>>>8&255,L&255])),w=32+20+8+16+8+8,h.type==="audio"?(_=U(h,w),a(B.traf,v,m,_)):(x=R(h),_=U(h,x.length+w),a(B.traf,v,m,_,x))},T=function(h){return h.duration=h.duration||4294967295,a(B.trak,S(h),I(h))},P=function(h){var v=new Uint8Array([0,0,0,0,(h.id&4278190080)>>24,(h.id&16711680)>>16,(h.id&65280)>>8,h.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return h.type!=="video"&&(v[v.length-1]=0),a(B.trex,v)},function(){var k,h,v;v=function(_,x){var w=0,D=0,L=0,F=0;return _.length&&(_[0].duration!==void 0&&(w=1),_[0].size!==void 0&&(D=2),_[0].flags!==void 0&&(L=4),_[0].compositionTimeOffset!==void 0&&(F=8)),[0,0,w|D|L|F,1,(_.length&4278190080)>>>24,(_.length&16711680)>>>16,(_.length&65280)>>>8,_.length&255,(x&4278190080)>>>24,(x&16711680)>>>16,(x&65280)>>>8,x&255]},h=function(_,x){var w,D,L,F,N,z;for(F=_.samples||[],x+=8+12+16*F.length,L=v(F,x),D=new Uint8Array(L.length+F.length*16),D.set(L),w=L.length,z=0;z<F.length;z++)N=F[z],D[w++]=(N.duration&4278190080)>>>24,D[w++]=(N.duration&16711680)>>>16,D[w++]=(N.duration&65280)>>>8,D[w++]=N.duration&255,D[w++]=(N.size&4278190080)>>>24,D[w++]=(N.size&16711680)>>>16,D[w++]=(N.size&65280)>>>8,D[w++]=N.size&255,D[w++]=N.flags.isLeading<<2|N.flags.dependsOn,D[w++]=N.flags.isDependedOn<<6|N.flags.hasRedundancy<<4|N.flags.paddingValue<<1|N.flags.isNonSyncSample,D[w++]=N.flags.degradationPriority&240<<8,D[w++]=N.flags.degradationPriority&15,D[w++]=(N.compositionTimeOffset&4278190080)>>>24,D[w++]=(N.compositionTimeOffset&16711680)>>>16,D[w++]=(N.compositionTimeOffset&65280)>>>8,D[w++]=N.compositionTimeOffset&255;return a(B.trun,D)},k=function(_,x){var w,D,L,F,N,z;for(F=_.samples||[],x+=8+12+8*F.length,L=v(F,x),w=new Uint8Array(L.length+F.length*8),w.set(L),D=L.length,z=0;z<F.length;z++)N=F[z],w[D++]=(N.duration&4278190080)>>>24,w[D++]=(N.duration&16711680)>>>16,w[D++]=(N.duration&65280)>>>8,w[D++]=N.duration&255,w[D++]=(N.size&4278190080)>>>24,w[D++]=(N.size&16711680)>>>16,w[D++]=(N.size&65280)>>>8,w[D++]=N.size&255;return a(B.trun,w)},U=function(_,x){return _.type==="audio"?k(_,x):h(_,x)}}();var _e={ftyp:u,mdat:c,moof:p,moov:g,initSegment:function(h){var v=u(),m=g(h),_;return _=new Uint8Array(v.byteLength+m.byteLength),_.set(v),_.set(m,v.byteLength),_}},be=function(h){var v,m,_=[],x=[];for(x.byteLength=0,x.nalCount=0,x.duration=0,_.byteLength=0,v=0;v<h.length;v++)m=h[v],m.nalUnitType==="access_unit_delimiter_rbsp"?(_.length&&(_.duration=m.dts-_.dts,x.byteLength+=_.byteLength,x.nalCount+=_.length,x.duration+=_.duration,x.push(_)),_=[m],_.byteLength=m.data.byteLength,_.pts=m.pts,_.dts=m.dts):(m.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(_.keyFrame=!0),_.duration=m.dts-_.dts,_.byteLength+=m.data.byteLength,_.push(m));return x.length&&(!_.duration||_.duration<=0)&&(_.duration=x[x.length-1].duration),x.byteLength+=_.byteLength,x.nalCount+=_.length,x.duration+=_.duration,x.push(_),x},De=function(h){var v,m,_=[],x=[];for(_.byteLength=0,_.nalCount=0,_.duration=0,_.pts=h[0].pts,_.dts=h[0].dts,x.byteLength=0,x.nalCount=0,x.duration=0,x.pts=h[0].pts,x.dts=h[0].dts,v=0;v<h.length;v++)m=h[v],m.keyFrame?(_.length&&(x.push(_),x.byteLength+=_.byteLength,x.nalCount+=_.nalCount,x.duration+=_.duration),_=[m],_.nalCount=m.length,_.byteLength=m.byteLength,_.pts=m.pts,_.dts=m.dts,_.duration=m.duration):(_.duration+=m.duration,_.nalCount+=m.length,_.byteLength+=m.byteLength,_.push(m));return x.length&&_.duration<=0&&(_.duration=x[x.length-1].duration),x.byteLength+=_.byteLength,x.nalCount+=_.nalCount,x.duration+=_.duration,x.push(_),x},de=function(h){var v;return!h[0][0].keyFrame&&h.length>1&&(v=h.shift(),h.byteLength-=v.byteLength,h.nalCount-=v.nalCount,h[0][0].dts=v.dts,h[0][0].pts=v.pts,h[0][0].duration+=v.duration),h},Me=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},Fe=function(h,v){var m=Me();return m.dataOffset=v,m.compositionTimeOffset=h.pts-h.dts,m.duration=h.duration,m.size=4*h.length,m.size+=h.byteLength,h.keyFrame&&(m.flags.dependsOn=2,m.flags.isNonSyncSample=0),m},$e=function(h,v){var m,_,x,w,D,L=v||0,F=[];for(m=0;m<h.length;m++)for(w=h[m],_=0;_<w.length;_++)D=w[_],x=Fe(D,L),L+=x.size,F.push(x);return F},Ce=function(h){var v,m,_,x,w,D,L=0,F=h.byteLength,N=h.nalCount,z=F+4*N,Q=new Uint8Array(z),ue=new DataView(Q.buffer);for(v=0;v<h.length;v++)for(x=h[v],m=0;m<x.length;m++)for(w=x[m],_=0;_<w.length;_++)D=w[_],ue.setUint32(L,D.data.byteLength),L+=4,Q.set(D.data,L),L+=D.data.byteLength;return Q},je=function(h,v){var m,_=v||0,x=[];return m=Fe(h,_),x.push(m),x},ze=function(h){var v,m,_=0,x=h.byteLength,w=h.length,D=x+4*w,L=new Uint8Array(D),F=new DataView(L.buffer);for(v=0;v<h.length;v++)m=h[v],F.setUint32(_,m.data.byteLength),_+=4,L.set(m.data,_),_+=m.data.byteLength;return L},ye={groupNalsIntoFrames:be,groupFramesIntoGops:De,extendFirstKeyFrame:de,generateSampleTable:$e,concatenateNalData:Ce,generateSampleTableForFrame:je,concatenateNalDataForFrame:ze},dt=[33,16,5,32,164,27],Ke=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],Pe=function(h){for(var v=[];h--;)v.push(0);return v},rn=function(h){return Object.keys(h).reduce(function(v,m){return v[m]=new Uint8Array(h[m].reduce(function(_,x){return _.concat(x)},[])),v},{})},Gt,Kt=function(){if(!Gt){var h={96e3:[dt,[227,64],Pe(154),[56]],88200:[dt,[231],Pe(170),[56]],64e3:[dt,[248,192],Pe(240),[56]],48e3:[dt,[255,192],Pe(268),[55,148,128],Pe(54),[112]],44100:[dt,[255,192],Pe(268),[55,163,128],Pe(84),[112]],32e3:[dt,[255,192],Pe(268),[55,234],Pe(226),[112]],24e3:[dt,[255,192],Pe(268),[55,255,128],Pe(268),[111,112],Pe(126),[224]],16e3:[dt,[255,192],Pe(268),[55,255,128],Pe(268),[111,255],Pe(269),[223,108],Pe(195),[1,192]],12e3:[Ke,Pe(268),[3,127,248],Pe(268),[6,255,240],Pe(268),[13,255,224],Pe(268),[27,253,128],Pe(259),[56]],11025:[Ke,Pe(268),[3,127,248],Pe(268),[6,255,240],Pe(268),[13,255,224],Pe(268),[27,255,192],Pe(268),[55,175,128],Pe(108),[112]],8e3:[Ke,Pe(268),[3,121,16],Pe(47),[7]]};Gt=rn(h)}return Gt},ft=9e4,ki,_t,Tn,$i,Wo,Lr,ys;ki=function(h){return h*ft},_t=function(h,v){return h*v},Tn=function(h){return h/ft},$i=function(h,v){return h/v},Wo=function(h,v){return ki($i(h,v))},Lr=function(h,v){return _t(Tn(h),v)},ys=function(h,v,m){return Tn(m?h:h-v)};var Ne={ONE_SECOND_IN_TS:ft,secondsToVideoTs:ki,secondsToAudioTs:_t,videoTsToSeconds:Tn,audioTsToSeconds:$i,audioTsToVideoTs:Wo,videoTsToAudioTs:Lr,metadataTsToSeconds:ys},AI=function(h){var v,m,_=0;for(v=0;v<h.length;v++)m=h[v],_+=m.data.byteLength;return _},II=function(h,v,m,_){var x,w=0,D=0,L=0,F=0,N,z,Q;if(!!v.length&&(x=Ne.audioTsToVideoTs(h.baseMediaDecodeTime,h.samplerate),w=Math.ceil(Ne.ONE_SECOND_IN_TS/(h.samplerate/1024)),m&&_&&(D=x-Math.max(m,_),L=Math.floor(D/w),F=L*w),!(L<1||F>Ne.ONE_SECOND_IN_TS/2))){for(N=Kt()[h.samplerate],N||(N=v[0].data),z=0;z<L;z++)Q=v[0],v.splice(0,0,{data:N,dts:Q.dts-w,pts:Q.pts-w});return h.baseMediaDecodeTime-=Math.floor(Ne.videoTsToAudioTs(F,h.samplerate)),F}},DI=function(h,v,m){return v.minSegmentDts>=m?h:(v.minSegmentDts=1/0,h.filter(function(_){return _.dts>=m?(v.minSegmentDts=Math.min(v.minSegmentDts,_.dts),v.minSegmentPts=v.minSegmentDts,!0):!1}))},MI=function(h){var v,m,_=[];for(v=0;v<h.length;v++)m=h[v],_.push({size:m.data.byteLength,duration:1024});return _},RI=function(h){var v,m,_=0,x=new Uint8Array(AI(h));for(v=0;v<h.length;v++)m=h[v],x.set(m.data,_),_+=m.data.byteLength;return x},Sc={prefixWithSilence:II,trimAdtsFramesByEarliestDts:DI,generateSampleTable:MI,concatenateFrameData:RI},LI=Ne.ONE_SECOND_IN_TS,jI=function(h,v){typeof v.pts=="number"&&(h.timelineStartInfo.pts===void 0&&(h.timelineStartInfo.pts=v.pts),h.minSegmentPts===void 0?h.minSegmentPts=v.pts:h.minSegmentPts=Math.min(h.minSegmentPts,v.pts),h.maxSegmentPts===void 0?h.maxSegmentPts=v.pts:h.maxSegmentPts=Math.max(h.maxSegmentPts,v.pts)),typeof v.dts=="number"&&(h.timelineStartInfo.dts===void 0&&(h.timelineStartInfo.dts=v.dts),h.minSegmentDts===void 0?h.minSegmentDts=v.dts:h.minSegmentDts=Math.min(h.minSegmentDts,v.dts),h.maxSegmentDts===void 0?h.maxSegmentDts=v.dts:h.maxSegmentDts=Math.max(h.maxSegmentDts,v.dts))},NI=function(h){delete h.minSegmentDts,delete h.maxSegmentDts,delete h.minSegmentPts,delete h.maxSegmentPts},FI=function(h,v){var m,_,x=h.minSegmentDts;return v||(x-=h.timelineStartInfo.dts),m=h.timelineStartInfo.baseMediaDecodeTime,m+=x,m=Math.max(0,m),h.type==="audio"&&(_=h.samplerate/LI,m*=_,m=Math.floor(m)),m},xn={clearDtsInfo:NI,calculateTrackBaseMediaDecodeTime:FI,collectDtsInfo:jI},W_=4,UI=128,BI=function(h){for(var v=0,m={payloadType:-1,payloadSize:0},_=0,x=0;v<h.byteLength&&h[v]!==UI;){for(;h[v]===255;)_+=255,v++;for(_+=h[v++];h[v]===255;)x+=255,v++;if(x+=h[v++],!m.payload&&_===W_){var w=String.fromCharCode(h[v+3],h[v+4],h[v+5],h[v+6]);if(w==="GA94"){m.payloadType=_,m.payloadSize=x,m.payload=h.subarray(v,v+x);break}else m.payload=void 0}v+=x,_=0,x=0}return m},zI=function(h){return h.payload[0]!==181||(h.payload[1]<<8|h.payload[2])!==49||String.fromCharCode(h.payload[3],h.payload[4],h.payload[5],h.payload[6])!=="GA94"||h.payload[7]!==3?null:h.payload.subarray(8,h.payload.length-1)},VI=function(h,v){var m=[],_,x,w,D;if(!(v[0]&64))return m;for(x=v[0]&31,_=0;_<x;_++)w=_*3,D={type:v[w+2]&3,pts:h},v[w+2]&4&&(D.ccData=v[w+3]<<8|v[w+4],m.push(D));return m},HI=function(h){for(var v=h.byteLength,m=[],_=1,x,w;_<v-2;)h[_]===0&&h[_+1]===0&&h[_+2]===3?(m.push(_+2),_+=2):_++;if(m.length===0)return h;x=v-m.length,w=new Uint8Array(x);var D=0;for(_=0;_<x;D++,_++)D===m[0]&&(D++,m.shift()),w[_]=h[D];return w},qo={parseSei:BI,parseUserData:zI,parseCaptionPackets:VI,discardEmulationPreventionBytes:HI,USER_DATA_REGISTERED_ITU_T_T35:W_},Gi=function k(h){h=h||{},k.prototype.init.call(this),this.parse708captions_=typeof h.parse708captions=="boolean"?h.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new lt(0,0),new lt(0,1),new lt(1,0),new lt(1,1)],this.parse708captions_&&(this.cc708Stream_=new Xe({captionServices:h.captionServices})),this.reset(),this.ccStreams_.forEach(function(v){v.on("data",this.trigger.bind(this,"data")),v.on("partialdone",this.trigger.bind(this,"partialdone")),v.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};Gi.prototype=new e,Gi.prototype.push=function(k){var h,v,m;if(k.nalUnitType==="sei_rbsp"&&(h=qo.parseSei(k.escapedRBSP),!!h.payload&&h.payloadType===qo.USER_DATA_REGISTERED_ITU_T_T35&&(v=qo.parseUserData(h),!!v))){if(k.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(k.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}m=qo.parseCaptionPackets(k.pts,v),this.captionPackets_=this.captionPackets_.concat(m),this.latestDts_!==k.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=k.dts}},Gi.prototype.flushCCStreams=function(k){this.ccStreams_.forEach(function(h){return k==="flush"?h.flush():h.partialFlush()},this)},Gi.prototype.flushStream=function(k){if(!this.captionPackets_.length){this.flushCCStreams(k);return}this.captionPackets_.forEach(function(h,v){h.presortIndex=v}),this.captionPackets_.sort(function(h,v){return h.pts===v.pts?h.presortIndex-v.presortIndex:h.pts-v.pts}),this.captionPackets_.forEach(function(h){h.type<2?this.dispatchCea608Packet(h):this.dispatchCea708Packet(h)},this),this.captionPackets_.length=0,this.flushCCStreams(k)},Gi.prototype.flush=function(){return this.flushStream("flush")},Gi.prototype.partialFlush=function(){return this.flushStream("partialFlush")},Gi.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(k){k.reset()})},Gi.prototype.dispatchCea608Packet=function(k){this.setsTextOrXDSActive(k)?this.activeCea608Channel_[k.type]=null:this.setsChannel1Active(k)?this.activeCea608Channel_[k.type]=0:this.setsChannel2Active(k)&&(this.activeCea608Channel_[k.type]=1),this.activeCea608Channel_[k.type]!==null&&this.ccStreams_[(k.type<<1)+this.activeCea608Channel_[k.type]].push(k)},Gi.prototype.setsChannel1Active=function(k){return(k.ccData&30720)===4096},Gi.prototype.setsChannel2Active=function(k){return(k.ccData&30720)===6144},Gi.prototype.setsTextOrXDSActive=function(k){return(k.ccData&28928)===256||(k.ccData&30974)===4138||(k.ccData&30974)===6186},Gi.prototype.dispatchCea708Packet=function(k){this.parse708captions_&&this.cc708Stream_.push(k)};var WI={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},qI=function(h){var v=WI[h]||h;return h&4096&&h===v?"":String.fromCharCode(v)},Ec=function(h){return 32<=h&&h<=127||160<=h&&h<=255},rr=function(h){this.windowNum=h,this.reset()};rr.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},rr.prototype.getText=function(){return this.rows.join(`
`)},rr.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},rr.prototype.newLine=function(k){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(k),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},rr.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},rr.prototype.addText=function(k){this.rows[this.rowIdx]+=k},rr.prototype.backspace=function(){if(!this.isEmpty()){var k=this.rows[this.rowIdx];this.rows[this.rowIdx]=k.substr(0,k.length-1)}};var Cc=function(h,v,m){this.serviceNum=h,this.text="",this.currentWindow=new rr(-1),this.windows=[],this.stream=m,typeof v=="string"&&this.createTextDecoder(v)};Cc.prototype.init=function(k,h){this.startPts=k;for(var v=0;v<8;v++)this.windows[v]=new rr(v),typeof h=="function"&&(this.windows[v].beforeRowOverflow=h)},Cc.prototype.setCurrentWindow=function(k){this.currentWindow=this.windows[k]},Cc.prototype.createTextDecoder=function(k){if(typeof TextDecoder>"u")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(k)}catch(h){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+k+" encoding. "+h})}};var Xe=function k(h){h=h||{},k.prototype.init.call(this);var v=this,m=h.captionServices||{},_={},x;Object.keys(m).forEach(function(w){x=m[w],/^SERVICE/.test(w)&&(_[w]=x.encoding)}),this.serviceEncodings=_,this.current708Packet=null,this.services={},this.push=function(w){w.type===3?(v.new708Packet(),v.add708Bytes(w)):(v.current708Packet===null&&v.new708Packet(),v.add708Bytes(w))}};Xe.prototype=new e,Xe.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},Xe.prototype.add708Bytes=function(k){var h=k.ccData,v=h>>>8,m=h&255;this.current708Packet.ptsVals.push(k.pts),this.current708Packet.data.push(v),this.current708Packet.data.push(m)},Xe.prototype.push708Packet=function(){var k=this.current708Packet,h=k.data,v=null,m=null,_=0,x=h[_++];for(k.seq=x>>6,k.sizeCode=x&63;_<h.length;_++)x=h[_++],v=x>>5,m=x&31,v===7&&m>0&&(x=h[_++],v=x),this.pushServiceBlock(v,_,m),m>0&&(_+=m-1)},Xe.prototype.pushServiceBlock=function(k,h,v){var m,_=h,x=this.current708Packet.data,w=this.services[k];for(w||(w=this.initService(k,_));_<h+v&&_<x.length;_++)m=x[_],Ec(m)?_=this.handleText(_,w):m===24?_=this.multiByteCharacter(_,w):m===16?_=this.extendedCommands(_,w):128<=m&&m<=135?_=this.setCurrentWindow(_,w):152<=m&&m<=159?_=this.defineWindow(_,w):m===136?_=this.clearWindows(_,w):m===140?_=this.deleteWindows(_,w):m===137?_=this.displayWindows(_,w):m===138?_=this.hideWindows(_,w):m===139?_=this.toggleWindows(_,w):m===151?_=this.setWindowAttributes(_,w):m===144?_=this.setPenAttributes(_,w):m===145?_=this.setPenColor(_,w):m===146?_=this.setPenLocation(_,w):m===143?w=this.reset(_,w):m===8?w.currentWindow.backspace():m===12?w.currentWindow.clearText():m===13?w.currentWindow.pendingNewLine=!0:m===14?w.currentWindow.clearText():m===141&&_++},Xe.prototype.extendedCommands=function(k,h){var v=this.current708Packet.data,m=v[++k];return Ec(m)&&(k=this.handleText(k,h,{isExtended:!0})),k},Xe.prototype.getPts=function(k){return this.current708Packet.ptsVals[Math.floor(k/2)]},Xe.prototype.initService=function(k,h){var m="SERVICE"+k,v=this,m,_;return m in this.serviceEncodings&&(_=this.serviceEncodings[m]),this.services[k]=new Cc(k,_,v),this.services[k].init(this.getPts(h),function(x){v.flushDisplayed(x,v.services[k])}),this.services[k]},Xe.prototype.handleText=function(k,h,v){var m=v&&v.isExtended,_=v&&v.isMultiByte,x=this.current708Packet.data,w=m?4096:0,D=x[k],L=x[k+1],F=h.currentWindow,N,z;return h.textDecoder_&&!m?(_?(z=[D,L],k++):z=[D],N=h.textDecoder_.decode(new Uint8Array(z))):N=qI(w|D),F.pendingNewLine&&!F.isEmpty()&&F.newLine(this.getPts(k)),F.pendingNewLine=!1,F.addText(N),k},Xe.prototype.multiByteCharacter=function(k,h){var v=this.current708Packet.data,m=v[k+1],_=v[k+2];return Ec(m)&&Ec(_)&&(k=this.handleText(++k,h,{isMultiByte:!0})),k},Xe.prototype.setCurrentWindow=function(k,h){var v=this.current708Packet.data,m=v[k],_=m&7;return h.setCurrentWindow(_),k},Xe.prototype.defineWindow=function(k,h){var v=this.current708Packet.data,m=v[k],_=m&7;h.setCurrentWindow(_);var x=h.currentWindow;return m=v[++k],x.visible=(m&32)>>5,x.rowLock=(m&16)>>4,x.columnLock=(m&8)>>3,x.priority=m&7,m=v[++k],x.relativePositioning=(m&128)>>7,x.anchorVertical=m&127,m=v[++k],x.anchorHorizontal=m,m=v[++k],x.anchorPoint=(m&240)>>4,x.rowCount=m&15,m=v[++k],x.columnCount=m&63,m=v[++k],x.windowStyle=(m&56)>>3,x.penStyle=m&7,x.virtualRowCount=x.rowCount+1,k},Xe.prototype.setWindowAttributes=function(k,h){var v=this.current708Packet.data,m=v[k],_=h.currentWindow.winAttr;return m=v[++k],_.fillOpacity=(m&192)>>6,_.fillRed=(m&48)>>4,_.fillGreen=(m&12)>>2,_.fillBlue=m&3,m=v[++k],_.borderType=(m&192)>>6,_.borderRed=(m&48)>>4,_.borderGreen=(m&12)>>2,_.borderBlue=m&3,m=v[++k],_.borderType+=(m&128)>>5,_.wordWrap=(m&64)>>6,_.printDirection=(m&48)>>4,_.scrollDirection=(m&12)>>2,_.justify=m&3,m=v[++k],_.effectSpeed=(m&240)>>4,_.effectDirection=(m&12)>>2,_.displayEffect=m&3,k},Xe.prototype.flushDisplayed=function(k,h){for(var v=[],m=0;m<8;m++)h.windows[m].visible&&!h.windows[m].isEmpty()&&v.push(h.windows[m].getText());h.endPts=k,h.text=v.join(`

`),this.pushCaption(h),h.startPts=k},Xe.prototype.pushCaption=function(k){k.text!==""&&(this.trigger("data",{startPts:k.startPts,endPts:k.endPts,text:k.text,stream:"cc708_"+k.serviceNum}),k.text="",k.startPts=k.endPts)},Xe.prototype.displayWindows=function(k,h){var v=this.current708Packet.data,m=v[++k],_=this.getPts(k);this.flushDisplayed(_,h);for(var x=0;x<8;x++)m&1<<x&&(h.windows[x].visible=1);return k},Xe.prototype.hideWindows=function(k,h){var v=this.current708Packet.data,m=v[++k],_=this.getPts(k);this.flushDisplayed(_,h);for(var x=0;x<8;x++)m&1<<x&&(h.windows[x].visible=0);return k},Xe.prototype.toggleWindows=function(k,h){var v=this.current708Packet.data,m=v[++k],_=this.getPts(k);this.flushDisplayed(_,h);for(var x=0;x<8;x++)m&1<<x&&(h.windows[x].visible^=1);return k},Xe.prototype.clearWindows=function(k,h){var v=this.current708Packet.data,m=v[++k],_=this.getPts(k);this.flushDisplayed(_,h);for(var x=0;x<8;x++)m&1<<x&&h.windows[x].clearText();return k},Xe.prototype.deleteWindows=function(k,h){var v=this.current708Packet.data,m=v[++k],_=this.getPts(k);this.flushDisplayed(_,h);for(var x=0;x<8;x++)m&1<<x&&h.windows[x].reset();return k},Xe.prototype.setPenAttributes=function(k,h){var v=this.current708Packet.data,m=v[k],_=h.currentWindow.penAttr;return m=v[++k],_.textTag=(m&240)>>4,_.offset=(m&12)>>2,_.penSize=m&3,m=v[++k],_.italics=(m&128)>>7,_.underline=(m&64)>>6,_.edgeType=(m&56)>>3,_.fontStyle=m&7,k},Xe.prototype.setPenColor=function(k,h){var v=this.current708Packet.data,m=v[k],_=h.currentWindow.penColor;return m=v[++k],_.fgOpacity=(m&192)>>6,_.fgRed=(m&48)>>4,_.fgGreen=(m&12)>>2,_.fgBlue=m&3,m=v[++k],_.bgOpacity=(m&192)>>6,_.bgRed=(m&48)>>4,_.bgGreen=(m&12)>>2,_.bgBlue=m&3,m=v[++k],_.edgeRed=(m&48)>>4,_.edgeGreen=(m&12)>>2,_.edgeBlue=m&3,k},Xe.prototype.setPenLocation=function(k,h){var v=this.current708Packet.data,m=v[k],_=h.currentWindow.penLoc;return h.currentWindow.pendingNewLine=!0,m=v[++k],_.row=m&15,m=v[++k],_.column=m&63,k},Xe.prototype.reset=function(k,h){var v=this.getPts(k);return this.flushDisplayed(v,h),this.initService(h.serviceNum,k)};var $I={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},kc=function(h){return h===null?"":(h=$I[h]||h,String.fromCharCode(h))},Pc=14,GI=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],_s=function(){for(var h=[],v=Pc+1;v--;)h.push("");return h},lt=function k(h,v){k.prototype.init.call(this),this.field_=h||0,this.dataChannel_=v||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(m){var _,x,w,D,L;if(_=m.ccData&32639,_===this.lastControlCode_){this.lastControlCode_=null;return}if((_&61440)===4096?this.lastControlCode_=_:_!==this.PADDING_&&(this.lastControlCode_=null),w=_>>>8,D=_&255,_!==this.PADDING_)if(_===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(_===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(m.pts),this.flushDisplayed(m.pts),x=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=x,this.startPts_=m.pts;else if(_===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(m.pts);else if(_===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(m.pts);else if(_===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(m.pts);else if(_===this.CARRIAGE_RETURN_)this.clearFormatting(m.pts),this.flushDisplayed(m.pts),this.shiftRowsUp_(),this.startPts_=m.pts;else if(_===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(_===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(m.pts),this.displayed_=_s();else if(_===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=_s();else if(_===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(m.pts),this.displayed_=_s()),this.mode_="paintOn",this.startPts_=m.pts;else if(this.isSpecialCharacter(w,D))w=(w&3)<<8,L=kc(w|D),this[this.mode_](m.pts,L),this.column_++;else if(this.isExtCharacter(w,D))this.mode_==="popOn"?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),w=(w&3)<<8,L=kc(w|D),this[this.mode_](m.pts,L),this.column_++;else if(this.isMidRowCode(w,D))this.clearFormatting(m.pts),this[this.mode_](m.pts," "),this.column_++,(D&14)===14&&this.addFormatting(m.pts,["i"]),(D&1)===1&&this.addFormatting(m.pts,["u"]);else if(this.isOffsetControlCode(w,D))this.column_+=D&3;else if(this.isPAC(w,D)){var F=GI.indexOf(_&7968);this.mode_==="rollUp"&&(F-this.rollUpRows_+1<0&&(F=this.rollUpRows_-1),this.setRollUp(m.pts,F)),F!==this.row_&&(this.clearFormatting(m.pts),this.row_=F),D&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(m.pts,["u"]),(_&16)===16&&(this.column_=((_&14)>>1)*4),this.isColorPAC(D)&&(D&14)===14&&this.addFormatting(m.pts,["i"])}else this.isNormalChar(w)&&(D===0&&(D=null),L=kc(w),L+=kc(D),this[this.mode_](m.pts,L),this.column_+=L.length)}};lt.prototype=new e,lt.prototype.flushDisplayed=function(k){var h=this.displayed_.map(function(v,m){try{return v.trim()}catch{return this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+m+"."}),""}},this).join(`
`).replace(/^\n+|\n+$/g,"");h.length&&this.trigger("data",{startPts:this.startPts_,endPts:k,text:h,stream:this.name_})},lt.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=_s(),this.nonDisplayed_=_s(),this.lastControlCode_=null,this.column_=0,this.row_=Pc,this.rollUpRows_=2,this.formatting_=[]},lt.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},lt.prototype.isSpecialCharacter=function(k,h){return k===this.EXT_&&h>=48&&h<=63},lt.prototype.isExtCharacter=function(k,h){return(k===this.EXT_+1||k===this.EXT_+2)&&h>=32&&h<=63},lt.prototype.isMidRowCode=function(k,h){return k===this.EXT_&&h>=32&&h<=47},lt.prototype.isOffsetControlCode=function(k,h){return k===this.OFFSET_&&h>=33&&h<=35},lt.prototype.isPAC=function(k,h){return k>=this.BASE_&&k<this.BASE_+8&&h>=64&&h<=127},lt.prototype.isColorPAC=function(k){return k>=64&&k<=79||k>=96&&k<=127},lt.prototype.isNormalChar=function(k){return k>=32&&k<=127},lt.prototype.setRollUp=function(k,h){if(this.mode_!=="rollUp"&&(this.row_=Pc,this.mode_="rollUp",this.flushDisplayed(k),this.nonDisplayed_=_s(),this.displayed_=_s()),h!==void 0&&h!==this.row_)for(var v=0;v<this.rollUpRows_;v++)this.displayed_[h-v]=this.displayed_[this.row_-v],this.displayed_[this.row_-v]="";h===void 0&&(h=this.row_),this.topRow_=h-this.rollUpRows_+1},lt.prototype.addFormatting=function(k,h){this.formatting_=this.formatting_.concat(h);var v=h.reduce(function(m,_){return m+"<"+_+">"},"");this[this.mode_](k,v)},lt.prototype.clearFormatting=function(k){if(!!this.formatting_.length){var h=this.formatting_.reverse().reduce(function(v,m){return v+"</"+m+">"},"");this.formatting_=[],this[this.mode_](k,h)}},lt.prototype.popOn=function(k,h){var v=this.nonDisplayed_[this.row_];v+=h,this.nonDisplayed_[this.row_]=v},lt.prototype.rollUp=function(k,h){var v=this.displayed_[this.row_];v+=h,this.displayed_[this.row_]=v},lt.prototype.shiftRowsUp_=function(){var k;for(k=0;k<this.topRow_;k++)this.displayed_[k]="";for(k=this.row_+1;k<Pc+1;k++)this.displayed_[k]="";for(k=this.topRow_;k<this.row_;k++)this.displayed_[k]=this.displayed_[k+1];this.displayed_[this.row_]=""},lt.prototype.paintOn=function(k,h){var v=this.displayed_[this.row_];v+=h,this.displayed_[this.row_]=v};var Oc={CaptionStream:Gi,Cea608Stream:lt,Cea708Stream:Xe},Bt={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},KI=8589934592,XI=4294967296,q_="shared",np=function(h,v){var m=1;for(h>v&&(m=-1);Math.abs(v-h)>XI;)h+=m*KI;return h},$_=function k(h){var v,m;k.prototype.init.call(this),this.type_=h||q_,this.push=function(_){this.type_!==q_&&_.type!==this.type_||(m===void 0&&(m=_.dts),_.dts=np(_.dts,m),_.pts=np(_.pts,m),v=_.dts,this.trigger("data",_))},this.flush=function(){m=v,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){m=void 0,v=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};$_.prototype=new e;var G_={TimestampRolloverStream:$_,handleRollover:np},K_=function(h,v,m){var _,x="";for(_=v;_<m;_++)x+="%"+("00"+h[_].toString(16)).slice(-2);return x},Ac=function(h,v,m){return decodeURIComponent(K_(h,v,m))},YI=function(h,v,m){return unescape(K_(h,v,m))},Ic=function(h){return h[0]<<21|h[1]<<14|h[2]<<7|h[3]},X_={TXXX:function(h){var v;if(h.data[0]===3){for(v=1;v<h.data.length;v++)if(h.data[v]===0){h.description=Ac(h.data,1,v),h.value=Ac(h.data,v+1,h.data.length).replace(/\0*$/,"");break}h.data=h.value}},WXXX:function(h){var v;if(h.data[0]===3){for(v=1;v<h.data.length;v++)if(h.data[v]===0){h.description=Ac(h.data,1,v),h.url=Ac(h.data,v+1,h.data.length);break}}},PRIV:function(h){var v;for(v=0;v<h.data.length;v++)if(h.data[v]===0){h.owner=YI(h.data,0,v);break}h.privateData=h.data.subarray(v+1),h.data=h.privateData}},Dc;Dc=function(h){var v={descriptor:h&&h.descriptor},m=0,_=[],x=0,w;if(Dc.prototype.init.call(this),this.dispatchType=Bt.METADATA_STREAM_TYPE.toString(16),v.descriptor)for(w=0;w<v.descriptor.length;w++)this.dispatchType+=("00"+v.descriptor[w].toString(16)).slice(-2);this.push=function(D){var L,F,N,z,Q,ue;if(D.type==="timed-metadata"){if(D.dataAlignmentIndicator&&(x=0,_.length=0),_.length===0&&(D.data.length<10||D.data[0]!=="I".charCodeAt(0)||D.data[1]!=="D".charCodeAt(0)||D.data[2]!=="3".charCodeAt(0))){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(_.push(D),x+=D.data.byteLength,_.length===1&&(m=Ic(D.data.subarray(6,10)),m+=10),!(x<m)){for(L={data:new Uint8Array(m),frames:[],pts:_[0].pts,dts:_[0].dts},Q=0;Q<m;)L.data.set(_[0].data.subarray(0,m-Q),Q),Q+=_[0].data.byteLength,x-=_[0].data.byteLength,_.shift();F=10,L.data[5]&64&&(F+=4,F+=Ic(L.data.subarray(10,14)),m-=Ic(L.data.subarray(16,20)));do{if(N=Ic(L.data.subarray(F+4,F+8)),N<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping metadata parsing."});return}if(ue=String.fromCharCode(L.data[F],L.data[F+1],L.data[F+2],L.data[F+3]),z={id:ue,data:L.data.subarray(F+10,F+N+10)},z.key=z.id,X_[z.id]&&(X_[z.id](z),z.owner==="com.apple.streaming.transportStreamTimestamp")){var pe=z.data,re=(pe[3]&1)<<30|pe[4]<<22|pe[5]<<14|pe[6]<<6|pe[7]>>>2;re*=4,re+=pe[7]&3,z.timeStamp=re,L.pts===void 0&&L.dts===void 0&&(L.pts=z.timeStamp,L.dts=z.timeStamp),this.trigger("timestamp",z)}L.frames.push(z),F+=10,F+=N}while(F<m);this.trigger("data",L)}}}},Dc.prototype=new e;var QI=Dc,JI=G_.TimestampRolloverStream,Mc,$o,Rc,ca=188,rp=71;Mc=function(){var h=new Uint8Array(ca),v=0;Mc.prototype.init.call(this),this.push=function(m){var _=0,x=ca,w;for(v?(w=new Uint8Array(m.byteLength+v),w.set(h.subarray(0,v)),w.set(m,v),v=0):w=m;x<w.byteLength;){if(w[_]===rp&&w[x]===rp){this.trigger("data",w.subarray(_,x)),_+=ca,x+=ca;continue}_++,x++}_<w.byteLength&&(h.set(w.subarray(_),0),v=w.byteLength-_)},this.flush=function(){v===ca&&h[0]===rp&&(this.trigger("data",h),v=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){v=0,this.trigger("reset")}},Mc.prototype=new e,$o=function(){var h,v,m,_;$o.prototype.init.call(this),_=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,h=function(w,D){var L=0;D.payloadUnitStartIndicator&&(L+=w[L]+1),D.type==="pat"?v(w.subarray(L),D):m(w.subarray(L),D)},v=function(w,D){D.section_number=w[7],D.last_section_number=w[8],_.pmtPid=(w[10]&31)<<8|w[11],D.pmtPid=_.pmtPid},m=function(w,D){var L,F,N,z;if(!!(w[5]&1)){for(_.programMapTable={video:null,audio:null,"timed-metadata":{}},L=(w[1]&15)<<8|w[2],F=3+L-4,N=(w[10]&15)<<8|w[11],z=12+N;z<F;){var Q=w[z],ue=(w[z+1]&31)<<8|w[z+2];Q===Bt.H264_STREAM_TYPE&&_.programMapTable.video===null?_.programMapTable.video=ue:Q===Bt.ADTS_STREAM_TYPE&&_.programMapTable.audio===null?_.programMapTable.audio=ue:Q===Bt.METADATA_STREAM_TYPE&&(_.programMapTable["timed-metadata"][ue]=Q),z+=((w[z+3]&15)<<8|w[z+4])+5}D.programMapTable=_.programMapTable}},this.push=function(x){var w={},D=4;if(w.payloadUnitStartIndicator=!!(x[1]&64),w.pid=x[1]&31,w.pid<<=8,w.pid|=x[2],(x[3]&48)>>>4>1&&(D+=x[D]+1),w.pid===0)w.type="pat",h(x.subarray(D),w),this.trigger("data",w);else if(w.pid===this.pmtPid)for(w.type="pmt",h(x.subarray(D),w),this.trigger("data",w);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([x,D,w]):this.processPes_(x,D,w)},this.processPes_=function(x,w,D){D.pid===this.programMapTable.video?D.streamType=Bt.H264_STREAM_TYPE:D.pid===this.programMapTable.audio?D.streamType=Bt.ADTS_STREAM_TYPE:D.streamType=this.programMapTable["timed-metadata"][D.pid],D.type="pes",D.data=x.subarray(w),this.trigger("data",D)}},$o.prototype=new e,$o.STREAM_TYPES={h264:27,adts:15},Rc=function(){var h=this,v=!1,m={data:[],size:0},_={data:[],size:0},x={data:[],size:0},w,D=function(N,z){var Q,ue=N[0]<<16|N[1]<<8|N[2];z.data=new Uint8Array,ue===1&&(z.packetLength=6+(N[4]<<8|N[5]),z.dataAlignmentIndicator=(N[6]&4)!==0,Q=N[7],Q&192&&(z.pts=(N[9]&14)<<27|(N[10]&255)<<20|(N[11]&254)<<12|(N[12]&255)<<5|(N[13]&254)>>>3,z.pts*=4,z.pts+=(N[13]&6)>>>1,z.dts=z.pts,Q&64&&(z.dts=(N[14]&14)<<27|(N[15]&255)<<20|(N[16]&254)<<12|(N[17]&255)<<5|(N[18]&254)>>>3,z.dts*=4,z.dts+=(N[18]&6)>>>1)),z.data=N.subarray(9+N[8]))},L=function(N,z,Q){var ue=new Uint8Array(N.size),pe={type:z},re=0,we=0,kt=!1,di;if(!(!N.data.length||N.size<9)){for(pe.trackId=N.data[0].pid,re=0;re<N.data.length;re++)di=N.data[re],ue.set(di.data,we),we+=di.data.byteLength;D(ue,pe),kt=z==="video"||pe.packetLength<=N.size,(Q||kt)&&(N.size=0,N.data.length=0),kt&&h.trigger("data",pe)}};Rc.prototype.init.call(this),this.push=function(F){({pat:function(){},pes:function(){var z,Q;switch(F.streamType){case Bt.H264_STREAM_TYPE:z=m,Q="video";break;case Bt.ADTS_STREAM_TYPE:z=_,Q="audio";break;case Bt.METADATA_STREAM_TYPE:z=x,Q="timed-metadata";break;default:return}F.payloadUnitStartIndicator&&L(z,Q,!0),z.data.push(F),z.size+=F.data.byteLength},pmt:function(){var z={type:"metadata",tracks:[]};w=F.programMapTable,w.video!==null&&z.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+w.video,codec:"avc",type:"video"}),w.audio!==null&&z.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+w.audio,codec:"adts",type:"audio"}),v=!0,h.trigger("data",z)}})[F.type]()},this.reset=function(){m.size=0,m.data.length=0,_.size=0,_.data.length=0,this.trigger("reset")},this.flushStreams_=function(){L(m,"video"),L(_,"audio"),L(x,"timed-metadata")},this.flush=function(){if(!v&&w){var F={type:"metadata",tracks:[]};w.video!==null&&F.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+w.video,codec:"avc",type:"video"}),w.audio!==null&&F.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+w.audio,codec:"adts",type:"audio"}),h.trigger("data",F)}v=!1,this.flushStreams_(),this.trigger("done")}},Rc.prototype=new e;var Y_={PAT_PID:0,MP2T_PACKET_LENGTH:ca,TransportPacketStream:Mc,TransportParseStream:$o,ElementaryStream:Rc,TimestampRolloverStream:JI,CaptionStream:Oc.CaptionStream,Cea608Stream:Oc.Cea608Stream,Cea708Stream:Oc.Cea708Stream,MetadataStream:QI};for(var sp in Bt)Bt.hasOwnProperty(sp)&&(Y_[sp]=Bt[sp]);var sr=Y_,ZI=Ne.ONE_SECOND_IN_TS,Lc,Q_=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];Lc=function(h){var v,m=0;Lc.prototype.init.call(this),this.skipWarn_=function(_,x){this.trigger("log",{level:"warn",message:"adts skiping bytes "+_+" to "+x+" in frame "+m+" outside syncword"})},this.push=function(_){var x=0,w,D,L,F,N;if(h||(m=0),_.type==="audio"){v&&v.length?(L=v,v=new Uint8Array(L.byteLength+_.data.byteLength),v.set(L),v.set(_.data,L.byteLength)):v=_.data;for(var z;x+7<v.length;){if(v[x]!==255||(v[x+1]&246)!==240){typeof z!="number"&&(z=x),x++;continue}if(typeof z=="number"&&(this.skipWarn_(z,x),z=null),D=(~v[x+1]&1)*2,w=(v[x+3]&3)<<11|v[x+4]<<3|(v[x+5]&224)>>5,F=((v[x+6]&3)+1)*1024,N=F*ZI/Q_[(v[x+2]&60)>>>2],v.byteLength-x<w)break;this.trigger("data",{pts:_.pts+m*N,dts:_.dts+m*N,sampleCount:F,audioobjecttype:(v[x+2]>>>6&3)+1,channelcount:(v[x+2]&1)<<2|(v[x+3]&192)>>>6,samplerate:Q_[(v[x+2]&60)>>>2],samplingfrequencyindex:(v[x+2]&60)>>>2,samplesize:16,data:v.subarray(x+7+D,x+w)}),m++,x+=w}typeof z=="number"&&(this.skipWarn_(z,x),z=null),v=v.subarray(x)}},this.flush=function(){m=0,this.trigger("done")},this.reset=function(){v=void 0,this.trigger("reset")},this.endTimeline=function(){v=void 0,this.trigger("endedtimeline")}},Lc.prototype=new e;var J_=Lc,Z_;Z_=function(h){var v=h.byteLength,m=0,_=0;this.length=function(){return 8*v},this.bitsAvailable=function(){return 8*v+_},this.loadWord=function(){var x=h.byteLength-v,w=new Uint8Array(4),D=Math.min(4,v);if(D===0)throw new Error("no bytes available");w.set(h.subarray(x,x+D)),m=new DataView(w.buffer).getUint32(0),_=D*8,v-=D},this.skipBits=function(x){var w;_>x?(m<<=x,_-=x):(x-=_,w=Math.floor(x/8),x-=w*8,v-=w,this.loadWord(),m<<=x,_-=x)},this.readBits=function(x){var w=Math.min(_,x),D=m>>>32-w;return _-=w,_>0?m<<=w:v>0&&this.loadWord(),w=x-w,w>0?D<<w|this.readBits(w):D},this.skipLeadingZeros=function(){var x;for(x=0;x<_;++x)if((m&2147483648>>>x)!==0)return m<<=x,_-=x,x;return this.loadWord(),x+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var x=this.skipLeadingZeros();return this.readBits(x+1)-1},this.readExpGolomb=function(){var x=this.readUnsignedExpGolomb();return 1&x?1+x>>>1:-1*(x>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var eD=Z_,jc,Go,eb;Go=function(){var h=0,v,m;Go.prototype.init.call(this),this.push=function(_){var x;m?(x=new Uint8Array(m.byteLength+_.data.byteLength),x.set(m),x.set(_.data,m.byteLength),m=x):m=_.data;for(var w=m.byteLength;h<w-3;h++)if(m[h+2]===1){v=h+5;break}for(;v<w;)switch(m[v]){case 0:if(m[v-1]!==0){v+=2;break}else if(m[v-2]!==0){v++;break}h+3!==v-2&&this.trigger("data",m.subarray(h+3,v-2));do v++;while(m[v]!==1&&v<w);h=v-2,v+=3;break;case 1:if(m[v-1]!==0||m[v-2]!==0){v+=3;break}this.trigger("data",m.subarray(h+3,v-2)),h=v-2,v+=3;break;default:v+=3;break}m=m.subarray(h),v-=h,h=0},this.reset=function(){m=null,h=0,this.trigger("reset")},this.flush=function(){m&&m.byteLength>3&&this.trigger("data",m.subarray(h+3)),m=null,h=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},Go.prototype=new e,eb={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},jc=function(){var h=new Go,v,m,_,x,w,D,L;jc.prototype.init.call(this),v=this,this.push=function(F){F.type==="video"&&(m=F.trackId,_=F.pts,x=F.dts,h.push(F))},h.on("data",function(F){var N={trackId:m,pts:_,dts:x,data:F,nalUnitTypeCode:F[0]&31};switch(N.nalUnitTypeCode){case 5:N.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:N.nalUnitType="sei_rbsp",N.escapedRBSP=w(F.subarray(1));break;case 7:N.nalUnitType="seq_parameter_set_rbsp",N.escapedRBSP=w(F.subarray(1)),N.config=D(N.escapedRBSP);break;case 8:N.nalUnitType="pic_parameter_set_rbsp";break;case 9:N.nalUnitType="access_unit_delimiter_rbsp";break}v.trigger("data",N)}),h.on("done",function(){v.trigger("done")}),h.on("partialdone",function(){v.trigger("partialdone")}),h.on("reset",function(){v.trigger("reset")}),h.on("endedtimeline",function(){v.trigger("endedtimeline")}),this.flush=function(){h.flush()},this.partialFlush=function(){h.partialFlush()},this.reset=function(){h.reset()},this.endTimeline=function(){h.endTimeline()},L=function(N,z){var Q=8,ue=8,pe,re;for(pe=0;pe<N;pe++)ue!==0&&(re=z.readExpGolomb(),ue=(Q+re+256)%256),Q=ue===0?Q:ue},w=function(N){for(var z=N.byteLength,Q=[],ue=1,pe,re;ue<z-2;)N[ue]===0&&N[ue+1]===0&&N[ue+2]===3?(Q.push(ue+2),ue+=2):ue++;if(Q.length===0)return N;pe=z-Q.length,re=new Uint8Array(pe);var we=0;for(ue=0;ue<pe;we++,ue++)we===Q[0]&&(we++,Q.shift()),re[ue]=N[we];return re},D=function(N){var z=0,Q=0,ue=0,pe=0,re,we,kt,di,ws,dp,_b,bb,Tb,fp,xb,bt=[1,1],wb,Ss;if(re=new eD(N),we=re.readUnsignedByte(),di=re.readUnsignedByte(),kt=re.readUnsignedByte(),re.skipUnsignedExpGolomb(),eb[we]&&(ws=re.readUnsignedExpGolomb(),ws===3&&re.skipBits(1),re.skipUnsignedExpGolomb(),re.skipUnsignedExpGolomb(),re.skipBits(1),re.readBoolean()))for(xb=ws!==3?8:12,Ss=0;Ss<xb;Ss++)re.readBoolean()&&(Ss<6?L(16,re):L(64,re));if(re.skipUnsignedExpGolomb(),dp=re.readUnsignedExpGolomb(),dp===0)re.readUnsignedExpGolomb();else if(dp===1)for(re.skipBits(1),re.skipExpGolomb(),re.skipExpGolomb(),_b=re.readUnsignedExpGolomb(),Ss=0;Ss<_b;Ss++)re.skipExpGolomb();if(re.skipUnsignedExpGolomb(),re.skipBits(1),bb=re.readUnsignedExpGolomb(),Tb=re.readUnsignedExpGolomb(),fp=re.readBits(1),fp===0&&re.skipBits(1),re.skipBits(1),re.readBoolean()&&(z=re.readUnsignedExpGolomb(),Q=re.readUnsignedExpGolomb(),ue=re.readUnsignedExpGolomb(),pe=re.readUnsignedExpGolomb()),re.readBoolean()&&re.readBoolean()){switch(wb=re.readUnsignedByte(),wb){case 1:bt=[1,1];break;case 2:bt=[12,11];break;case 3:bt=[10,11];break;case 4:bt=[16,11];break;case 5:bt=[40,33];break;case 6:bt=[24,11];break;case 7:bt=[20,11];break;case 8:bt=[32,11];break;case 9:bt=[80,33];break;case 10:bt=[18,11];break;case 11:bt=[15,11];break;case 12:bt=[64,33];break;case 13:bt=[160,99];break;case 14:bt=[4,3];break;case 15:bt=[3,2];break;case 16:bt=[2,1];break;case 255:{bt=[re.readUnsignedByte()<<8|re.readUnsignedByte(),re.readUnsignedByte()<<8|re.readUnsignedByte()];break}}bt&&bt[0]/bt[1]}return{profileIdc:we,levelIdc:kt,profileCompatibility:di,width:(bb+1)*16-z*2-Q*2,height:(2-fp)*(Tb+1)*16-ue*2-pe*2,sarRatio:bt}}},jc.prototype=new e;var tD={H264Stream:jc,NalByteStream:Go},iD=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],tb=function(h,v){var m=h[v+6]<<21|h[v+7]<<14|h[v+8]<<7|h[v+9],_=h[v+5],x=(_&16)>>4;return m=m>=0?m:0,x?m+20:m+10},nD=function k(h,v){return h.length-v<10||h[v]!=="I".charCodeAt(0)||h[v+1]!=="D".charCodeAt(0)||h[v+2]!=="3".charCodeAt(0)?v:(v+=tb(h,v),k(h,v))},rD=function(h){var v=nD(h,0);return h.length>=v+2&&(h[v]&255)===255&&(h[v+1]&240)===240&&(h[v+1]&22)===16},ib=function(h){return h[0]<<21|h[1]<<14|h[2]<<7|h[3]},sD=function(h,v,m){var _,x="";for(_=v;_<m;_++)x+="%"+("00"+h[_].toString(16)).slice(-2);return x},aD=function(h,v,m){return unescape(sD(h,v,m))},oD=function(h,v){var m=(h[v+5]&224)>>5,_=h[v+4]<<3,x=h[v+3]&3<<11;return x|_|m},lD=function(h,v){return h[v]==="I".charCodeAt(0)&&h[v+1]==="D".charCodeAt(0)&&h[v+2]==="3".charCodeAt(0)?"timed-metadata":h[v]&!0&&(h[v+1]&240)===240?"audio":null},uD=function(h){for(var v=0;v+5<h.length;){if(h[v]!==255||(h[v+1]&246)!==240){v++;continue}return iD[(h[v+2]&60)>>>2]}return null},cD=function(h){var v,m,_,x;v=10,h[5]&64&&(v+=4,v+=ib(h.subarray(10,14)));do{if(m=ib(h.subarray(v+4,v+8)),m<1)return null;if(x=String.fromCharCode(h[v],h[v+1],h[v+2],h[v+3]),x==="PRIV"){_=h.subarray(v+10,v+m+10);for(var w=0;w<_.byteLength;w++)if(_[w]===0){var D=aD(_,0,w);if(D==="com.apple.streaming.transportStreamTimestamp"){var L=_.subarray(w+1),F=(L[3]&1)<<30|L[4]<<22|L[5]<<14|L[6]<<6|L[7]>>>2;return F*=4,F+=L[7]&3,F}break}}v+=10,v+=m}while(v<h.byteLength);return null},Nc={isLikelyAacData:rD,parseId3TagSize:tb,parseAdtsSize:oD,parseType:lD,parseSampleRate:uD,parseAacTimestamp:cD},Fc;Fc=function(){var h=new Uint8Array,v=0;Fc.prototype.init.call(this),this.setTimestamp=function(m){v=m},this.push=function(m){var _=0,x=0,w,D,L,F;for(h.length?(F=h.length,h=new Uint8Array(m.byteLength+F),h.set(h.subarray(0,F)),h.set(m,F)):h=m;h.length-x>=3;){if(h[x]==="I".charCodeAt(0)&&h[x+1]==="D".charCodeAt(0)&&h[x+2]==="3".charCodeAt(0)){if(h.length-x<10||(_=Nc.parseId3TagSize(h,x),x+_>h.length))break;D={type:"timed-metadata",data:h.subarray(x,x+_)},this.trigger("data",D),x+=_;continue}else if((h[x]&255)===255&&(h[x+1]&240)===240){if(h.length-x<7||(_=Nc.parseAdtsSize(h,x),x+_>h.length))break;L={type:"audio",data:h.subarray(x,x+_),pts:v,dts:v},this.trigger("data",L),x+=_;continue}x++}w=h.length-x,w>0?h=h.subarray(x):h=new Uint8Array},this.reset=function(){h=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){h=new Uint8Array,this.trigger("endedtimeline")}},Fc.prototype=new e;var dD=Fc,fD=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],ap=fD,hD=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],op=hD,pD=tD.H264Stream,mD=Nc.isLikelyAacData,vD=Ne.ONE_SECOND_IN_TS,Ko,da,Uc,bs,gD=function(h,v){v.stream=h,this.trigger("log",v)},nb=function(h,v){for(var m=Object.keys(v),_=0;_<m.length;_++){var x=m[_];x==="headOfPipeline"||!v[x].on||v[x].on("log",gD.bind(h,x))}},rb=function(h,v){var m;if(h.length!==v.length)return!1;for(m=0;m<h.length;m++)if(h[m]!==v[m])return!1;return!0},lp=function(h,v,m,_,x,w){var D=m-v,L=_-v,F=x-m;return{start:{dts:h,pts:h+D},end:{dts:h+L,pts:h+F},prependedContentDuration:w,baseMediaDecodeTime:h}};da=function(h,v){var m=[],_,x=0,w=0,D=1/0;v=v||{},_=v.firstSequenceNumber||0,da.prototype.init.call(this),this.push=function(L){xn.collectDtsInfo(h,L),h&&ap.forEach(function(F){h[F]=L[F]}),m.push(L)},this.setEarliestDts=function(L){x=L},this.setVideoBaseMediaDecodeTime=function(L){D=L},this.setAudioAppendStart=function(L){w=L},this.flush=function(){var L,F,N,z,Q,ue,pe;if(m.length===0){this.trigger("done","AudioSegmentStream");return}L=Sc.trimAdtsFramesByEarliestDts(m,h,x),h.baseMediaDecodeTime=xn.calculateTrackBaseMediaDecodeTime(h,v.keepOriginalTimestamps),pe=Sc.prefixWithSilence(h,L,w,D),h.samples=Sc.generateSampleTable(L),N=_e.mdat(Sc.concatenateFrameData(L)),m=[],F=_e.moof(_,[h]),z=new Uint8Array(F.byteLength+N.byteLength),_++,z.set(F),z.set(N,F.byteLength),xn.clearDtsInfo(h),Q=Math.ceil(vD*1024/h.samplerate),L.length&&(ue=L.length*Q,this.trigger("segmentTimingInfo",lp(Ne.audioTsToVideoTs(h.baseMediaDecodeTime,h.samplerate),L[0].dts,L[0].pts,L[0].dts+ue,L[0].pts+ue,pe||0)),this.trigger("timingInfo",{start:L[0].pts,end:L[0].pts+ue})),this.trigger("data",{track:h,boxes:z}),this.trigger("done","AudioSegmentStream")},this.reset=function(){xn.clearDtsInfo(h),m=[],this.trigger("reset")}},da.prototype=new e,Ko=function(h,v){var m,_=[],x=[],w,D;v=v||{},m=v.firstSequenceNumber||0,Ko.prototype.init.call(this),delete h.minPTS,this.gopCache_=[],this.push=function(L){xn.collectDtsInfo(h,L),L.nalUnitType==="seq_parameter_set_rbsp"&&!w&&(w=L.config,h.sps=[L.data],op.forEach(function(F){h[F]=w[F]},this)),L.nalUnitType==="pic_parameter_set_rbsp"&&!D&&(D=L.data,h.pps=[L.data]),_.push(L)},this.flush=function(){for(var L,F,N,z,Q,ue,pe=0,re,we;_.length&&_[0].nalUnitType!=="access_unit_delimiter_rbsp";)_.shift();if(_.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(L=ye.groupNalsIntoFrames(_),N=ye.groupFramesIntoGops(L),N[0][0].keyFrame||(F=this.getGopForFusion_(_[0],h),F?(pe=F.duration,N.unshift(F),N.byteLength+=F.byteLength,N.nalCount+=F.nalCount,N.pts=F.pts,N.dts=F.dts,N.duration+=F.duration):N=ye.extendFirstKeyFrame(N)),x.length){var kt;if(v.alignGopsAtEnd?kt=this.alignGopsAtEnd_(N):kt=this.alignGopsAtStart_(N),!kt){this.gopCache_.unshift({gop:N.pop(),pps:h.pps,sps:h.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),_=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}xn.clearDtsInfo(h),N=kt}xn.collectDtsInfo(h,N),h.samples=ye.generateSampleTable(N),Q=_e.mdat(ye.concatenateNalData(N)),h.baseMediaDecodeTime=xn.calculateTrackBaseMediaDecodeTime(h,v.keepOriginalTimestamps),this.trigger("processedGopsInfo",N.map(function(di){return{pts:di.pts,dts:di.dts,byteLength:di.byteLength}})),re=N[0],we=N[N.length-1],this.trigger("segmentTimingInfo",lp(h.baseMediaDecodeTime,re.dts,re.pts,we.dts+we.duration,we.pts+we.duration,pe)),this.trigger("timingInfo",{start:N[0].pts,end:N[N.length-1].pts+N[N.length-1].duration}),this.gopCache_.unshift({gop:N.pop(),pps:h.pps,sps:h.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),_=[],this.trigger("baseMediaDecodeTime",h.baseMediaDecodeTime),this.trigger("timelineStartInfo",h.timelineStartInfo),z=_e.moof(m,[h]),ue=new Uint8Array(z.byteLength+Q.byteLength),m++,ue.set(z),ue.set(Q,z.byteLength),this.trigger("data",{track:h,boxes:ue}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),_=[],this.gopCache_.length=0,x.length=0,this.trigger("reset")},this.resetStream_=function(){xn.clearDtsInfo(h),w=void 0,D=void 0},this.getGopForFusion_=function(L){var F=45e3,N=1e4,z=1/0,Q,ue,pe,re,we;for(we=0;we<this.gopCache_.length;we++)re=this.gopCache_[we],pe=re.gop,!(!(h.pps&&rb(h.pps[0],re.pps[0]))||!(h.sps&&rb(h.sps[0],re.sps[0])))&&(pe.dts<h.timelineStartInfo.dts||(Q=L.dts-pe.dts-pe.duration,Q>=-N&&Q<=F&&(!ue||z>Q)&&(ue=re,z=Q)));return ue?ue.gop:null},this.alignGopsAtStart_=function(L){var F,N,z,Q,ue,pe,re,we;for(ue=L.byteLength,pe=L.nalCount,re=L.duration,F=N=0;F<x.length&&N<L.length&&(z=x[F],Q=L[N],z.pts!==Q.pts);){if(Q.pts>z.pts){F++;continue}N++,ue-=Q.byteLength,pe-=Q.nalCount,re-=Q.duration}return N===0?L:N===L.length?null:(we=L.slice(N),we.byteLength=ue,we.duration=re,we.nalCount=pe,we.pts=we[0].pts,we.dts=we[0].dts,we)},this.alignGopsAtEnd_=function(L){var F,N,z,Q,ue,pe;for(F=x.length-1,N=L.length-1,ue=null,pe=!1;F>=0&&N>=0;){if(z=x[F],Q=L[N],z.pts===Q.pts){pe=!0;break}if(z.pts>Q.pts){F--;continue}F===x.length-1&&(ue=N),N--}if(!pe&&ue===null)return null;var re;if(pe?re=N:re=ue,re===0)return L;var we=L.slice(re),kt=we.reduce(function(di,ws){return di.byteLength+=ws.byteLength,di.duration+=ws.duration,di.nalCount+=ws.nalCount,di},{byteLength:0,duration:0,nalCount:0});return we.byteLength=kt.byteLength,we.duration=kt.duration,we.nalCount=kt.nalCount,we.pts=we[0].pts,we.dts=we[0].dts,we},this.alignGopsWith=function(L){x=L}},Ko.prototype=new e,bs=function(h,v){this.numberOfTracks=0,this.metadataStream=v,h=h||{},typeof h.remux<"u"?this.remuxTracks=!!h.remux:this.remuxTracks=!0,typeof h.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=h.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,bs.prototype.init.call(this),this.push=function(m){if(m.text)return this.pendingCaptions.push(m);if(m.frames)return this.pendingMetadata.push(m);this.pendingTracks.push(m.track),this.pendingBytes+=m.boxes.byteLength,m.track.type==="video"&&(this.videoTrack=m.track,this.pendingBoxes.push(m.boxes)),m.track.type==="audio"&&(this.audioTrack=m.track,this.pendingBoxes.unshift(m.boxes))}},bs.prototype=new e,bs.prototype.flush=function(k){var h=0,v={captions:[],captionStreams:{},metadata:[],info:{}},m,_,x,w=0,D;if(this.pendingTracks.length<this.numberOfTracks){if(k!=="VideoSegmentStream"&&k!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(w=this.videoTrack.timelineStartInfo.pts,op.forEach(function(L){v.info[L]=this.videoTrack[L]},this)):this.audioTrack&&(w=this.audioTrack.timelineStartInfo.pts,ap.forEach(function(L){v.info[L]=this.audioTrack[L]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?v.type=this.pendingTracks[0].type:v.type="combined",this.emittedTracks+=this.pendingTracks.length,x=_e.initSegment(this.pendingTracks),v.initSegment=new Uint8Array(x.byteLength),v.initSegment.set(x),v.data=new Uint8Array(this.pendingBytes),D=0;D<this.pendingBoxes.length;D++)v.data.set(this.pendingBoxes[D],h),h+=this.pendingBoxes[D].byteLength;for(D=0;D<this.pendingCaptions.length;D++)m=this.pendingCaptions[D],m.startTime=Ne.metadataTsToSeconds(m.startPts,w,this.keepOriginalTimestamps),m.endTime=Ne.metadataTsToSeconds(m.endPts,w,this.keepOriginalTimestamps),v.captionStreams[m.stream]=!0,v.captions.push(m);for(D=0;D<this.pendingMetadata.length;D++)_=this.pendingMetadata[D],_.cueTime=Ne.metadataTsToSeconds(_.pts,w,this.keepOriginalTimestamps),v.metadata.push(_);for(v.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",v),D=0;D<v.captions.length;D++)m=v.captions[D],this.trigger("caption",m);for(D=0;D<v.metadata.length;D++)_=v.metadata[D],this.trigger("id3Frame",_)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},bs.prototype.setRemux=function(k){this.remuxTracks=k},Uc=function(h){var v=this,m=!0,_,x;Uc.prototype.init.call(this),h=h||{},this.baseMediaDecodeTime=h.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var w={};this.transmuxPipeline_=w,w.type="aac",w.metadataStream=new sr.MetadataStream,w.aacStream=new dD,w.audioTimestampRolloverStream=new sr.TimestampRolloverStream("audio"),w.timedMetadataTimestampRolloverStream=new sr.TimestampRolloverStream("timed-metadata"),w.adtsStream=new J_,w.coalesceStream=new bs(h,w.metadataStream),w.headOfPipeline=w.aacStream,w.aacStream.pipe(w.audioTimestampRolloverStream).pipe(w.adtsStream),w.aacStream.pipe(w.timedMetadataTimestampRolloverStream).pipe(w.metadataStream).pipe(w.coalesceStream),w.metadataStream.on("timestamp",function(D){w.aacStream.setTimestamp(D.timeStamp)}),w.aacStream.on("data",function(D){D.type!=="timed-metadata"&&D.type!=="audio"||w.audioSegmentStream||(x=x||{timelineStartInfo:{baseMediaDecodeTime:v.baseMediaDecodeTime},codec:"adts",type:"audio"},w.coalesceStream.numberOfTracks++,w.audioSegmentStream=new da(x,h),w.audioSegmentStream.on("log",v.getLogTrigger_("audioSegmentStream")),w.audioSegmentStream.on("timingInfo",v.trigger.bind(v,"audioTimingInfo")),w.adtsStream.pipe(w.audioSegmentStream).pipe(w.coalesceStream),v.trigger("trackinfo",{hasAudio:!!x,hasVideo:!!_}))}),w.coalesceStream.on("data",this.trigger.bind(this,"data")),w.coalesceStream.on("done",this.trigger.bind(this,"done")),nb(this,w)},this.setupTsPipeline=function(){var w={};this.transmuxPipeline_=w,w.type="ts",w.metadataStream=new sr.MetadataStream,w.packetStream=new sr.TransportPacketStream,w.parseStream=new sr.TransportParseStream,w.elementaryStream=new sr.ElementaryStream,w.timestampRolloverStream=new sr.TimestampRolloverStream,w.adtsStream=new J_,w.h264Stream=new pD,w.captionStream=new sr.CaptionStream(h),w.coalesceStream=new bs(h,w.metadataStream),w.headOfPipeline=w.packetStream,w.packetStream.pipe(w.parseStream).pipe(w.elementaryStream).pipe(w.timestampRolloverStream),w.timestampRolloverStream.pipe(w.h264Stream),w.timestampRolloverStream.pipe(w.adtsStream),w.timestampRolloverStream.pipe(w.metadataStream).pipe(w.coalesceStream),w.h264Stream.pipe(w.captionStream).pipe(w.coalesceStream),w.elementaryStream.on("data",function(D){var L;if(D.type==="metadata"){for(L=D.tracks.length;L--;)!_&&D.tracks[L].type==="video"?(_=D.tracks[L],_.timelineStartInfo.baseMediaDecodeTime=v.baseMediaDecodeTime):!x&&D.tracks[L].type==="audio"&&(x=D.tracks[L],x.timelineStartInfo.baseMediaDecodeTime=v.baseMediaDecodeTime);_&&!w.videoSegmentStream&&(w.coalesceStream.numberOfTracks++,w.videoSegmentStream=new Ko(_,h),w.videoSegmentStream.on("log",v.getLogTrigger_("videoSegmentStream")),w.videoSegmentStream.on("timelineStartInfo",function(F){x&&!h.keepOriginalTimestamps&&(x.timelineStartInfo=F,w.audioSegmentStream.setEarliestDts(F.dts-v.baseMediaDecodeTime))}),w.videoSegmentStream.on("processedGopsInfo",v.trigger.bind(v,"gopInfo")),w.videoSegmentStream.on("segmentTimingInfo",v.trigger.bind(v,"videoSegmentTimingInfo")),w.videoSegmentStream.on("baseMediaDecodeTime",function(F){x&&w.audioSegmentStream.setVideoBaseMediaDecodeTime(F)}),w.videoSegmentStream.on("timingInfo",v.trigger.bind(v,"videoTimingInfo")),w.h264Stream.pipe(w.videoSegmentStream).pipe(w.coalesceStream)),x&&!w.audioSegmentStream&&(w.coalesceStream.numberOfTracks++,w.audioSegmentStream=new da(x,h),w.audioSegmentStream.on("log",v.getLogTrigger_("audioSegmentStream")),w.audioSegmentStream.on("timingInfo",v.trigger.bind(v,"audioTimingInfo")),w.audioSegmentStream.on("segmentTimingInfo",v.trigger.bind(v,"audioSegmentTimingInfo")),w.adtsStream.pipe(w.audioSegmentStream).pipe(w.coalesceStream)),v.trigger("trackinfo",{hasAudio:!!x,hasVideo:!!_})}}),w.coalesceStream.on("data",this.trigger.bind(this,"data")),w.coalesceStream.on("id3Frame",function(D){D.dispatchType=w.metadataStream.dispatchType,v.trigger("id3Frame",D)}),w.coalesceStream.on("caption",this.trigger.bind(this,"caption")),w.coalesceStream.on("done",this.trigger.bind(this,"done")),nb(this,w)},this.setBaseMediaDecodeTime=function(w){var D=this.transmuxPipeline_;h.keepOriginalTimestamps||(this.baseMediaDecodeTime=w),x&&(x.timelineStartInfo.dts=void 0,x.timelineStartInfo.pts=void 0,xn.clearDtsInfo(x),D.audioTimestampRolloverStream&&D.audioTimestampRolloverStream.discontinuity()),_&&(D.videoSegmentStream&&(D.videoSegmentStream.gopCache_=[]),_.timelineStartInfo.dts=void 0,_.timelineStartInfo.pts=void 0,xn.clearDtsInfo(_),D.captionStream.reset()),D.timestampRolloverStream&&D.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(w){x&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(w)},this.setRemux=function(w){var D=this.transmuxPipeline_;h.remux=w,D&&D.coalesceStream&&D.coalesceStream.setRemux(w)},this.alignGopsWith=function(w){_&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(w)},this.getLogTrigger_=function(w){var D=this;return function(L){L.stream=w,D.trigger("log",L)}},this.push=function(w){if(m){var D=mD(w);D&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!D&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),m=!1}this.transmuxPipeline_.headOfPipeline.push(w)},this.flush=function(){m=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},Uc.prototype=new e;var yD={Transmuxer:Uc,VideoSegmentStream:Ko,AudioSegmentStream:da,AUDIO_PROPERTIES:ap,VIDEO_PROPERTIES:op,generateSegmentTimingInfo:lp},_D=function(h){return h>>>0},bD=function(h){return("00"+h.toString(16)).slice(-2)},Bc={toUnsigned:_D,toHexString:bD},TD=function(h){var v="";return v+=String.fromCharCode(h[0]),v+=String.fromCharCode(h[1]),v+=String.fromCharCode(h[2]),v+=String.fromCharCode(h[3]),v},Ts=TD,xD=Bc.toUnsigned,wD=function k(h,v){var m=[],_,x,w,D,L;if(!v.length)return null;for(_=0;_<h.byteLength;)x=xD(h[_]<<24|h[_+1]<<16|h[_+2]<<8|h[_+3]),w=Ts(h.subarray(_+4,_+8)),D=x>1?_+x:h.byteLength,w===v[0]&&(v.length===1?m.push(h.subarray(_+8,D)):(L=k(h.subarray(_+8,D),v.slice(1)),L.length&&(m=m.concat(L)))),_=D;return m},Ze=wD,SD=Bc.toUnsigned,ED=n.getUint64,CD=function(h){var v={version:h[0],flags:new Uint8Array(h.subarray(1,4))};return v.version===1?v.baseMediaDecodeTime=ED(h.subarray(4)):v.baseMediaDecodeTime=SD(h[4]<<24|h[5]<<16|h[6]<<8|h[7]),v},sb=CD,kD=function(h){return{isLeading:(h[0]&12)>>>2,dependsOn:h[0]&3,isDependedOn:(h[1]&192)>>>6,hasRedundancy:(h[1]&48)>>>4,paddingValue:(h[1]&14)>>>1,isNonSyncSample:h[1]&1,degradationPriority:h[2]<<8|h[3]}},ab=kD,PD=function(h){var v={version:h[0],flags:new Uint8Array(h.subarray(1,4)),samples:[]},m=new DataView(h.buffer,h.byteOffset,h.byteLength),_=v.flags[2]&1,x=v.flags[2]&4,w=v.flags[1]&1,D=v.flags[1]&2,L=v.flags[1]&4,F=v.flags[1]&8,N=m.getUint32(4),z=8,Q;for(_&&(v.dataOffset=m.getInt32(z),z+=4),x&&N&&(Q={flags:ab(h.subarray(z,z+4))},z+=4,w&&(Q.duration=m.getUint32(z),z+=4),D&&(Q.size=m.getUint32(z),z+=4),F&&(v.version===1?Q.compositionTimeOffset=m.getInt32(z):Q.compositionTimeOffset=m.getUint32(z),z+=4),v.samples.push(Q),N--);N--;)Q={},w&&(Q.duration=m.getUint32(z),z+=4),D&&(Q.size=m.getUint32(z),z+=4),L&&(Q.flags=ab(h.subarray(z,z+4)),z+=4),F&&(v.version===1?Q.compositionTimeOffset=m.getInt32(z):Q.compositionTimeOffset=m.getUint32(z),z+=4),v.samples.push(Q);return v},ob=PD,OD=function(h){var v=new DataView(h.buffer,h.byteOffset,h.byteLength),m={version:h[0],flags:new Uint8Array(h.subarray(1,4)),trackId:v.getUint32(4)},_=m.flags[2]&1,x=m.flags[2]&2,w=m.flags[2]&8,D=m.flags[2]&16,L=m.flags[2]&32,F=m.flags[0]&65536,N=m.flags[0]&131072,z;return z=8,_&&(z+=4,m.baseDataOffset=v.getUint32(12),z+=4),x&&(m.sampleDescriptionIndex=v.getUint32(z),z+=4),w&&(m.defaultSampleDuration=v.getUint32(z),z+=4),D&&(m.defaultSampleSize=v.getUint32(z),z+=4),L&&(m.defaultSampleFlags=v.getUint32(z)),F&&(m.durationIsEmpty=!0),!_&&N&&(m.baseDataOffsetIsMoof=!0),m},lb=OD,ub=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Xo;typeof window<"u"?Xo=window:typeof ub<"u"?Xo=ub:typeof self<"u"?Xo=self:Xo={};var Yo=Xo,AD=qo.discardEmulationPreventionBytes,ID=Oc.CaptionStream,DD=function(h,v){for(var m=h,_=0;_<v.length;_++){var x=v[_];if(m<x.size)return x;m-=x.size}return null},MD=function(h,v,m){var _=new DataView(h.buffer,h.byteOffset,h.byteLength),x={logs:[],seiNals:[]},w,D,L,F;for(D=0;D+4<h.length;D+=L)if(L=_.getUint32(D),D+=4,!(L<=0))switch(h[D]&31){case 6:var N=h.subarray(D+1,D+1+L),z=DD(D,v);if(w={nalUnitType:"sei_rbsp",size:L,data:N,escapedRBSP:AD(N),trackId:m},z)w.pts=z.pts,w.dts=z.dts,F=z;else if(F)w.pts=F.pts,w.dts=F.dts;else{x.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+D+" for trackId "+m+". See mux.js#223."});break}x.seiNals.push(w);break}return x},RD=function(h,v,m){var _=v,x=m.defaultSampleDuration||0,w=m.defaultSampleSize||0,D=m.trackId,L=[];return h.forEach(function(F){var N=ob(F),z=N.samples;z.forEach(function(Q){Q.duration===void 0&&(Q.duration=x),Q.size===void 0&&(Q.size=w),Q.trackId=D,Q.dts=_,Q.compositionTimeOffset===void 0&&(Q.compositionTimeOffset=0),typeof _=="bigint"?(Q.pts=_+Yo.BigInt(Q.compositionTimeOffset),_+=Yo.BigInt(Q.duration)):(Q.pts=_+Q.compositionTimeOffset,_+=Q.duration)}),L=L.concat(z)}),L},LD=function(h,v){var m=Ze(h,["moof","traf"]),_=Ze(h,["mdat"]),x={},w=[];return _.forEach(function(D,L){var F=m[L];w.push({mdat:D,traf:F})}),w.forEach(function(D){var L=D.mdat,F=D.traf,N=Ze(F,["tfhd"]),z=lb(N[0]),Q=z.trackId,ue=Ze(F,["tfdt"]),pe=ue.length>0?sb(ue[0]).baseMediaDecodeTime:0,re=Ze(F,["trun"]),we,kt;v===Q&&re.length>0&&(we=RD(re,pe,z),kt=MD(L,we,Q),x[Q]||(x[Q]={seiNals:[],logs:[]}),x[Q].seiNals=x[Q].seiNals.concat(kt.seiNals),x[Q].logs=x[Q].logs.concat(kt.logs))}),x},jD=function(h,v,m){var _;if(v===null)return null;_=LD(h,v);var x=_[v]||{};return{seiNals:x.seiNals,logs:x.logs,timescale:m}},ND=function(){var h=!1,v,m,_,x,w,D;this.isInitialized=function(){return h},this.init=function(L){v=new ID,h=!0,D=L?L.isPartial:!1,v.on("data",function(F){F.startTime=F.startPts/x,F.endTime=F.endPts/x,w.captions.push(F),w.captionStreams[F.stream]=!0}),v.on("log",function(F){w.logs.push(F)})},this.isNewInit=function(L,F){return L&&L.length===0||F&&typeof F=="object"&&Object.keys(F).length===0?!1:_!==L[0]||x!==F[_]},this.parse=function(L,F,N){var z;if(this.isInitialized()){if(!F||!N)return null;if(this.isNewInit(F,N))_=F[0],x=N[_];else if(_===null||!x)return m.push(L),null}else return null;for(;m.length>0;){var Q=m.shift();this.parse(Q,F,N)}return z=jD(L,_,x),z&&z.logs&&(w.logs=w.logs.concat(z.logs)),z===null||!z.seiNals?w.logs.length?{logs:w.logs,captions:[],captionStreams:[]}:null:(this.pushNals(z.seiNals),this.flushStream(),w)},this.pushNals=function(L){if(!this.isInitialized()||!L||L.length===0)return null;L.forEach(function(F){v.push(F)})},this.flushStream=function(){if(!this.isInitialized())return null;D?v.partialFlush():v.flush()},this.clearParsedCaptions=function(){w.captions=[],w.captionStreams={},w.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;v.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){m=[],_=null,x=null,w?this.clearParsedCaptions():w={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},FD=ND,zc=Bc.toUnsigned,Qo=Bc.toHexString,UD=n.getUint64,cb,db,fb,hb,pb,up;cb=function(h){var v={},m=Ze(h,["moov","trak"]);return m.reduce(function(_,x){var w,D,L,F,N;return w=Ze(x,["tkhd"])[0],!w||(D=w[0],L=D===0?12:20,F=zc(w[L]<<24|w[L+1]<<16|w[L+2]<<8|w[L+3]),N=Ze(x,["mdia","mdhd"])[0],!N)?null:(D=N[0],L=D===0?12:20,_[F]=zc(N[L]<<24|N[L+1]<<16|N[L+2]<<8|N[L+3]),_)},v)},db=function(h,v){var m;m=Ze(v,["moof","traf"]);var _=m.reduce(function(x,w){var D=Ze(w,["tfhd"])[0],L=zc(D[4]<<24|D[5]<<16|D[6]<<8|D[7]),F=h[L]||9e4,N=Ze(w,["tfdt"])[0],z=new DataView(N.buffer,N.byteOffset,N.byteLength),Q;N[0]===1?Q=UD(N.subarray(4,12)):Q=z.getUint32(4);var ue;return typeof Q=="bigint"?ue=Q/Yo.BigInt(F):typeof Q=="number"&&!isNaN(Q)&&(ue=Q/F),ue<Number.MAX_SAFE_INTEGER&&(ue=Number(ue)),ue<x&&(x=ue),x},1/0);return typeof _=="bigint"||isFinite(_)?_:0},fb=function(h,v){var m=Ze(v,["moof","traf"]),_=0,x=0,w;if(m&&m.length){var D=Ze(m[0],["tfhd"])[0],L=Ze(m[0],["trun"])[0],F=Ze(m[0],["tfdt"])[0];if(D){var N=lb(D);w=N.trackId}if(F){var z=sb(F);_=z.baseMediaDecodeTime}if(L){var Q=ob(L);Q.samples&&Q.samples.length&&(x=Q.samples[0].compositionTimeOffset||0)}}var ue=h[w]||9e4;typeof _=="bigint"&&(x=Yo.BigInt(x),ue=Yo.BigInt(ue));var pe=(_+x)/ue;return typeof pe=="bigint"&&pe<Number.MAX_SAFE_INTEGER&&(pe=Number(pe)),pe},hb=function(h){var v=Ze(h,["moov","trak"]),m=[];return v.forEach(function(_){var x=Ze(_,["mdia","hdlr"]),w=Ze(_,["tkhd"]);x.forEach(function(D,L){var F=Ts(D.subarray(8,12)),N=w[L],z,Q,ue;F==="vide"&&(z=new DataView(N.buffer,N.byteOffset,N.byteLength),Q=z.getUint8(0),ue=Q===0?z.getUint32(12):z.getUint32(20),m.push(ue))})}),m},up=function(h){var v=h[0],m=v===0?12:20;return zc(h[m]<<24|h[m+1]<<16|h[m+2]<<8|h[m+3])},pb=function(h){var v=Ze(h,["moov","trak"]),m=[];return v.forEach(function(_){var x={},w=Ze(_,["tkhd"])[0],D,L;w&&(D=new DataView(w.buffer,w.byteOffset,w.byteLength),L=D.getUint8(0),x.id=L===0?D.getUint32(12):D.getUint32(20));var F=Ze(_,["mdia","hdlr"])[0];if(F){var N=Ts(F.subarray(8,12));N==="vide"?x.type="video":N==="soun"?x.type="audio":x.type=N}var z=Ze(_,["mdia","minf","stbl","stsd"])[0];if(z){var Q=z.subarray(8);x.codec=Ts(Q.subarray(4,8));var ue=Ze(Q,[x.codec])[0],pe,re;ue&&(/^[asm]vc[1-9]$/i.test(x.codec)?(pe=ue.subarray(78),re=Ts(pe.subarray(4,8)),re==="avcC"&&pe.length>11?(x.codec+=".",x.codec+=Qo(pe[9]),x.codec+=Qo(pe[10]),x.codec+=Qo(pe[11])):x.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(x.codec)?(pe=ue.subarray(28),re=Ts(pe.subarray(4,8)),re==="esds"&&pe.length>20&&pe[19]!==0?(x.codec+="."+Qo(pe[19]),x.codec+="."+Qo(pe[20]>>>2&63).replace(/^0/,"")):x.codec="mp4a.40.2"):x.codec=x.codec.toLowerCase())}var we=Ze(_,["mdia","mdhd"])[0];we&&(x.timescale=up(we)),m.push(x)}),m};var mb={findBox:Ze,parseType:Ts,timescale:cb,startTime:db,compositionStartTime:fb,videoTrackIds:hb,tracks:pb,getTimescaleFromMediaHeader:up},vb=function(h){var v=h[1]&31;return v<<=8,v|=h[2],v},Vc=function(h){return!!(h[1]&64)},Hc=function(h){var v=0;return(h[3]&48)>>>4>1&&(v+=h[4]+1),v},BD=function(h,v){var m=vb(h);return m===0?"pat":m===v?"pmt":v?"pes":null},zD=function(h){var v=Vc(h),m=4+Hc(h);return v&&(m+=h[m]+1),(h[m+10]&31)<<8|h[m+11]},VD=function(h){var v={},m=Vc(h),_=4+Hc(h);if(m&&(_+=h[_]+1),!!(h[_+5]&1)){var x,w,D;x=(h[_+1]&15)<<8|h[_+2],w=3+x-4,D=(h[_+10]&15)<<8|h[_+11];for(var L=12+D;L<w;){var F=_+L;v[(h[F+1]&31)<<8|h[F+2]]=h[F],L+=((h[F+3]&15)<<8|h[F+4])+5}return v}},HD=function(h,v){var m=vb(h),_=v[m];switch(_){case Bt.H264_STREAM_TYPE:return"video";case Bt.ADTS_STREAM_TYPE:return"audio";case Bt.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},WD=function(h){var v=Vc(h);if(!v)return null;var m=4+Hc(h);if(m>=h.byteLength)return null;var _=null,x;return x=h[m+7],x&192&&(_={},_.pts=(h[m+9]&14)<<27|(h[m+10]&255)<<20|(h[m+11]&254)<<12|(h[m+12]&255)<<5|(h[m+13]&254)>>>3,_.pts*=4,_.pts+=(h[m+13]&6)>>>1,_.dts=_.pts,x&64&&(_.dts=(h[m+14]&14)<<27|(h[m+15]&255)<<20|(h[m+16]&254)<<12|(h[m+17]&255)<<5|(h[m+18]&254)>>>3,_.dts*=4,_.dts+=(h[m+18]&6)>>>1)),_},cp=function(h){switch(h){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},qD=function(h){for(var v=4+Hc(h),m=h.subarray(v),_=0,x=0,w=!1,D;x<m.byteLength-3;x++)if(m[x+2]===1){_=x+5;break}for(;_<m.byteLength;)switch(m[_]){case 0:if(m[_-1]!==0){_+=2;break}else if(m[_-2]!==0){_++;break}x+3!==_-2&&(D=cp(m[x+3]&31),D==="slice_layer_without_partitioning_rbsp_idr"&&(w=!0));do _++;while(m[_]!==1&&_<m.length);x=_-2,_+=3;break;case 1:if(m[_-1]!==0||m[_-2]!==0){_+=3;break}D=cp(m[x+3]&31),D==="slice_layer_without_partitioning_rbsp_idr"&&(w=!0),x=_-2,_+=3;break;default:_+=3;break}return m=m.subarray(x),_-=x,x=0,m&&m.byteLength>3&&(D=cp(m[x+3]&31),D==="slice_layer_without_partitioning_rbsp_idr"&&(w=!0)),w},$D={parseType:BD,parsePat:zD,parsePmt:VD,parsePayloadUnitStartIndicator:Vc,parsePesType:HD,parsePesTime:WD,videoPacketContainsKeyFrame:qD},fa=G_.handleRollover,He={};He.ts=$D,He.aac=Nc;var xs=Ne.ONE_SECOND_IN_TS,ci=188,Nn=71,GD=function(h,v){for(var m=0,_=ci,x,w;_<h.byteLength;){if(h[m]===Nn&&h[_]===Nn){switch(x=h.subarray(m,_),w=He.ts.parseType(x,v.pid),w){case"pat":v.pid=He.ts.parsePat(x);break;case"pmt":var D=He.ts.parsePmt(x);v.table=v.table||{},Object.keys(D).forEach(function(L){v.table[L]=D[L]});break}m+=ci,_+=ci;continue}m++,_++}},gb=function(h,v,m){for(var _=0,x=ci,w,D,L,F,N,z=!1;x<=h.byteLength;){if(h[_]===Nn&&(h[x]===Nn||x===h.byteLength)){switch(w=h.subarray(_,x),D=He.ts.parseType(w,v.pid),D){case"pes":L=He.ts.parsePesType(w,v.table),F=He.ts.parsePayloadUnitStartIndicator(w),L==="audio"&&F&&(N=He.ts.parsePesTime(w),N&&(N.type="audio",m.audio.push(N),z=!0));break}if(z)break;_+=ci,x+=ci;continue}_++,x++}for(x=h.byteLength,_=x-ci,z=!1;_>=0;){if(h[_]===Nn&&(h[x]===Nn||x===h.byteLength)){switch(w=h.subarray(_,x),D=He.ts.parseType(w,v.pid),D){case"pes":L=He.ts.parsePesType(w,v.table),F=He.ts.parsePayloadUnitStartIndicator(w),L==="audio"&&F&&(N=He.ts.parsePesTime(w),N&&(N.type="audio",m.audio.push(N),z=!0));break}if(z)break;_-=ci,x-=ci;continue}_--,x--}},KD=function(h,v,m){for(var _=0,x=ci,w,D,L,F,N,z,Q,ue,pe=!1,re={data:[],size:0};x<h.byteLength;){if(h[_]===Nn&&h[x]===Nn){switch(w=h.subarray(_,x),D=He.ts.parseType(w,v.pid),D){case"pes":if(L=He.ts.parsePesType(w,v.table),F=He.ts.parsePayloadUnitStartIndicator(w),L==="video"&&(F&&!pe&&(N=He.ts.parsePesTime(w),N&&(N.type="video",m.video.push(N),pe=!0)),!m.firstKeyFrame)){if(F&&re.size!==0){for(z=new Uint8Array(re.size),Q=0;re.data.length;)ue=re.data.shift(),z.set(ue,Q),Q+=ue.byteLength;if(He.ts.videoPacketContainsKeyFrame(z)){var we=He.ts.parsePesTime(z);we?(m.firstKeyFrame=we,m.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}re.size=0}re.data.push(w),re.size+=w.byteLength}break}if(pe&&m.firstKeyFrame)break;_+=ci,x+=ci;continue}_++,x++}for(x=h.byteLength,_=x-ci,pe=!1;_>=0;){if(h[_]===Nn&&h[x]===Nn){switch(w=h.subarray(_,x),D=He.ts.parseType(w,v.pid),D){case"pes":L=He.ts.parsePesType(w,v.table),F=He.ts.parsePayloadUnitStartIndicator(w),L==="video"&&F&&(N=He.ts.parsePesTime(w),N&&(N.type="video",m.video.push(N),pe=!0));break}if(pe)break;_-=ci,x-=ci;continue}_--,x--}},XD=function(h,v){if(h.audio&&h.audio.length){var m=v;(typeof m>"u"||isNaN(m))&&(m=h.audio[0].dts),h.audio.forEach(function(w){w.dts=fa(w.dts,m),w.pts=fa(w.pts,m),w.dtsTime=w.dts/xs,w.ptsTime=w.pts/xs})}if(h.video&&h.video.length){var _=v;if((typeof _>"u"||isNaN(_))&&(_=h.video[0].dts),h.video.forEach(function(w){w.dts=fa(w.dts,_),w.pts=fa(w.pts,_),w.dtsTime=w.dts/xs,w.ptsTime=w.pts/xs}),h.firstKeyFrame){var x=h.firstKeyFrame;x.dts=fa(x.dts,_),x.pts=fa(x.pts,_),x.dtsTime=x.dts/xs,x.ptsTime=x.pts/xs}}},YD=function(h){for(var v=!1,m=0,_=null,x=null,w=0,D=0,L;h.length-D>=3;){var F=He.aac.parseType(h,D);switch(F){case"timed-metadata":if(h.length-D<10){v=!0;break}if(w=He.aac.parseId3TagSize(h,D),w>h.length){v=!0;break}x===null&&(L=h.subarray(D,D+w),x=He.aac.parseAacTimestamp(L)),D+=w;break;case"audio":if(h.length-D<7){v=!0;break}if(w=He.aac.parseAdtsSize(h,D),w>h.length){v=!0;break}_===null&&(L=h.subarray(D,D+w),_=He.aac.parseSampleRate(L)),m++,D+=w;break;default:D++;break}if(v)return null}if(_===null||x===null)return null;var N=xs/_,z={audio:[{type:"audio",dts:x,pts:x},{type:"audio",dts:x+m*1024*N,pts:x+m*1024*N}]};return z},QD=function(h){var v={pid:null,table:null},m={};GD(h,v);for(var _ in v.table)if(v.table.hasOwnProperty(_)){var x=v.table[_];switch(x){case Bt.H264_STREAM_TYPE:m.video=[],KD(h,v,m),m.video.length===0&&delete m.video;break;case Bt.ADTS_STREAM_TYPE:m.audio=[],gb(h,v,m),m.audio.length===0&&delete m.audio;break}}return m},JD=function(h,v){var m=He.aac.isLikelyAacData(h),_;return m?_=YD(h):_=QD(h),!_||!_.audio&&!_.video?null:(XD(_,v),_)},ZD={inspect:JD,parseAudioPes_:gb},eM=function(h,v){v.on("data",function(m){var _=m.initSegment;m.initSegment={data:_.buffer,byteOffset:_.byteOffset,byteLength:_.byteLength};var x=m.data;m.data=x.buffer,h.postMessage({action:"data",segment:m,byteOffset:x.byteOffset,byteLength:x.byteLength},[m.data])}),v.on("done",function(m){h.postMessage({action:"done"})}),v.on("gopInfo",function(m){h.postMessage({action:"gopInfo",gopInfo:m})}),v.on("videoSegmentTimingInfo",function(m){var _={start:{decode:Ne.videoTsToSeconds(m.start.dts),presentation:Ne.videoTsToSeconds(m.start.pts)},end:{decode:Ne.videoTsToSeconds(m.end.dts),presentation:Ne.videoTsToSeconds(m.end.pts)},baseMediaDecodeTime:Ne.videoTsToSeconds(m.baseMediaDecodeTime)};m.prependedContentDuration&&(_.prependedContentDuration=Ne.videoTsToSeconds(m.prependedContentDuration)),h.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:_})}),v.on("audioSegmentTimingInfo",function(m){var _={start:{decode:Ne.videoTsToSeconds(m.start.dts),presentation:Ne.videoTsToSeconds(m.start.pts)},end:{decode:Ne.videoTsToSeconds(m.end.dts),presentation:Ne.videoTsToSeconds(m.end.pts)},baseMediaDecodeTime:Ne.videoTsToSeconds(m.baseMediaDecodeTime)};m.prependedContentDuration&&(_.prependedContentDuration=Ne.videoTsToSeconds(m.prependedContentDuration)),h.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:_})}),v.on("id3Frame",function(m){h.postMessage({action:"id3Frame",id3Frame:m})}),v.on("caption",function(m){h.postMessage({action:"caption",caption:m})}),v.on("trackinfo",function(m){h.postMessage({action:"trackinfo",trackInfo:m})}),v.on("audioTimingInfo",function(m){h.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:Ne.videoTsToSeconds(m.start),end:Ne.videoTsToSeconds(m.end)}})}),v.on("videoTimingInfo",function(m){h.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:Ne.videoTsToSeconds(m.start),end:Ne.videoTsToSeconds(m.end)}})}),v.on("log",function(m){h.postMessage({action:"log",log:m})})},yb=function(){function k(v,m){this.options=m||{},this.self=v,this.init()}var h=k.prototype;return h.init=function(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new yD.Transmuxer(this.options),eM(this.self,this.transmuxer)},h.pushMp4Captions=function(m){this.captionParser||(this.captionParser=new FD,this.captionParser.init());var _=new Uint8Array(m.data,m.byteOffset,m.byteLength),x=this.captionParser.parse(_,m.trackIds,m.timescales);this.self.postMessage({action:"mp4Captions",captions:x&&x.captions||[],logs:x&&x.logs||[],data:_.buffer},[_.buffer])},h.probeMp4StartTime=function(m){var _=m.timescales,x=m.data,w=mb.startTime(_,x);this.self.postMessage({action:"probeMp4StartTime",startTime:w,data:x},[x.buffer])},h.probeMp4Tracks=function(m){var _=m.data,x=mb.tracks(_);this.self.postMessage({action:"probeMp4Tracks",tracks:x,data:_},[_.buffer])},h.probeTs=function(m){var _=m.data,x=m.baseStartTime,w=typeof x=="number"&&!isNaN(x)?x*Ne.ONE_SECOND_IN_TS:void 0,D=ZD.inspect(_,w),L=null;D&&(L={hasVideo:D.video&&D.video.length===2||!1,hasAudio:D.audio&&D.audio.length===2||!1},L.hasVideo&&(L.videoStart=D.video[0].ptsTime),L.hasAudio&&(L.audioStart=D.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:L,data:_},[_.buffer])},h.clearAllMp4Captions=function(){this.captionParser&&this.captionParser.clearAllCaptions()},h.clearParsedMp4Captions=function(){this.captionParser&&this.captionParser.clearParsedCaptions()},h.push=function(m){var _=new Uint8Array(m.data,m.byteOffset,m.byteLength);this.transmuxer.push(_)},h.reset=function(){this.transmuxer.reset()},h.setTimestampOffset=function(m){var _=m.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(Ne.secondsToVideoTs(_)))},h.setAudioAppendStart=function(m){this.transmuxer.setAudioAppendStart(Math.ceil(Ne.secondsToVideoTs(m.appendStart)))},h.setRemux=function(m){this.transmuxer.setRemux(m.remux)},h.flush=function(m){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})},h.endTimeline=function(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})},h.alignGopsWith=function(m){this.transmuxer.alignGopsWith(m.gopsToAlignWith.slice())},k}();self.onmessage=function(k){if(k.data.action==="init"&&k.data.options){this.messageHandlers=new yb(self,k.data.options);return}this.messageHandlers||(this.messageHandlers=new yb(self)),k.data&&k.data.action&&k.data.action!=="init"&&this.messageHandlers[k.data.action]&&this.messageHandlers[k.data.action](k.data)}})),h7=AA(f7),p7=function(e,i,r){var n=e.data.segment,s=n.type,a=n.initSegment,o=n.captions,l=n.captionStreams,u=n.metadata,c=n.videoFrameDtsTime,f=n.videoFramePtsTime;i.buffer.push({captions:o,captionStreams:l,metadata:u});var d=e.data.segment.boxes||{data:e.data.segment.data},p={type:s,data:new Uint8Array(d.data,d.data.byteOffset,d.data.byteLength),initSegment:new Uint8Array(a.data,a.byteOffset,a.byteLength)};typeof c<"u"&&(p.videoFrameDtsTime=c),typeof f<"u"&&(p.videoFramePtsTime=f),r(p)},m7=function(e){var i=e.transmuxedData,r=e.callback;i.buffer=[],r(i)},v7=function(e,i){i.gopInfo=e.data.gopInfo},MA=function(e){var i=e.transmuxer,r=e.bytes,n=e.audioAppendStart,s=e.gopsToAlignWith,a=e.remux,o=e.onData,l=e.onTrackInfo,u=e.onAudioTimingInfo,c=e.onVideoTimingInfo,f=e.onVideoSegmentTimingInfo,d=e.onAudioSegmentTimingInfo,p=e.onId3,g=e.onCaptions,b=e.onDone,y=e.onEndedTimeline,T=e.onTransmuxerLog,S=e.isEndOfTimeline,I={buffer:[]},O=S,M=function(C){i.currentTransmux===e&&(C.data.action==="data"&&p7(C,I,o),C.data.action==="trackinfo"&&l(C.data.trackInfo),C.data.action==="gopInfo"&&v7(C,I),C.data.action==="audioTimingInfo"&&u(C.data.audioTimingInfo),C.data.action==="videoTimingInfo"&&c(C.data.videoTimingInfo),C.data.action==="videoSegmentTimingInfo"&&f(C.data.videoSegmentTimingInfo),C.data.action==="audioSegmentTimingInfo"&&d(C.data.audioSegmentTimingInfo),C.data.action==="id3Frame"&&p([C.data.id3Frame],C.data.id3Frame.dispatchType),C.data.action==="caption"&&g(C.data.caption),C.data.action==="endedtimeline"&&(O=!1,y()),C.data.action==="log"&&T(C.data.log),C.data.type==="transmuxed"&&(O||(i.onmessage=null,m7({transmuxedData:I,callback:b}),RA(i))))};if(i.onmessage=M,n&&i.postMessage({action:"setAudioAppendStart",appendStart:n}),Array.isArray(s)&&i.postMessage({action:"alignGopsWith",gopsToAlignWith:s}),typeof a<"u"&&i.postMessage({action:"setRemux",remux:a}),r.byteLength){var R=r instanceof ArrayBuffer?r:r.buffer,A=r instanceof ArrayBuffer?0:r.byteOffset;i.postMessage({action:"push",data:R,byteOffset:A,byteLength:r.byteLength},[R])}S&&i.postMessage({action:"endTimeline"}),i.postMessage({action:"flush"})},RA=function(e){e.currentTransmux=null,e.transmuxQueue.length&&(e.currentTransmux=e.transmuxQueue.shift(),typeof e.currentTransmux=="function"?e.currentTransmux():MA(e.currentTransmux))},oS=function(e,i){e.postMessage({action:i}),RA(e)},LA=function(e,i){if(!i.currentTransmux){i.currentTransmux=e,oS(i,e);return}i.transmuxQueue.push(oS.bind(null,i,e))},g7=function(e){LA("reset",e)},y7=function(e){LA("endTimeline",e)},jA=function(e){if(!e.transmuxer.currentTransmux){e.transmuxer.currentTransmux=e,MA(e);return}e.transmuxer.transmuxQueue.push(e)},_7=function(e){var i=new h7;i.currentTransmux=null,i.transmuxQueue=[];var r=i.terminate;return i.terminate=function(){return i.currentTransmux=null,i.transmuxQueue.length=0,r.call(i)},i.postMessage({action:"init",options:e}),i},Dm={reset:g7,endTimeline:y7,transmux:jA,createTransmuxer:_7},Wf=function(e){var i=e.transmuxer,r=e.endAction||e.action,n=e.callback,s=yn({},e,{endAction:null,transmuxer:null,callback:null}),a=function u(c){c.data.action===r&&(i.removeEventListener("message",u),c.data.data&&(c.data.data=new Uint8Array(c.data.data,e.byteOffset||0,e.byteLength||c.data.data.byteLength),e.data&&(e.data=c.data.data)),n(c.data))};if(i.addEventListener("message",a),e.data){var o=e.data instanceof ArrayBuffer;s.byteOffset=o?0:e.data.byteOffset,s.byteLength=e.data.byteLength;var l=[o?e.data:e.data.buffer];i.postMessage(s,l)}else i.postMessage(s)},Gn={FAILURE:2,TIMEOUT:-101,ABORTED:-102},Ng=function(e){e.forEach(function(i){i.abort()})},b7=function(e){return{bandwidth:e.bandwidth,bytesReceived:e.bytesReceived||0,roundTripTime:e.roundTripTime||0}},T7=function(e){var i=e.target,r=Date.now()-i.requestTime,n={bandwidth:1/0,bytesReceived:0,roundTripTime:r||0};return n.bytesReceived=e.loaded,n.bandwidth=Math.floor(n.bytesReceived/n.roundTripTime*8*1e3),n},j_=function(e,i){return i.timedout?{status:i.status,message:"HLS request timed-out at URL: "+i.uri,code:Gn.TIMEOUT,xhr:i}:i.aborted?{status:i.status,message:"HLS request aborted at URL: "+i.uri,code:Gn.ABORTED,xhr:i}:e?{status:i.status,message:"HLS request errored at URL: "+i.uri,code:Gn.FAILURE,xhr:i}:i.responseType==="arraybuffer"&&i.response.byteLength===0?{status:i.status,message:"Empty HLS response at URL: "+i.uri,code:Gn.FAILURE,xhr:i}:null},lS=function(e,i,r){return function(n,s){var a=s.response,o=j_(n,s);if(o)return r(o,e);if(a.byteLength!==16)return r({status:s.status,message:"Invalid HLS key at URL: "+s.uri,code:Gn.FAILURE,xhr:s},e);for(var l=new DataView(a),u=new Uint32Array([l.getUint32(0),l.getUint32(4),l.getUint32(8),l.getUint32(12)]),c=0;c<i.length;c++)i[c].bytes=u;return r(null,e)}},NA=function(e,i){var r=Qy(e.map.bytes);if(r!=="mp4"){var n=e.map.resolvedUri||e.map.uri;return i({internal:!0,message:"Found unsupported "+(r||"unknown")+" container for initialization segment at URL: "+n,code:Gn.FAILURE})}Wf({action:"probeMp4Tracks",data:e.map.bytes,transmuxer:e.transmuxer,callback:function(a){var o=a.tracks,l=a.data;return e.map.bytes=l,o.forEach(function(u){e.map.tracks=e.map.tracks||{},!e.map.tracks[u.type]&&(e.map.tracks[u.type]=u,typeof u.id=="number"&&u.timescale&&(e.map.timescales=e.map.timescales||{},e.map.timescales[u.id]=u.timescale))}),i(null)}})},x7=function(e){var i=e.segment,r=e.finishProcessingFn;return function(n,s){var a=j_(n,s);if(a)return r(a,i);var o=new Uint8Array(s.response);if(i.map.key)return i.map.encryptedBytes=o,r(null,i);i.map.bytes=o,NA(i,function(l){if(l)return l.xhr=s,l.status=s.status,r(l,i);r(null,i)})}},w7=function(e){var i=e.segment,r=e.finishProcessingFn,n=e.responseType;return function(s,a){var o=j_(s,a);if(o)return r(o,i);var l=n==="arraybuffer"||!a.responseText?a.response:c7(a.responseText.substring(i.lastReachedChar||0));return i.stats=b7(a),i.key?i.encryptedBytes=new Uint8Array(l):i.bytes=new Uint8Array(l),r(null,i)}},S7=function(e){var i=e.segment,r=e.bytes,n=e.trackInfoFn,s=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,o=e.audioSegmentTimingInfoFn,l=e.id3Fn,u=e.captionsFn,c=e.isEndOfTimeline,f=e.endedTimelineFn,d=e.dataFn,p=e.doneFn,g=e.onTransmuxerLog,b=i.map&&i.map.tracks||{},y=Boolean(b.audio&&b.video),T=s.bind(null,i,"audio","start"),S=s.bind(null,i,"audio","end"),I=s.bind(null,i,"video","start"),O=s.bind(null,i,"video","end"),M=function(){return jA({bytes:r,transmuxer:i.transmuxer,audioAppendStart:i.audioAppendStart,gopsToAlignWith:i.gopsToAlignWith,remux:y,onData:function(E){E.type=E.type==="combined"?"video":E.type,d(i,E)},onTrackInfo:function(E){n&&(y&&(E.isMuxed=!0),n(i,E))},onAudioTimingInfo:function(E){T&&typeof E.start<"u"&&(T(E.start),T=null),S&&typeof E.end<"u"&&S(E.end)},onVideoTimingInfo:function(E){I&&typeof E.start<"u"&&(I(E.start),I=null),O&&typeof E.end<"u"&&O(E.end)},onVideoSegmentTimingInfo:function(E){a(E)},onAudioSegmentTimingInfo:function(E){o(E)},onId3:function(E,C){l(i,E,C)},onCaptions:function(E){u(i,[E])},isEndOfTimeline:c,onEndedTimeline:function(){f()},onTransmuxerLog:g,onDone:function(E){!p||(E.type=E.type==="combined"?"video":E.type,p(null,i,E))}})};Wf({action:"probeTs",transmuxer:i.transmuxer,data:r,baseStartTime:i.baseStartTime,callback:function(A){i.bytes=r=A.data;var E=A.result;E&&(n(i,{hasAudio:E.hasAudio,hasVideo:E.hasVideo,isMuxed:y}),n=null,E.hasAudio&&!y&&T(E.audioStart),E.hasVideo&&I(E.videoStart),T=null,I=null),M()}})},FA=function(e){var i=e.segment,r=e.bytes,n=e.trackInfoFn,s=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,o=e.audioSegmentTimingInfoFn,l=e.id3Fn,u=e.captionsFn,c=e.isEndOfTimeline,f=e.endedTimelineFn,d=e.dataFn,p=e.doneFn,g=e.onTransmuxerLog,b=new Uint8Array(r);if($6(b)){i.isFmp4=!0;var y=i.map.tracks,T={isFmp4:!0,hasVideo:!!y.video,hasAudio:!!y.audio};y.audio&&y.audio.codec&&y.audio.codec!=="enca"&&(T.audioCodec=y.audio.codec),y.video&&y.video.codec&&y.video.codec!=="encv"&&(T.videoCodec=y.video.codec),y.video&&y.audio&&(T.isMuxed=!0),n(i,T);var S=function(O){d(i,{data:b,type:T.hasAudio&&!T.isMuxed?"audio":"video"}),O&&O.length&&u(i,O),p(null,i,{})};Wf({action:"probeMp4StartTime",timescales:i.map.timescales,data:b,transmuxer:i.transmuxer,callback:function(O){var M=O.data,R=O.startTime;if(r=M.buffer,i.bytes=b=M,T.hasAudio&&!T.isMuxed&&s(i,"audio","start",R),T.hasVideo&&s(i,"video","start",R),!y.video||!M.byteLength||!i.transmuxer){S();return}Wf({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:i.transmuxer,data:b,timescales:i.map.timescales,trackIds:[y.video.id],callback:function(E){r=E.data.buffer,i.bytes=b=E.data,E.logs.forEach(function(C){g(V.mergeOptions(C,{stream:"mp4CaptionParser"}))}),S(E.captions)}})}});return}if(!i.transmuxer){p(null,i,{});return}if(typeof i.container>"u"&&(i.container=Qy(b)),i.container!=="ts"&&i.container!=="aac"){n(i,{hasAudio:!1,hasVideo:!1}),p(null,i,{});return}S7({segment:i,bytes:r,trackInfoFn:n,timingInfoFn:s,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:o,id3Fn:l,captionsFn:u,isEndOfTimeline:c,endedTimelineFn:f,dataFn:d,doneFn:p,onTransmuxerLog:g})},UA=function(e,i){var r=e.id,n=e.key,s=e.encryptedBytes,a=e.decryptionWorker,o=function u(c){if(c.data.source===r){a.removeEventListener("message",u);var f=c.data.decrypted;i(new Uint8Array(f.bytes,f.byteOffset,f.byteLength))}};a.addEventListener("message",o);var l;n.bytes.slice?l=n.bytes.slice():l=new Uint32Array(Array.prototype.slice.call(n.bytes)),a.postMessage(SA({source:r,encrypted:s,key:l,iv:n.iv}),[s.buffer,l.buffer])},E7=function(e){var i=e.decryptionWorker,r=e.segment,n=e.trackInfoFn,s=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,o=e.audioSegmentTimingInfoFn,l=e.id3Fn,u=e.captionsFn,c=e.isEndOfTimeline,f=e.endedTimelineFn,d=e.dataFn,p=e.doneFn,g=e.onTransmuxerLog;UA({id:r.requestId,key:r.key,encryptedBytes:r.encryptedBytes,decryptionWorker:i},function(b){r.bytes=b,FA({segment:r,bytes:r.bytes,trackInfoFn:n,timingInfoFn:s,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:o,id3Fn:l,captionsFn:u,isEndOfTimeline:c,endedTimelineFn:f,dataFn:d,doneFn:p,onTransmuxerLog:g})})},C7=function(e){var i=e.activeXhrs,r=e.decryptionWorker,n=e.trackInfoFn,s=e.timingInfoFn,a=e.videoSegmentTimingInfoFn,o=e.audioSegmentTimingInfoFn,l=e.id3Fn,u=e.captionsFn,c=e.isEndOfTimeline,f=e.endedTimelineFn,d=e.dataFn,p=e.doneFn,g=e.onTransmuxerLog,b=0,y=!1;return function(T,S){if(!y){if(T)return y=!0,Ng(i),p(T,S);if(b+=1,b===i.length){var I=function(){if(S.encryptedBytes)return E7({decryptionWorker:r,segment:S,trackInfoFn:n,timingInfoFn:s,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:o,id3Fn:l,captionsFn:u,isEndOfTimeline:c,endedTimelineFn:f,dataFn:d,doneFn:p,onTransmuxerLog:g});FA({segment:S,bytes:S.bytes,trackInfoFn:n,timingInfoFn:s,videoSegmentTimingInfoFn:a,audioSegmentTimingInfoFn:o,id3Fn:l,captionsFn:u,isEndOfTimeline:c,endedTimelineFn:f,dataFn:d,doneFn:p,onTransmuxerLog:g})};if(S.endOfAllRequests=Date.now(),S.map&&S.map.encryptedBytes&&!S.map.bytes)return UA({decryptionWorker:r,id:S.requestId+"-init",encryptedBytes:S.map.encryptedBytes,key:S.map.key},function(O){S.map.bytes=O,NA(S,function(M){if(M)return Ng(i),p(M,S);I()})});I()}}}},k7=function(e){var i=e.loadendState,r=e.abortFn;return function(n){var s=n.target;s.aborted&&r&&!i.calledAbortFn&&(r(),i.calledAbortFn=!0)}},P7=function(e){var i=e.segment,r=e.progressFn;return e.trackInfoFn,e.timingInfoFn,e.videoSegmentTimingInfoFn,e.audioSegmentTimingInfoFn,e.id3Fn,e.captionsFn,e.isEndOfTimeline,e.endedTimelineFn,e.dataFn,function(n){var s=n.target;if(!s.aborted)return i.stats=V.mergeOptions(i.stats,T7(n)),!i.stats.firstBytesReceivedAt&&i.stats.bytesReceived&&(i.stats.firstBytesReceivedAt=Date.now()),r(n,i)}},O7=function(e){var i=e.xhr,r=e.xhrOptions,n=e.decryptionWorker,s=e.segment,a=e.abortFn,o=e.progressFn,l=e.trackInfoFn,u=e.timingInfoFn,c=e.videoSegmentTimingInfoFn,f=e.audioSegmentTimingInfoFn,d=e.id3Fn,p=e.captionsFn,g=e.isEndOfTimeline,b=e.endedTimelineFn,y=e.dataFn,T=e.doneFn,S=e.onTransmuxerLog,I=[],O=C7({activeXhrs:I,decryptionWorker:n,trackInfoFn:l,timingInfoFn:u,videoSegmentTimingInfoFn:c,audioSegmentTimingInfoFn:f,id3Fn:d,captionsFn:p,isEndOfTimeline:g,endedTimelineFn:b,dataFn:y,doneFn:T,onTransmuxerLog:S});if(s.key&&!s.key.bytes){var M=[s.key];s.map&&!s.map.bytes&&s.map.key&&s.map.key.resolvedUri===s.key.resolvedUri&&M.push(s.map.key);var R=V.mergeOptions(r,{uri:s.key.resolvedUri,responseType:"arraybuffer"}),A=lS(s,M,O),E=i(R,A);I.push(E)}if(s.map&&!s.map.bytes){var C=s.map.key&&(!s.key||s.key.resolvedUri!==s.map.key.resolvedUri);if(C){var P=V.mergeOptions(r,{uri:s.map.key.resolvedUri,responseType:"arraybuffer"}),U=lS(s,[s.map.key],O),B=i(P,U);I.push(B)}var G=V.mergeOptions(r,{uri:s.map.resolvedUri,responseType:"arraybuffer",headers:Lg(s.map)}),W=x7({segment:s,finishProcessingFn:O}),Y=i(G,W);I.push(Y)}var ee=V.mergeOptions(r,{uri:s.part&&s.part.resolvedUri||s.resolvedUri,responseType:"arraybuffer",headers:Lg(s)}),K=w7({segment:s,finishProcessingFn:O,responseType:ee.responseType}),q=i(ee,K);q.addEventListener("progress",P7({segment:s,progressFn:o,trackInfoFn:l,timingInfoFn:u,videoSegmentTimingInfoFn:c,audioSegmentTimingInfoFn:f,id3Fn:d,captionsFn:p,isEndOfTimeline:g,endedTimelineFn:b,dataFn:y})),I.push(q);var X={};return I.forEach(function(Z){Z.addEventListener("loadend",k7({loadendState:X,abortFn:a}))}),function(){return Ng(I)}},A7=jn("CodecUtils"),I7=function(e){var i=e.attributes||{};if(i.CODECS)return Un(i.CODECS)},BA=function(e,i){var r=i.attributes||{};return e&&e.mediaGroups&&e.mediaGroups.AUDIO&&r.AUDIO&&e.mediaGroups.AUDIO[r.AUDIO]},D7=function(e,i){if(!BA(e,i))return!0;var r=i.attributes||{},n=e.mediaGroups.AUDIO[r.AUDIO];for(var s in n)if(!n[s].uri&&!n[s].playlists)return!0;return!1},qf=function(e){var i={};return e.forEach(function(r){var n=r.mediaType,s=r.type,a=r.details;i[n]=i[n]||[],i[n].push(aP(""+s+a))}),Object.keys(i).forEach(function(r){if(i[r].length>1){A7("multiple "+r+" codecs found as attributes: "+i[r].join(", ")+". Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs."),i[r]=null;return}i[r]=i[r][0]}),i},uS=function(e){var i=0;return e.audio&&i++,e.video&&i++,i},su=function(e,i){var r=i.attributes||{},n=qf(I7(i)||[]);if(BA(e,i)&&!n.audio&&!D7(e,i)){var s=qf(Q8(e,r.AUDIO)||[]);s.audio&&(n.audio=s.audio)}return n},md=jn("PlaylistSelector"),cS=function(e){if(!(!e||!e.playlist)){var i=e.playlist;return JSON.stringify({id:i.id,bandwidth:e.bandwidth,width:e.width,height:e.height,codecs:i.attributes&&i.attributes.CODECS||""})}},$f=function(e,i){if(!e)return"";var r=j.getComputedStyle(e);return r?r[i]:""},Za=function(e,i){var r=e.slice();e.sort(function(n,s){var a=i(n,s);return a===0?r.indexOf(n)-r.indexOf(s):a})},N_=function(e,i){var r,n;return e.attributes.BANDWIDTH&&(r=e.attributes.BANDWIDTH),r=r||j.Number.MAX_VALUE,i.attributes.BANDWIDTH&&(n=i.attributes.BANDWIDTH),n=n||j.Number.MAX_VALUE,r-n},M7=function(e,i){var r,n;return e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(r=e.attributes.RESOLUTION.width),r=r||j.Number.MAX_VALUE,i.attributes.RESOLUTION&&i.attributes.RESOLUTION.width&&(n=i.attributes.RESOLUTION.width),n=n||j.Number.MAX_VALUE,r===n&&e.attributes.BANDWIDTH&&i.attributes.BANDWIDTH?e.attributes.BANDWIDTH-i.attributes.BANDWIDTH:r-n},zA=function(e,i,r,n,s,a){if(!!e){var o={bandwidth:i,width:r,height:n,limitRenditionByPlayerDimensions:s},l=e.playlists;ji.isAudioOnly(e)&&(l=a.getAudioTrackPlaylists_(),o.audioOnly=!0);var u=l.map(function(P){var U,B=P.attributes&&P.attributes.RESOLUTION&&P.attributes.RESOLUTION.width,G=P.attributes&&P.attributes.RESOLUTION&&P.attributes.RESOLUTION.height;return U=P.attributes&&P.attributes.BANDWIDTH,U=U||j.Number.MAX_VALUE,{bandwidth:U,width:B,height:G,playlist:P}});Za(u,function(P,U){return P.bandwidth-U.bandwidth}),u=u.filter(function(P){return!ji.isIncompatible(P.playlist)});var c=u.filter(function(P){return ji.isEnabled(P.playlist)});c.length||(c=u.filter(function(P){return!ji.isDisabled(P.playlist)}));var f=c.filter(function(P){return P.bandwidth*Rt.BANDWIDTH_VARIANCE<i}),d=f[f.length-1],p=f.filter(function(P){return P.bandwidth===d.bandwidth})[0];if(s===!1){var g=p||c[0]||u[0];if(g&&g.playlist){var b="sortedPlaylistReps";return p&&(b="bandwidthBestRep"),c[0]&&(b="enabledPlaylistReps"),md("choosing "+cS(g)+" using "+b+" with options",o),g.playlist}return md("could not choose a playlist with options",o),null}var y=f.filter(function(P){return P.width&&P.height});Za(y,function(P,U){return P.width-U.width});var T=y.filter(function(P){return P.width===r&&P.height===n});d=T[T.length-1];var S=T.filter(function(P){return P.bandwidth===d.bandwidth})[0],I,O,M;S||(I=y.filter(function(P){return P.width>r||P.height>n}),O=I.filter(function(P){return P.width===I[0].width&&P.height===I[0].height}),d=O[O.length-1],M=O.filter(function(P){return P.bandwidth===d.bandwidth})[0]);var R;if(a.experimentalLeastPixelDiffSelector){var A=y.map(function(P){return P.pixelDiff=Math.abs(P.width-r)+Math.abs(P.height-n),P});Za(A,function(P,U){return P.pixelDiff===U.pixelDiff?U.bandwidth-P.bandwidth:P.pixelDiff-U.pixelDiff}),R=A[0]}var E=R||M||S||p||c[0]||u[0];if(E&&E.playlist){var C="sortedPlaylistReps";return R?C="leastPixelDiffRep":M?C="resolutionPlusOneRep":S?C="resolutionBestRep":p?C="bandwidthBestRep":c[0]&&(C="enabledPlaylistReps"),md("choosing "+cS(E)+" using "+C+" with options",o),E.playlist}return md("could not choose a playlist with options",o),null}},dS=function(){var e=this.useDevicePixelRatio&&j.devicePixelRatio||1;return zA(this.playlists.master,this.systemBandwidth,parseInt($f(this.tech_.el(),"width"),10)*e,parseInt($f(this.tech_.el(),"height"),10)*e,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)},R7=function(e){var i=-1,r=-1;if(e<0||e>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){var n=this.useDevicePixelRatio&&j.devicePixelRatio||1;return i<0&&(i=this.systemBandwidth,r=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==r&&(i=e*this.systemBandwidth+(1-e)*i,r=this.systemBandwidth),zA(this.playlists.master,i,parseInt($f(this.tech_.el(),"width"),10)*n,parseInt($f(this.tech_.el(),"height"),10)*n,this.limitRenditionByPlayerDimensions,this.masterPlaylistController_)}},L7=function(e){var i=e.master,r=e.currentTime,n=e.bandwidth,s=e.duration,a=e.segmentDuration,o=e.timeUntilRebuffer,l=e.currentTimeline,u=e.syncController,c=i.playlists.filter(function(b){return!ji.isIncompatible(b)}),f=c.filter(ji.isEnabled);f.length||(f=c.filter(function(b){return!ji.isDisabled(b)}));var d=f.filter(ji.hasAttribute.bind(null,"BANDWIDTH")),p=d.map(function(b){var y=u.getSyncPoint(b,s,l,r),T=y?1:2,S=ji.estimateSegmentRequestTime(a,n,b),I=S*T-o;return{playlist:b,rebufferingImpact:I}}),g=p.filter(function(b){return b.rebufferingImpact<=0});return Za(g,function(b,y){return N_(y.playlist,b.playlist)}),g.length?g[0]:(Za(p,function(b,y){return b.rebufferingImpact-y.rebufferingImpact}),p[0]||null)},j7=function(){var e=this,i=this.playlists.master.playlists.filter(ji.isEnabled);Za(i,function(n,s){return N_(n,s)});var r=i.filter(function(n){return!!su(e.playlists.master,n).video});return r[0]||null},N7=function(e){var i=0,r;return e.bytes&&(r=new Uint8Array(e.bytes),e.segments.forEach(function(n){r.set(n,i),i+=n.byteLength})),r},F7=function(e,i,r){if(!e[r]){i.trigger({type:"usage",name:"vhs-608"}),i.trigger({type:"usage",name:"hls-608"});var n=r;/^cc708_/.test(r)&&(n="SERVICE"+r.split("_")[1]);var s=i.textTracks().getTrackById(n);if(s)e[r]=s;else{var a=i.options_.vhs&&i.options_.vhs.captionServices||{},o=r,l=r,u=!1,c=a[n];c&&(o=c.label,l=c.language,u=c.default),e[r]=i.addRemoteTextTrack({kind:"captions",id:n,default:u,label:o,language:l},!1).track}}},U7=function(e){var i=e.inbandTextTracks,r=e.captionArray,n=e.timestampOffset;if(!!r){var s=j.WebKitDataCue||j.VTTCue;r.forEach(function(a){var o=a.stream;i[o].addCue(new s(a.startTime+n,a.endTime+n,a.text))})}},B7=function(e){Object.defineProperties(e.frame,{id:{get:function(){return V.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),e.value.key}},value:{get:function(){return V.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),e.value.data}},privateData:{get:function(){return V.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),e.value.data}}})},z7=function(e){var i=e.inbandTextTracks,r=e.metadataArray,n=e.timestampOffset,s=e.videoDuration;if(!!r){var a=j.WebKitDataCue||j.VTTCue,o=i.metadataTrack_;if(!!o&&(r.forEach(function(p){var g=p.cueTime+n;typeof g!="number"||j.isNaN(g)||g<0||!(g<1/0)||p.frames.forEach(function(b){var y=new a(g,g,b.value||b.url||b.data||"");y.frame=b,y.value=b,B7(y),o.addCue(y)})}),!(!o.cues||!o.cues.length))){for(var l=o.cues,u=[],c=0;c<l.length;c++)l[c]&&u.push(l[c]);var f=u.reduce(function(p,g){var b=p[g.startTime]||[];return b.push(g),p[g.startTime]=b,p},{}),d=Object.keys(f).sort(function(p,g){return Number(p)-Number(g)});d.forEach(function(p,g){var b=f[p],y=Number(d[g+1])||s;b.forEach(function(T){T.endTime=y})})}}},V7=function(e,i,r){e.metadataTrack_||(e.metadataTrack_=r.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,e.metadataTrack_.inBandMetadataTrackDispatchType=i)},Ll=function(e,i,r){var n,s;if(!!r&&!!r.cues)for(n=r.cues.length;n--;)s=r.cues[n],s.startTime>=e&&s.endTime<=i&&r.removeCue(s)},H7=function(e){var i=e.cues;if(!!i)for(var r=0;r<i.length;r++){for(var n=[],s=0,a=0;a<i.length;a++)i[r].startTime===i[a].startTime&&i[r].endTime===i[a].endTime&&i[r].text===i[a].text&&(s++,s>1&&n.push(i[a]));n.length&&n.forEach(function(o){return e.removeCue(o)})}},W7=function(e,i,r){if(typeof i>"u"||i===null||!e.length)return[];var n=Math.ceil((i-r+3)*If.ONE_SECOND_IN_TS),s;for(s=0;s<e.length&&!(e[s].pts>n);s++);return e.slice(s)},q7=function(e,i,r){if(!i.length)return e;if(r)return i.slice();var n=i[0].pts,s=0;for(s;s<e.length&&!(e[s].pts>=n);s++);return e.slice(0,s).concat(i)},$7=function(e,i,r,n){for(var s=Math.ceil((i-n)*If.ONE_SECOND_IN_TS),a=Math.ceil((r-n)*If.ONE_SECOND_IN_TS),o=e.slice(),l=e.length;l--&&!(e[l].pts<=a););if(l===-1)return o;for(var u=l+1;u--&&!(e[u].pts<=s););return u=Math.max(u,0),o.splice(u,l-u+1),o},G7=function(e,i){if(!e&&!i||!e&&i||e&&!i)return!1;if(e===i)return!0;var r=Object.keys(e).sort(),n=Object.keys(i).sort();if(r.length!==n.length)return!1;for(var s=0;s<r.length;s++){var a=r[s];if(a!==n[s]||e[a]!==i[a])return!1}return!0},VA=22,K7=function(e,i,r){i=i||[];for(var n=[],s=0,a=0;a<i.length;a++){var o=i[a];if(e===o.timeline&&(n.push(a),s+=o.duration,s>r))return a}return n.length===0?0:n[n.length-1]},Tl=1,X7=500,fS=function(e){return typeof e=="number"&&isFinite(e)},vd=1/60,Y7=function(e,i,r){return e!=="main"||!i||!r?null:!r.hasAudio&&!r.hasVideo?"Neither audio nor video found in segment.":i.hasVideo&&!r.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!i.hasVideo&&r.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null},Q7=function(e,i,r){var n=i-Rt.BACK_BUFFER_LENGTH;e.length&&(n=Math.max(n,e.start(0)));var s=i-r;return Math.min(s,n)},wa=function(e){var i=e.startOfSegment,r=e.duration,n=e.segment,s=e.part,a=e.playlist,o=a.mediaSequence,l=a.id,u=a.segments,c=u===void 0?[]:u,f=e.mediaIndex,d=e.partIndex,p=e.timeline,g=c.length-1,b="mediaIndex/partIndex increment";e.getMediaInfoForTime?b="getMediaInfoForTime ("+e.getMediaInfoForTime+")":e.isSyncRequest&&(b="getSyncSegmentCandidate (isSyncRequest)"),e.independent&&(b+=" with independent "+e.independent);var y=typeof d=="number",T=e.segment.uri?"segment":"pre-segment",S=y?cA({preloadSegment:n})-1:0;return T+" ["+(o+f)+"/"+(o+g)+"]"+(y?" part ["+d+"/"+S+"]":"")+(" segment start/end ["+n.start+" => "+n.end+"]")+(y?" part start/end ["+s.start+" => "+s.end+"]":"")+(" startOfSegment ["+i+"]")+(" duration ["+r+"]")+(" timeline ["+p+"]")+(" selected by ["+b+"]")+(" playlist ["+l+"]")},hS=function(e){return e+"TimingInfo"},J7=function(e){var i=e.segmentTimeline,r=e.currentTimeline,n=e.startOfSegment,s=e.buffered,a=e.overrideCheck;return!a&&i===r?null:i<r?n:s.length?s.end(s.length-1):n},pS=function(e){var i=e.timelineChangeController,r=e.currentTimeline,n=e.segmentTimeline,s=e.loaderType,a=e.audioDisabled;if(r===n)return!1;if(s==="audio"){var o=i.lastTimelineChange({type:"main"});return!o||o.to!==n}if(s==="main"&&a){var l=i.pendingTimelineChange({type:"audio"});return!(l&&l.to===n)}return!1},Z7=function(e){var i=0;return["video","audio"].forEach(function(r){var n=e[r+"TimingInfo"];if(!!n){var s=n.start,a=n.end,o;typeof s=="bigint"||typeof a=="bigint"?o=j.BigInt(a)-j.BigInt(s):typeof s=="number"&&typeof a=="number"&&(o=a-s),typeof o<"u"&&o>i&&(i=o)}}),typeof i=="bigint"&&i<Number.MAX_SAFE_INTEGER&&(i=Number(i)),i},mS=function(e){var i=e.segmentDuration,r=e.maxDuration;return i?Math.round(i)>r+hs:!1},eW=function(e,i){if(i!=="hls")return null;var r=Z7({audioTimingInfo:e.audioTimingInfo,videoTimingInfo:e.videoTimingInfo});if(!r)return null;var n=e.playlist.targetDuration,s=mS({segmentDuration:r,maxDuration:n*2}),a=mS({segmentDuration:r,maxDuration:n}),o="Segment with index "+e.mediaIndex+" "+("from playlist "+e.playlist.id+" ")+("has a duration of "+r+" ")+("when the reported duration is "+e.duration+" ")+("and the target duration is "+n+". ")+"For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1";return s||a?{severity:s?"warn":"info",message:o}:null},Fg=function(t){le(e,t);function e(r,n){var s;if(s=t.call(this)||this,!r)throw new TypeError("Initialization settings are required");if(typeof r.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!r.mediaSource)throw new TypeError("No MediaSource specified");return s.bandwidth=r.bandwidth,s.throughput={rate:0,count:0},s.roundTrip=NaN,s.resetStats_(),s.mediaIndex=null,s.partIndex=null,s.hasPlayed_=r.hasPlayed,s.currentTime_=r.currentTime,s.seekable_=r.seekable,s.seeking_=r.seeking,s.duration_=r.duration,s.mediaSource_=r.mediaSource,s.vhs_=r.vhs,s.loaderType_=r.loaderType,s.currentMediaInfo_=void 0,s.startingMediaInfo_=void 0,s.segmentMetadataTrack_=r.segmentMetadataTrack,s.goalBufferLength_=r.goalBufferLength,s.sourceType_=r.sourceType,s.sourceUpdater_=r.sourceUpdater,s.inbandTextTracks_=r.inbandTextTracks,s.state_="INIT",s.timelineChangeController_=r.timelineChangeController,s.shouldSaveSegmentTimingInfo_=!0,s.parse708captions_=r.parse708captions,s.useDtsForTimestampOffset_=r.useDtsForTimestampOffset,s.captionServices_=r.captionServices,s.experimentalExactManifestTimings=r.experimentalExactManifestTimings,s.checkBufferTimeout_=null,s.error_=void 0,s.currentTimeline_=-1,s.pendingSegment_=null,s.xhrOptions_=null,s.pendingSegments_=[],s.audioDisabled_=!1,s.isPendingTimestampOffset_=!1,s.gopBuffer_=[],s.timeMapping_=0,s.safeAppend_=V.browser.IE_VERSION>=11,s.appendInitSegment_={audio:!0,video:!0},s.playlistOfLastInitSegment_={audio:null,video:null},s.callQueue_=[],s.loadQueue_=[],s.metadataQueue_={id3:[],caption:[]},s.waitingOnRemove_=!1,s.quotaExceededErrorRetryTimeout_=null,s.activeInitSegmentId_=null,s.initSegments_={},s.cacheEncryptionKeys_=r.cacheEncryptionKeys,s.keyCache_={},s.decrypter_=r.decrypter,s.syncController_=r.syncController,s.syncPoint_={segmentIndex:0,time:0},s.transmuxer_=s.createTransmuxer_(),s.triggerSyncInfoUpdate_=function(){return s.trigger("syncinfoupdate")},s.syncController_.on("syncinfoupdate",s.triggerSyncInfoUpdate_),s.mediaSource_.addEventListener("sourceopen",function(){s.isEndOfStream_()||(s.ended_=!1)}),s.fetchAtBuffer_=!1,s.logger_=jn("SegmentLoader["+s.loaderType_+"]"),Object.defineProperty(Ee(s),"state",{get:function(){return this.state_},set:function(o){o!==this.state_&&(this.logger_(this.state_+" -> "+o),this.state_=o,this.trigger("statechange"))}}),s.sourceUpdater_.on("ready",function(){s.hasEnoughInfoToAppend_()&&s.processCallQueue_()}),s.loaderType_==="main"&&s.timelineChangeController_.on("pendingtimelinechange",function(){s.hasEnoughInfoToAppend_()&&s.processCallQueue_()}),s.loaderType_==="audio"&&s.timelineChangeController_.on("timelinechange",function(){s.hasEnoughInfoToLoad_()&&s.processLoadQueue_(),s.hasEnoughInfoToAppend_()&&s.processCallQueue_()}),s}var i=e.prototype;return i.createTransmuxer_=function(){return Dm.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})},i.resetStats_=function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0},i.dispose=function(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&j.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()},i.setAudio=function(n){this.audioDisabled_=!n,n?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())},i.abort=function(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()},i.abort_=function(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,j.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null},i.checkForAbort_=function(n){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==n},i.error=function(n){return typeof n<"u"&&(this.logger_("error occurred:",n),this.error_=n),this.pendingSegment_=null,this.error_},i.endOfStream=function(){this.ended_=!0,this.transmuxer_&&Dm.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")},i.buffered_=function(){var n=this.getMediaInfo_();if(!this.sourceUpdater_||!n)return V.createTimeRanges();if(this.loaderType_==="main"){var s=n.hasAudio,a=n.hasVideo,o=n.isMuxed;if(a&&s&&!this.audioDisabled_&&!o)return this.sourceUpdater_.buffered();if(a)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()},i.initSegmentForMap=function(n,s){if(s===void 0&&(s=!1),!n)return null;var a=Hf(n),o=this.initSegments_[a];return s&&!o&&n.bytes&&(this.initSegments_[a]=o={resolvedUri:n.resolvedUri,byterange:n.byterange,bytes:n.bytes,tracks:n.tracks,timescales:n.timescales}),o||n},i.segmentKey=function(n,s){if(s===void 0&&(s=!1),!n)return null;var a=EA(n),o=this.keyCache_[a];this.cacheEncryptionKeys_&&s&&!o&&n.bytes&&(this.keyCache_[a]=o={resolvedUri:n.resolvedUri,bytes:n.bytes});var l={resolvedUri:(o||n).resolvedUri};return o&&(l.bytes=o.bytes),l},i.couldBeginLoading_=function(){return this.playlist_&&!this.paused()},i.load=function(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}},i.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},i.playlist=function(n,s){if(s===void 0&&(s={}),!!n){var a=this.playlist_,o=this.pendingSegment_;this.playlist_=n,this.xhrOptions_=s,this.state==="INIT"&&(n.syncInfo={mediaSequence:n.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(n));var l=null;if(a&&(a.id?l=a.id:a.uri&&(l=a.uri)),this.logger_("playlist update ["+l+" => "+(n.id||n.uri)+"]"),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!a||a.uri!==n.uri){this.mediaIndex!==null&&(n.endList?this.resyncLoader():this.resetLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}var u=n.mediaSequence-a.mediaSequence;if(this.logger_("live window shift ["+u+"]"),this.mediaIndex!==null)if(this.mediaIndex-=u,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{var c=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!c.parts||!c.parts.length||!c.parts[this.partIndex])){var f=this.mediaIndex;this.logger_("currently processing part (index "+this.partIndex+") no longer exists."),this.resetLoader(),this.mediaIndex=f}}o&&(o.mediaIndex-=u,o.mediaIndex<0?(o.mediaIndex=null,o.partIndex=null):(o.mediaIndex>=0&&(o.segment=n.segments[o.mediaIndex]),o.partIndex>=0&&o.segment.parts&&(o.part=o.segment.parts[o.partIndex]))),this.syncController_.saveExpiredSegmentInfo(a,n)}},i.pause=function(){this.checkBufferTimeout_&&(j.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)},i.paused=function(){return this.checkBufferTimeout_===null},i.resetEverything=function(n){this.ended_=!1,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,n),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))},i.resetLoader=function(){this.fetchAtBuffer_=!1,this.resyncLoader()},i.resyncLoader=function(){this.transmuxer_&&Dm.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})},i.remove=function(n,s,a,o){if(a===void 0&&(a=function(){}),o===void 0&&(o=!1),s===1/0&&(s=this.duration_()),s<=n){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}var l=1,u=function(){l--,l===0&&a()};(o||!this.audioDisabled_)&&(l++,this.sourceUpdater_.removeAudio(n,s,u)),(o||this.loaderType_==="main")&&(this.gopBuffer_=$7(this.gopBuffer_,n,s,this.timeMapping_),l++,this.sourceUpdater_.removeVideo(n,s,u));for(var c in this.inbandTextTracks_)Ll(n,s,this.inbandTextTracks_[c]);Ll(n,s,this.segmentMetadataTrack_),u()},i.monitorBuffer_=function(){this.checkBufferTimeout_&&j.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=j.setTimeout(this.monitorBufferTick_.bind(this),1)},i.monitorBufferTick_=function(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&j.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=j.setTimeout(this.monitorBufferTick_.bind(this),X7)},i.fillBuffer_=function(){if(!this.sourceUpdater_.updating()){var n=this.chooseNextRequest_();!n||(typeof n.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:n.timeline})),this.loadSegment_(n))}},i.isEndOfStream_=function(n,s,a){if(n===void 0&&(n=this.mediaIndex),s===void 0&&(s=this.playlist_),a===void 0&&(a=this.partIndex),!s||!this.mediaSource_)return!1;var o=typeof n=="number"&&s.segments[n],l=n+1===s.segments.length,u=!o||!o.parts||a+1===o.parts.length;return s.endList&&this.mediaSource_.readyState==="open"&&l&&u},i.chooseNextRequest_=function(){var n=this.buffered_(),s=iS(n)||0,a=I_(n,this.currentTime_()),o=!this.hasPlayed_()&&a>=1,l=a>=this.goalBufferLength_(),u=this.playlist_.segments;if(!u.length||o||l)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_());var c={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:Boolean(!this.syncPoint_)};if(c.isSyncRequest)c.mediaIndex=K7(this.currentTimeline_,u,s);else if(this.mediaIndex!==null){var f=u[this.mediaIndex],d=typeof this.partIndex=="number"?this.partIndex:-1;c.startOfSegment=f.end?f.end:s,f.parts&&f.parts[d+1]?(c.mediaIndex=this.mediaIndex,c.partIndex=d+1):c.mediaIndex=this.mediaIndex+1}else{var p=ji.getMediaInfoForTime({experimentalExactManifestTimings:this.experimentalExactManifestTimings,playlist:this.playlist_,currentTime:this.fetchAtBuffer_?s:this.currentTime_(),startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time}),g=p.segmentIndex,b=p.startTime,y=p.partIndex;c.getMediaInfoForTime=this.fetchAtBuffer_?"bufferedEnd "+s:"currentTime "+this.currentTime_(),c.mediaIndex=g,c.startOfSegment=b,c.partIndex=y}var T=u[c.mediaIndex],S=T&&typeof c.partIndex=="number"&&T.parts&&T.parts[c.partIndex];if(!T||typeof c.partIndex=="number"&&!S)return null;if(typeof c.partIndex!="number"&&T.parts&&(c.partIndex=0,S=T.parts[0]),!a&&S&&!S.independent)if(c.partIndex===0){var I=u[c.mediaIndex-1],O=I.parts&&I.parts.length&&I.parts[I.parts.length-1];O&&O.independent&&(c.mediaIndex-=1,c.partIndex=I.parts.length-1,c.independent="previous segment")}else T.parts[c.partIndex-1].independent&&(c.partIndex-=1,c.independent="previous part");var M=this.mediaSource_&&this.mediaSource_.readyState==="ended";return c.mediaIndex>=u.length-1&&M&&!this.seeking_()?null:this.generateSegmentInfo_(c)},i.generateSegmentInfo_=function(n){var s=n.independent,a=n.playlist,o=n.mediaIndex,l=n.startOfSegment,u=n.isSyncRequest,c=n.partIndex,f=n.forceTimestampOffset,d=n.getMediaInfoForTime,p=a.segments[o],g=typeof c=="number"&&p.parts[c],b={requestId:"segment-loader-"+Math.random(),uri:g&&g.resolvedUri||p.resolvedUri,mediaIndex:o,partIndex:g?c:null,isSyncRequest:u,startOfSegment:l,playlist:a,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:p.timeline,duration:g&&g.duration||p.duration,segment:p,part:g,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:d,independent:s},y=typeof f<"u"?f:this.isPendingTimestampOffset_;b.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:p.timeline,currentTimeline:this.currentTimeline_,startOfSegment:l,buffered:this.buffered_(),overrideCheck:y});var T=iS(this.sourceUpdater_.audioBuffered());return typeof T=="number"&&(b.audioAppendStart=T-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(b.gopsToAlignWith=W7(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),b},i.timestampOffsetForSegment_=function(n){return J7(n)},i.earlyAbortWhenNeeded_=function(n){if(!(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)&&!(Date.now()-(n.firstBytesReceivedAt||Date.now())<1e3)){var s=this.currentTime_(),a=n.bandwidth,o=this.pendingSegment_.duration,l=ji.estimateSegmentRequestTime(o,a,this.playlist_,n.bytesReceived),u=SH(this.buffered_(),s,this.vhs_.tech_.playbackRate())-1;if(!(l<=u)){var c=L7({master:this.vhs_.playlists.master,currentTime:s,bandwidth:a,duration:this.duration_(),segmentDuration:o,timeUntilRebuffer:u,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!!c){var f=l-u,d=f-c.rebufferingImpact,p=.5;u<=hs&&(p=1),!(!c.playlist||c.playlist.uri===this.playlist_.uri||d<p)&&(this.bandwidth=c.playlist.attributes.BANDWIDTH*Rt.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}}}},i.handleAbort_=function(n){this.logger_("Aborting "+wa(n)),this.mediaRequestsAborted+=1},i.handleProgress_=function(n,s){this.earlyAbortWhenNeeded_(s.stats),!this.checkForAbort_(s.requestId)&&this.trigger("progress")},i.handleTrackInfo_=function(n,s){this.earlyAbortWhenNeeded_(n.stats),!this.checkForAbort_(n.requestId)&&(this.checkForIllegalMediaSwitch(s)||(s=s||{},G7(this.currentMediaInfo_,s)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=s,this.currentMediaInfo_=s,this.logger_("trackinfo update",s),this.trigger("trackinfo")),!this.checkForAbort_(n.requestId)&&(this.pendingSegment_.trackInfo=s,this.hasEnoughInfoToAppend_()&&this.processCallQueue_())))},i.handleTimingInfo_=function(n,s,a,o){if(this.earlyAbortWhenNeeded_(n.stats),!this.checkForAbort_(n.requestId)){var l=this.pendingSegment_,u=hS(s);l[u]=l[u]||{},l[u][a]=o,this.logger_("timinginfo: "+s+" - "+a+" - "+o),this.hasEnoughInfoToAppend_()&&this.processCallQueue_()}},i.handleCaptions_=function(n,s){var a=this;if(this.earlyAbortWhenNeeded_(n.stats),!this.checkForAbort_(n.requestId)){if(s.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}var o=this.pendingSegment_;if(!o.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,n,s));return}var l=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),u={};s.forEach(function(c){u[c.stream]=u[c.stream]||{startTime:1/0,captions:[],endTime:0};var f=u[c.stream];f.startTime=Math.min(f.startTime,c.startTime+l),f.endTime=Math.max(f.endTime,c.endTime+l),f.captions.push(c)}),Object.keys(u).forEach(function(c){var f=u[c],d=f.startTime,p=f.endTime,g=f.captions,b=a.inbandTextTracks_;a.logger_("adding cues from "+d+" -> "+p+" for "+c),F7(b,a.vhs_.tech_,c),Ll(d,p,b[c]),U7({captionArray:g,inbandTextTracks:b,timestampOffset:l})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}},i.handleId3_=function(n,s,a){if(this.earlyAbortWhenNeeded_(n.stats),!this.checkForAbort_(n.requestId)){var o=this.pendingSegment_;if(!o.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,n,s,a));return}var l=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();V7(this.inbandTextTracks_,a,this.vhs_.tech_),z7({inbandTextTracks:this.inbandTextTracks_,metadataArray:s,timestampOffset:l,videoDuration:this.duration_()})}},i.processMetadataQueue_=function(){this.metadataQueue_.id3.forEach(function(n){return n()}),this.metadataQueue_.caption.forEach(function(n){return n()}),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]},i.processCallQueue_=function(){var n=this.callQueue_;this.callQueue_=[],n.forEach(function(s){return s()})},i.processLoadQueue_=function(){var n=this.loadQueue_;this.loadQueue_=[],n.forEach(function(s){return s()})},i.hasEnoughInfoToLoad_=function(){if(this.loaderType_!=="audio")return!0;var n=this.pendingSegment_;return n?this.getCurrentMediaInfo_()?!pS({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:n.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}):!0:!1},i.getCurrentMediaInfo_=function(n){return n===void 0&&(n=this.pendingSegment_),n&&n.trackInfo||this.currentMediaInfo_},i.getMediaInfo_=function(n){return n===void 0&&(n=this.pendingSegment_),this.getCurrentMediaInfo_(n)||this.startingMediaInfo_},i.hasEnoughInfoToAppend_=function(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;var n=this.pendingSegment_,s=this.getCurrentMediaInfo_();if(!n||!s)return!1;var a=s.hasAudio,o=s.hasVideo,l=s.isMuxed;return!(o&&!n.videoTimingInfo||a&&!this.audioDisabled_&&!l&&!n.audioTimingInfo||pS({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:n.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))},i.handleData_=function(n,s){if(this.earlyAbortWhenNeeded_(n.stats),!this.checkForAbort_(n.requestId)){if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){this.callQueue_.push(this.handleData_.bind(this,n,s));return}var a=this.pendingSegment_;if(this.setTimeMapping_(a.timeline),this.updateMediaSecondsLoaded_(a.part||a.segment),this.mediaSource_.readyState!=="closed"){if(n.map&&(n.map=this.initSegmentForMap(n.map,!0),a.segment.map=n.map),n.key&&this.segmentKey(n.key,!0),a.isFmp4=n.isFmp4,a.timingInfo=a.timingInfo||{},a.isFmp4)this.trigger("fmp4"),a.timingInfo.start=a[hS(s.type)].start;else{var o=this.getCurrentMediaInfo_(),l=this.loaderType_==="main"&&o&&o.hasVideo,u;l&&(u=a.videoTimingInfo.start),a.timingInfo.start=this.trueSegmentStart_({currentStart:a.timingInfo.start,playlist:a.playlist,mediaIndex:a.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:l,firstVideoFrameTimeForData:u,videoTimingInfo:a.videoTimingInfo,audioTimingInfo:a.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(a,s.type),this.updateSourceBufferTimestampOffset_(a),a.isSyncRequest){this.updateTimingInfoEnd_(a),this.syncController_.saveSegmentTimingInfo({segmentInfo:a,shouldSaveTimelineMapping:this.loaderType_==="main"});var c=this.chooseNextRequest_();if(c.mediaIndex!==a.mediaIndex||c.partIndex!==a.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}a.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(a,s)}}},i.updateAppendInitSegmentStatus=function(n,s){this.loaderType_==="main"&&typeof n.timestampOffset=="number"&&!n.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[s]!==n.playlist&&(this.appendInitSegment_[s]=!0)},i.getInitSegmentAndUpdateState_=function(n){var s=n.type,a=n.initSegment,o=n.map,l=n.playlist;if(o){var u=Hf(o);if(this.activeInitSegmentId_===u)return null;a=this.initSegmentForMap(o,!0).bytes,this.activeInitSegmentId_=u}return a&&this.appendInitSegment_[s]?(this.playlistOfLastInitSegment_[s]=l,this.appendInitSegment_[s]=!1,this.activeInitSegmentId_=null,a):null},i.handleQuotaExceededError_=function(n,s){var a=this,o=n.segmentInfo,l=n.type,u=n.bytes,c=this.sourceUpdater_.audioBuffered(),f=this.sourceUpdater_.videoBuffered();c.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+Fs(c).join(", ")),f.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+Fs(f).join(", "));var d=c.length?c.start(0):0,p=c.length?c.end(c.length-1):0,g=f.length?f.start(0):0,b=f.length?f.end(f.length-1):0;if(p-d<=Tl&&b-g<=Tl){this.logger_("On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. "+("Appended byte length: "+u.byteLength+", ")+("audio buffer: "+Fs(c).join(", ")+", ")+("video buffer: "+Fs(f).join(", ")+", ")),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:o,type:l,bytes:u}));var y=this.currentTime_(),T=y-Tl;this.logger_("On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to "+T),this.remove(0,T,function(){a.logger_("On QUOTA_EXCEEDED_ERR, retrying append in "+Tl+"s"),a.waitingOnRemove_=!1,a.quotaExceededErrorRetryTimeout_=j.setTimeout(function(){a.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),a.quotaExceededErrorRetryTimeout_=null,a.processCallQueue_()},Tl*1e3)},!0)},i.handleAppendError_=function(n,s){var a=n.segmentInfo,o=n.type,l=n.bytes;if(!!s){if(s.code===VA){this.handleQuotaExceededError_({segmentInfo:a,type:o,bytes:l});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",s),this.error(o+" append of "+l.length+"b failed for segment "+("#"+a.mediaIndex+" in playlist "+a.playlist.id)),this.trigger("appenderror")}},i.appendToSourceBuffer_=function(n){var s=n.segmentInfo,a=n.type,o=n.initSegment,l=n.data,u=n.bytes;if(!u){var c=[l],f=l.byteLength;o&&(c.unshift(o),f+=o.byteLength),u=N7({bytes:f,segments:c})}this.sourceUpdater_.appendBuffer({segmentInfo:s,type:a,bytes:u},this.handleAppendError_.bind(this,{segmentInfo:s,type:a,bytes:u}))},i.handleSegmentTimingInfo_=function(n,s,a){if(!(!this.pendingSegment_||s!==this.pendingSegment_.requestId)){var o=this.pendingSegment_.segment,l=n+"TimingInfo";o[l]||(o[l]={}),o[l].transmuxerPrependedSeconds=a.prependedContentDuration||0,o[l].transmuxedPresentationStart=a.start.presentation,o[l].transmuxedDecodeStart=a.start.decode,o[l].transmuxedPresentationEnd=a.end.presentation,o[l].transmuxedDecodeEnd=a.end.decode,o[l].baseMediaDecodeTime=a.baseMediaDecodeTime}},i.appendData_=function(n,s){var a=s.type,o=s.data;if(!(!o||!o.byteLength)&&!(a==="audio"&&this.audioDisabled_)){var l=this.getInitSegmentAndUpdateState_({type:a,initSegment:s.initSegment,playlist:n.playlist,map:n.isFmp4?n.segment.map:null});this.appendToSourceBuffer_({segmentInfo:n,type:a,initSegment:l,data:o})}},i.loadSegment_=function(n){var s=this;if(this.state="WAITING",this.pendingSegment_=n,this.trimBackBuffer_(n),typeof n.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){this.loadQueue_.push(function(){var a=yn({},n,{forceTimestampOffset:!0});yn(n,s.generateSegmentInfo_(a)),s.isPendingTimestampOffset_=!1,s.updateTransmuxerAndRequestSegment_(n)});return}this.updateTransmuxerAndRequestSegment_(n)},i.updateTransmuxerAndRequestSegment_=function(n){var s=this;this.shouldUpdateTransmuxerTimestampOffset_(n.timestampOffset)&&(this.gopBuffer_.length=0,n.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:n.timestampOffset}));var a=this.createSimplifiedSegmentObj_(n),o=this.isEndOfStream_(n.mediaIndex,n.playlist,n.partIndex),l=this.mediaIndex!==null,u=n.timeline!==this.currentTimeline_&&n.timeline>0,c=o||l&&u;this.logger_("Requesting "+wa(n)),a.map&&!a.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),n.abortRequests=O7({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:a,abortFn:this.handleAbort_.bind(this,n),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",n.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",n.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:c,endedTimelineFn:function(){s.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:function(d){var p=d.message,g=d.level,b=d.stream;s.logger_(wa(n)+" logged from transmuxer stream "+b+" as a "+g+": "+p)}})},i.trimBackBuffer_=function(n){var s=Q7(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);s>0&&this.remove(0,s)},i.createSimplifiedSegmentObj_=function(n){var s=n.segment,a=n.part,o={resolvedUri:a?a.resolvedUri:s.resolvedUri,byterange:a?a.byterange:s.byterange,requestId:n.requestId,transmuxer:n.transmuxer,audioAppendStart:n.audioAppendStart,gopsToAlignWith:n.gopsToAlignWith,part:n.part},l=n.playlist.segments[n.mediaIndex-1];if(l&&l.timeline===s.timeline&&(l.videoTimingInfo?o.baseStartTime=l.videoTimingInfo.transmuxedDecodeEnd:l.audioTimingInfo&&(o.baseStartTime=l.audioTimingInfo.transmuxedDecodeEnd)),s.key){var u=s.key.iv||new Uint32Array([0,0,0,n.mediaIndex+n.playlist.mediaSequence]);o.key=this.segmentKey(s.key),o.key.iv=u}return s.map&&(o.map=this.initSegmentForMap(s.map)),o},i.saveTransferStats_=function(n){this.mediaRequests+=1,n&&(this.mediaBytesTransferred+=n.bytesReceived,this.mediaTransferDuration+=n.roundTripTime)},i.saveBandwidthRelatedStats_=function(n,s){if(this.pendingSegment_.byteLength=s.bytesReceived,n<vd){this.logger_("Ignoring segment's bandwidth because its duration of "+n+(" is less than the min to record "+vd));return}this.bandwidth=s.bandwidth,this.roundTrip=s.roundTripTime},i.handleTimeout_=function(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")},i.segmentRequestFinished_=function(n,s,a){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,n,s,a));return}if(this.saveTransferStats_(s.stats),!!this.pendingSegment_&&s.requestId===this.pendingSegment_.requestId){if(n){if(this.pendingSegment_=null,this.state="READY",n.code===Gn.ABORTED)return;if(this.pause(),n.code===Gn.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(n),this.trigger("error");return}var o=this.pendingSegment_;this.saveBandwidthRelatedStats_(o.duration,s.stats),o.endOfAllRequests=s.endOfAllRequests,a.gopInfo&&(this.gopBuffer_=q7(this.gopBuffer_,a.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(o)}},i.setTimeMapping_=function(n){var s=this.syncController_.mappingForTimeline(n);s!==null&&(this.timeMapping_=s)},i.updateMediaSecondsLoaded_=function(n){typeof n.start=="number"&&typeof n.end=="number"?this.mediaSecondsLoaded+=n.end-n.start:this.mediaSecondsLoaded+=n.duration},i.shouldUpdateTransmuxerTimestampOffset_=function(n){return n===null?!1:this.loaderType_==="main"&&n!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&n!==this.sourceUpdater_.audioTimestampOffset()},i.trueSegmentStart_=function(n){var s=n.currentStart,a=n.playlist,o=n.mediaIndex,l=n.firstVideoFrameTimeForData,u=n.currentVideoTimestampOffset,c=n.useVideoTimingInfo,f=n.videoTimingInfo,d=n.audioTimingInfo;if(typeof s<"u")return s;if(!c)return d.start;var p=a.segments[o-1];return o===0||!p||typeof p.start>"u"||p.end!==l+u?l:f.start},i.waitForAppendsToComplete_=function(n){var s=this.getCurrentMediaInfo_(n);if(!s){this.error({message:"No starting media returned, likely due to an unsupported media format.",blacklistDuration:1/0}),this.trigger("error");return}var a=s.hasAudio,o=s.hasVideo,l=s.isMuxed,u=this.loaderType_==="main"&&o,c=!this.audioDisabled_&&a&&!l;if(n.waitingOnAppends=0,!n.hasAppendedData_){!n.timingInfo&&typeof n.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),n.timingInfo={start:0},n.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(n),this.processMetadataQueue_()),this.checkAppendsDone_(n);return}u&&n.waitingOnAppends++,c&&n.waitingOnAppends++,u&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,n)),c&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,n))},i.checkAppendsDone_=function(n){this.checkForAbort_(n.requestId)||(n.waitingOnAppends--,n.waitingOnAppends===0&&this.handleAppendsDone_())},i.checkForIllegalMediaSwitch=function(n){var s=Y7(this.loaderType_,this.getCurrentMediaInfo_(),n);return s?(this.error({message:s,blacklistDuration:1/0}),this.trigger("error"),!0):!1},i.updateSourceBufferTimestampOffset_=function(n){if(!(n.timestampOffset===null||typeof n.timingInfo.start!="number"||n.changedTimestampOffset||this.loaderType_!=="main")){var s=!1;n.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:n.segment.videoTimingInfo,audioTimingInfo:n.segment.audioTimingInfo,timingInfo:n.timingInfo}),n.changedTimestampOffset=!0,n.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(n.timestampOffset),s=!0),n.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(n.timestampOffset),s=!0),s&&this.trigger("timestampoffset")}},i.getSegmentStartTimeForTimestampOffsetCalculation_=function(n){var s=n.videoTimingInfo,a=n.audioTimingInfo,o=n.timingInfo;return this.useDtsForTimestampOffset_?s&&typeof s.transmuxedDecodeStart=="number"?s.transmuxedDecodeStart:a&&typeof a.transmuxedDecodeStart=="number"?a.transmuxedDecodeStart:o.start:o.start},i.updateTimingInfoEnd_=function(n){n.timingInfo=n.timingInfo||{};var s=this.getMediaInfo_(),a=this.loaderType_==="main"&&s&&s.hasVideo,o=a&&n.videoTimingInfo?n.videoTimingInfo:n.audioTimingInfo;!o||(n.timingInfo.end=typeof o.end=="number"?o.end:o.start+n.duration)},i.handleAppendsDone_=function(){if(this.pendingSegment_&&this.trigger("appendsdone"),!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}var n=this.pendingSegment_;this.updateTimingInfoEnd_(n),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:n,shouldSaveTimelineMapping:this.loaderType_==="main"});var s=eW(n,this.sourceType_);if(s&&(s.severity==="warn"?V.log.warn(s.message):this.logger_(s.message)),this.recordThroughput_(n),this.pendingSegment_=null,this.state="READY",n.isSyncRequest&&(this.trigger("syncinfoupdate"),!n.hasAppendedData_)){this.logger_("Throwing away un-appended sync request "+wa(n));return}this.logger_("Appended "+wa(n)),this.addSegmentMetadataCue_(n),this.fetchAtBuffer_=!0,this.currentTimeline_!==n.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:n.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:n.timeline})),this.currentTimeline_=n.timeline,this.trigger("syncinfoupdate");var a=n.segment,o=n.part,l=a.end&&this.currentTime_()-a.end>n.playlist.targetDuration*3,u=o&&o.end&&this.currentTime_()-o.end>n.playlist.partTargetDuration*3;if(l||u){this.logger_("bad "+(l?"segment":"part")+" "+wa(n)),this.resetEverything();return}var c=this.mediaIndex!==null;c&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=n.mediaIndex,this.partIndex=n.partIndex,this.isEndOfStream_(n.mediaIndex,n.playlist,n.partIndex)&&this.endOfStream(),this.trigger("appended"),n.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()},i.recordThroughput_=function(n){if(n.duration<vd){this.logger_("Ignoring segment's throughput because its duration of "+n.duration+(" is less than the min to record "+vd));return}var s=this.throughput.rate,a=Date.now()-n.endOfAllRequests+1,o=Math.floor(n.byteLength/a*8*1e3);this.throughput.rate+=(o-s)/++this.throughput.count},i.addSegmentMetadataCue_=function(n){if(!!this.segmentMetadataTrack_){var s=n.segment,a=s.start,o=s.end;if(!(!fS(a)||!fS(o))){Ll(a,o,this.segmentMetadataTrack_);var l=j.WebKitDataCue||j.VTTCue,u={custom:s.custom,dateTimeObject:s.dateTimeObject,dateTimeString:s.dateTimeString,bandwidth:n.playlist.attributes.BANDWIDTH,resolution:n.playlist.attributes.RESOLUTION,codecs:n.playlist.attributes.CODECS,byteLength:n.byteLength,uri:n.uri,timeline:n.timeline,playlist:n.playlist.id,start:a,end:o},c=JSON.stringify(u),f=new l(a,o,c);f.value=u,this.segmentMetadataTrack_.addCue(f)}}},e}(V.EventTarget);function fr(){}var HA=function(e){return typeof e!="string"?e:e.replace(/./,function(i){return i.toUpperCase()})},tW=["video","audio"],Ug=function(e,i){var r=i[e+"Buffer"];return r&&r.updating||i.queuePending[e]},iW=function(e,i){for(var r=0;r<i.length;r++){var n=i[r];if(n.type==="mediaSource")return null;if(n.type===e)return r}return null},F_=function t(e,i){if(i.queue.length!==0){var r=0,n=i.queue[r];if(n.type==="mediaSource"){!i.updating()&&i.mediaSource.readyState!=="closed"&&(i.queue.shift(),n.action(i),n.doneFn&&n.doneFn(),t("audio",i),t("video",i));return}if(e!=="mediaSource"&&!(!i.ready()||i.mediaSource.readyState==="closed"||Ug(e,i))){if(n.type!==e){if(r=iW(e,i.queue),r===null)return;n=i.queue[r]}if(i.queue.splice(r,1),i.queuePending[e]=n,n.action(e,i),!n.doneFn){i.queuePending[e]=null,t(e,i);return}}}},WA=function(e,i){var r=i[e+"Buffer"],n=HA(e);!r||(r.removeEventListener("updateend",i["on"+n+"UpdateEnd_"]),r.removeEventListener("error",i["on"+n+"Error_"]),i.codecs[e]=null,i[e+"Buffer"]=null)},Bn=function(e,i){return e&&i&&Array.prototype.indexOf.call(e.sourceBuffers,i)!==-1},Ki={appendBuffer:function(e,i,r){return function(n,s){var a=s[n+"Buffer"];if(!!Bn(s.mediaSource,a)){s.logger_("Appending segment "+i.mediaIndex+"'s "+e.length+" bytes to "+n+"Buffer");try{a.appendBuffer(e)}catch(o){s.logger_("Error with code "+o.code+" "+(o.code===VA?"(QUOTA_EXCEEDED_ERR) ":"")+("when appending segment "+i.mediaIndex+" to "+n+"Buffer")),s.queuePending[n]=null,r(o)}}}},remove:function(e,i){return function(r,n){var s=n[r+"Buffer"];if(!!Bn(n.mediaSource,s)){n.logger_("Removing "+e+" to "+i+" from "+r+"Buffer");try{s.remove(e,i)}catch{n.logger_("Remove "+e+" to "+i+" from "+r+"Buffer failed")}}}},timestampOffset:function(e){return function(i,r){var n=r[i+"Buffer"];!Bn(r.mediaSource,n)||(r.logger_("Setting "+i+"timestampOffset to "+e),n.timestampOffset=e)}},callback:function(e){return function(i,r){e()}},endOfStream:function(e){return function(i){if(i.mediaSource.readyState==="open"){i.logger_("Calling mediaSource endOfStream("+(e||"")+")");try{i.mediaSource.endOfStream(e)}catch(r){V.log.warn("Failed to call media source endOfStream",r)}}}},duration:function(e){return function(i){i.logger_("Setting mediaSource duration to "+e);try{i.mediaSource.duration=e}catch(r){V.log.warn("Failed to set media source duration",r)}}},abort:function(){return function(e,i){if(i.mediaSource.readyState==="open"){var r=i[e+"Buffer"];if(!!Bn(i.mediaSource,r)){i.logger_("calling abort on "+e+"Buffer");try{r.abort()}catch(n){V.log.warn("Failed to abort on "+e+"Buffer",n)}}}}},addSourceBuffer:function(e,i){return function(r){var n=HA(e),s=Mu(i);r.logger_("Adding "+e+"Buffer with codec "+i+" to mediaSource");var a=r.mediaSource.addSourceBuffer(s);a.addEventListener("updateend",r["on"+n+"UpdateEnd_"]),a.addEventListener("error",r["on"+n+"Error_"]),r.codecs[e]=i,r[e+"Buffer"]=a}},removeSourceBuffer:function(e){return function(i){var r=i[e+"Buffer"];if(WA(e,i),!!Bn(i.mediaSource,r)){i.logger_("Removing "+e+"Buffer with codec "+i.codecs[e]+" from mediaSource");try{i.mediaSource.removeSourceBuffer(r)}catch(n){V.log.warn("Failed to removeSourceBuffer "+e+"Buffer",n)}}}},changeType:function(e){return function(i,r){var n=r[i+"Buffer"],s=Mu(e);!Bn(r.mediaSource,n)||r.codecs[i]!==e&&(r.logger_("changing "+i+"Buffer codec from "+r.codecs[i]+" to "+e),n.changeType(s),r.codecs[i]=e)}}},Xi=function(e){var i=e.type,r=e.sourceUpdater,n=e.action,s=e.doneFn,a=e.name;r.queue.push({type:i,action:n,doneFn:s,name:a}),F_(i,r)},vS=function(e,i){return function(r){if(i.queuePending[e]){var n=i.queuePending[e].doneFn;i.queuePending[e]=null,n&&n(i[e+"Error_"])}F_(e,i)}},qA=function(t){le(e,t);function e(r){var n;return n=t.call(this)||this,n.mediaSource=r,n.sourceopenListener_=function(){return F_("mediaSource",Ee(n))},n.mediaSource.addEventListener("sourceopen",n.sourceopenListener_),n.logger_=jn("SourceUpdater"),n.audioTimestampOffset_=0,n.videoTimestampOffset_=0,n.queue=[],n.queuePending={audio:null,video:null},n.delayedAudioAppendQueue_=[],n.videoAppendQueued_=!1,n.codecs={},n.onVideoUpdateEnd_=vS("video",Ee(n)),n.onAudioUpdateEnd_=vS("audio",Ee(n)),n.onVideoError_=function(s){n.videoError_=s},n.onAudioError_=function(s){n.audioError_=s},n.createdSourceBuffers_=!1,n.initializedEme_=!1,n.triggeredReady_=!1,n}var i=e.prototype;return i.initializedEme=function(){this.initializedEme_=!0,this.triggerReady()},i.hasCreatedSourceBuffers=function(){return this.createdSourceBuffers_},i.hasInitializedAnyEme=function(){return this.initializedEme_},i.ready=function(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()},i.createSourceBuffers=function(n){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(n),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())},i.triggerReady=function(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))},i.addSourceBuffer=function(n,s){Xi({type:"mediaSource",sourceUpdater:this,action:Ki.addSourceBuffer(n,s),name:"addSourceBuffer"})},i.abort=function(n){Xi({type:n,sourceUpdater:this,action:Ki.abort(n),name:"abort"})},i.removeSourceBuffer=function(n){if(!this.canRemoveSourceBuffer()){V.log.error("removeSourceBuffer is not supported!");return}Xi({type:"mediaSource",sourceUpdater:this,action:Ki.removeSourceBuffer(n),name:"removeSourceBuffer"})},i.canRemoveSourceBuffer=function(){return!V.browser.IE_VERSION&&!V.browser.IS_FIREFOX&&j.MediaSource&&j.MediaSource.prototype&&typeof j.MediaSource.prototype.removeSourceBuffer=="function"},e.canChangeType=function(){return j.SourceBuffer&&j.SourceBuffer.prototype&&typeof j.SourceBuffer.prototype.changeType=="function"},i.canChangeType=function(){return this.constructor.canChangeType()},i.changeType=function(n,s){if(!this.canChangeType()){V.log.error("changeType is not supported!");return}Xi({type:n,sourceUpdater:this,action:Ki.changeType(s),name:"changeType"})},i.addOrChangeSourceBuffers=function(n){var s=this;if(!n||typeof n!="object"||Object.keys(n).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(n).forEach(function(a){var o=n[a];if(!s.hasCreatedSourceBuffers())return s.addSourceBuffer(a,o);s.canChangeType()&&s.changeType(a,o)})},i.appendBuffer=function(n,s){var a=this,o=n.segmentInfo,l=n.type,u=n.bytes;if(this.processedAppend_=!0,l==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([n,s]),this.logger_("delayed audio append of "+u.length+" until video append");return}var c=s;if(Xi({type:l,sourceUpdater:this,action:Ki.appendBuffer(u,o||{mediaIndex:-1},c),doneFn:s,name:"appendBuffer"}),l==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;var f=this.delayedAudioAppendQueue_.slice();this.logger_("queuing delayed audio "+f.length+" appendBuffers"),this.delayedAudioAppendQueue_.length=0,f.forEach(function(d){a.appendBuffer.apply(a,d)})}},i.audioBuffered=function(){return Bn(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:V.createTimeRange()},i.videoBuffered=function(){return Bn(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:V.createTimeRange()},i.buffered=function(){var n=Bn(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,s=Bn(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return s&&!n?this.audioBuffered():n&&!s?this.videoBuffered():wH(this.audioBuffered(),this.videoBuffered())},i.setDuration=function(n,s){s===void 0&&(s=fr),Xi({type:"mediaSource",sourceUpdater:this,action:Ki.duration(n),name:"duration",doneFn:s})},i.endOfStream=function(n,s){n===void 0&&(n=null),s===void 0&&(s=fr),typeof n!="string"&&(n=void 0),Xi({type:"mediaSource",sourceUpdater:this,action:Ki.endOfStream(n),name:"endOfStream",doneFn:s})},i.removeAudio=function(n,s,a){if(a===void 0&&(a=fr),!this.audioBuffered().length||this.audioBuffered().end(0)===0){a();return}Xi({type:"audio",sourceUpdater:this,action:Ki.remove(n,s),doneFn:a,name:"remove"})},i.removeVideo=function(n,s,a){if(a===void 0&&(a=fr),!this.videoBuffered().length||this.videoBuffered().end(0)===0){a();return}Xi({type:"video",sourceUpdater:this,action:Ki.remove(n,s),doneFn:a,name:"remove"})},i.updating=function(){return!!(Ug("audio",this)||Ug("video",this))},i.audioTimestampOffset=function(n){return typeof n<"u"&&this.audioBuffer&&this.audioTimestampOffset_!==n&&(Xi({type:"audio",sourceUpdater:this,action:Ki.timestampOffset(n),name:"timestampOffset"}),this.audioTimestampOffset_=n),this.audioTimestampOffset_},i.videoTimestampOffset=function(n){return typeof n<"u"&&this.videoBuffer&&this.videoTimestampOffset!==n&&(Xi({type:"video",sourceUpdater:this,action:Ki.timestampOffset(n),name:"timestampOffset"}),this.videoTimestampOffset_=n),this.videoTimestampOffset_},i.audioQueueCallback=function(n){!this.audioBuffer||Xi({type:"audio",sourceUpdater:this,action:Ki.callback(n),name:"callback"})},i.videoQueueCallback=function(n){!this.videoBuffer||Xi({type:"video",sourceUpdater:this,action:Ki.callback(n),name:"callback"})},i.dispose=function(){var n=this;this.trigger("dispose"),tW.forEach(function(s){n.abort(s),n.canRemoveSourceBuffer()?n.removeSourceBuffer(s):n[s+"QueueCallback"](function(){return WA(s,n)})}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()},e}(V.EventTarget),gS=function(e){return decodeURIComponent(escape(String.fromCharCode.apply(null,e)))},yS=new Uint8Array(`

`.split("").map(function(t){return t.charCodeAt(0)})),nW=function(t){le(e,t);function e(){return t.call(this,"Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")||this}return e}(bg(Error)),rW=function(t){le(e,t);function e(r,n){var s;return n===void 0&&(n={}),s=t.call(this,r,n)||this,s.mediaSource_=null,s.subtitlesTrack_=null,s.loaderType_="subtitle",s.featuresNativeTextTracks_=r.featuresNativeTextTracks,s.loadVttJs=r.loadVttJs,s.shouldSaveSegmentTimingInfo_=!1,s}var i=e.prototype;return i.createTransmuxer_=function(){return null},i.buffered_=function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return V.createTimeRanges();var n=this.subtitlesTrack_.cues,s=n[0].startTime,a=n[n.length-1].startTime;return V.createTimeRanges([[s,a]])},i.initSegmentForMap=function(n,s){if(s===void 0&&(s=!1),!n)return null;var a=Hf(n),o=this.initSegments_[a];if(s&&!o&&n.bytes){var l=yS.byteLength+n.bytes.byteLength,u=new Uint8Array(l);u.set(n.bytes),u.set(yS,n.bytes.byteLength),this.initSegments_[a]=o={resolvedUri:n.resolvedUri,byterange:n.byterange,bytes:u}}return o||n},i.couldBeginLoading_=function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()},i.init_=function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()},i.track=function(n){return typeof n>"u"?this.subtitlesTrack_:(this.subtitlesTrack_=n,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)},i.remove=function(n,s){Ll(n,s,this.subtitlesTrack_)},i.fillBuffer_=function(){var n=this,s=this.chooseNextRequest_();if(!!s){if(this.syncController_.timestampOffsetForTimeline(s.timeline)===null){var a=function(){n.state="READY",n.paused()||n.monitorBuffer_()};this.syncController_.one("timestampoffset",a),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(s)}},i.timestampOffsetForSegment_=function(){return null},i.chooseNextRequest_=function(){return this.skipEmptySegments_(t.prototype.chooseNextRequest_.call(this))},i.skipEmptySegments_=function(n){for(;n&&n.segment.empty;){if(n.mediaIndex+1>=n.playlist.segments.length){n=null;break}n=this.generateSegmentInfo_({playlist:n.playlist,mediaIndex:n.mediaIndex+1,startOfSegment:n.startOfSegment+n.duration,isSyncRequest:n.isSyncRequest})}return n},i.stopForError=function(n){this.error(n),this.state="READY",this.pause(),this.trigger("error")},i.segmentRequestFinished_=function(n,s,a){var o=this;if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(s.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(n){n.code===Gn.TIMEOUT&&this.handleTimeout_(),n.code===Gn.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(n);return}var l=this.pendingSegment_;this.saveBandwidthRelatedStats_(l.duration,s.stats),s.key&&this.segmentKey(s.key,!0),this.state="APPENDING",this.trigger("appending");var u=l.segment;if(u.map&&(u.map.bytes=s.map.bytes),l.bytes=s.bytes,typeof j.WebVTT!="function"&&typeof this.loadVttJs=="function"){this.state="WAITING_ON_VTTJS",this.loadVttJs().then(function(){return o.segmentRequestFinished_(n,s,a)},function(){return o.stopForError({message:"Error loading vtt.js"})});return}u.requested=!0;try{this.parseVTTCues_(l)}catch(c){this.stopForError({message:c.message});return}if(this.updateTimeMapping_(l,this.syncController_.timelines[l.timeline],this.playlist_),l.cues.length?l.timingInfo={start:l.cues[0].startTime,end:l.cues[l.cues.length-1].endTime}:l.timingInfo={start:l.startOfSegment,end:l.startOfSegment+l.duration},l.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}l.byteLength=l.bytes.byteLength,this.mediaSecondsLoaded+=u.duration,l.cues.forEach(function(c){o.subtitlesTrack_.addCue(o.featuresNativeTextTracks_?new j.VTTCue(c.startTime,c.endTime,c.text):c)}),H7(this.subtitlesTrack_),this.handleAppendsDone_()},i.handleData_=function(){},i.updateTimingInfoEnd_=function(){},i.parseVTTCues_=function(n){var s,a=!1;if(typeof j.WebVTT!="function")throw new nW;typeof j.TextDecoder=="function"?s=new j.TextDecoder("utf8"):(s=j.WebVTT.StringDecoder(),a=!0);var o=new j.WebVTT.Parser(j,j.vttjs,s);if(n.cues=[],n.timestampmap={MPEGTS:0,LOCAL:0},o.oncue=n.cues.push.bind(n.cues),o.ontimestampmap=function(c){n.timestampmap=c},o.onparsingerror=function(c){V.log.warn("Error encountered when parsing cues: "+c.message)},n.segment.map){var l=n.segment.map.bytes;a&&(l=gS(l)),o.parse(l)}var u=n.bytes;a&&(u=gS(u)),o.parse(u),o.flush()},i.updateTimeMapping_=function(n,s,a){var o=n.segment;if(!!s){if(!n.cues.length){o.empty=!0;return}var l=n.timestampmap,u=l.MPEGTS/If.ONE_SECOND_IN_TS-l.LOCAL+s.mapping;if(n.cues.forEach(function(d){d.startTime+=u,d.endTime+=u}),!a.syncInfo){var c=n.cues[0].startTime,f=n.cues[n.cues.length-1].startTime;a.syncInfo={mediaSequence:a.mediaSequence+n.mediaIndex,time:Math.min(c,f-o.duration)}}}},e}(Fg),sW=function(e,i){for(var r=e.cues,n=0;n<r.length;n++){var s=r[n];if(i>=s.adStartTime&&i<=s.adEndTime)return s}return null},aW=function(e,i,r){if(r===void 0&&(r=0),!!e.segments)for(var n=r,s,a=0;a<e.segments.length;a++){var o=e.segments[a];if(s||(s=sW(i,n+o.duration/2)),s){if("cueIn"in o){s.endTime=n,s.adEndTime=n,n+=o.duration,s=null;continue}if(n<s.endTime){n+=o.duration;continue}s.endTime+=o.duration}else if("cueOut"in o&&(s=new j.VTTCue(n,n+o.duration,o.cueOut),s.adStartTime=n,s.adEndTime=n+parseFloat(o.cueOut),i.addCue(s)),"cueOutCont"in o){var l=o.cueOutCont.split("/").map(parseFloat),u=l[0],c=l[1];s=new j.VTTCue(n,n+o.duration,""),s.adStartTime=n-u,s.adEndTime=s.adStartTime+c,i.addCue(s)}n+=o.duration}},oW=86400,_S=[{name:"VOD",run:function(e,i,r,n,s){if(r!==1/0){var a={time:0,segmentIndex:0,partIndex:null};return a}return null}},{name:"ProgramDateTime",run:function(e,i,r,n,s){if(!Object.keys(e.timelineToDatetimeMappings).length)return null;var a=null,o=null,l=Ag(i);s=s||0;for(var u=0;u<l.length;u++){var c=i.endList||s===0?u:l.length-(u+1),f=l[c],d=f.segment,p=e.timelineToDatetimeMappings[d.timeline];if(!(!p||!d.dateTimeObject)){var g=d.dateTimeObject.getTime()/1e3,b=g+p;if(d.parts&&typeof f.partIndex=="number")for(var y=0;y<f.partIndex;y++)b+=d.parts[y].duration;var T=Math.abs(s-b);if(o!==null&&(T===0||o<T))break;o=T,a={time:b,segmentIndex:f.segmentIndex,partIndex:f.partIndex}}}return a}},{name:"Segment",run:function(e,i,r,n,s){var a=null,o=null;s=s||0;for(var l=Ag(i),u=0;u<l.length;u++){var c=i.endList||s===0?u:l.length-(u+1),f=l[c],d=f.segment,p=f.part&&f.part.start||d&&d.start;if(d.timeline===n&&typeof p<"u"){var g=Math.abs(s-p);if(o!==null&&o<g)break;(!a||o===null||o>=g)&&(o=g,a={time:p,segmentIndex:f.segmentIndex,partIndex:f.partIndex})}}return a}},{name:"Discontinuity",run:function(e,i,r,n,s){var a=null;if(s=s||0,i.discontinuityStarts&&i.discontinuityStarts.length)for(var o=null,l=0;l<i.discontinuityStarts.length;l++){var u=i.discontinuityStarts[l],c=i.discontinuitySequence+l+1,f=e.discontinuities[c];if(f){var d=Math.abs(s-f.time);if(o!==null&&o<d)break;(!a||o===null||o>=d)&&(o=d,a={time:f.time,segmentIndex:u,partIndex:null})}}return a}},{name:"Playlist",run:function(e,i,r,n,s){if(i.syncInfo){var a={time:i.syncInfo.time,segmentIndex:i.syncInfo.mediaSequence-i.mediaSequence,partIndex:null};return a}return null}}],lW=function(t){le(e,t);function e(r){var n;return n=t.call(this)||this,n.timelines=[],n.discontinuities=[],n.timelineToDatetimeMappings={},n.logger_=jn("SyncController"),n}var i=e.prototype;return i.getSyncPoint=function(n,s,a,o){var l=this.runStrategies_(n,s,a,o);return l.length?this.selectSyncPoint_(l,{key:"time",value:o}):null},i.getExpiredTime=function(n,s){if(!n||!n.segments)return null;var a=this.runStrategies_(n,s,n.discontinuitySequence,0);if(!a.length)return null;var o=this.selectSyncPoint_(a,{key:"segmentIndex",value:0});return o.segmentIndex>0&&(o.time*=-1),Math.abs(o.time+ru({defaultDuration:n.targetDuration,durationList:n.segments,startIndex:o.segmentIndex,endIndex:0}))},i.runStrategies_=function(n,s,a,o){for(var l=[],u=0;u<_S.length;u++){var c=_S[u],f=c.run(this,n,s,a,o);f&&(f.strategy=c.name,l.push({strategy:c.name,syncPoint:f}))}return l},i.selectSyncPoint_=function(n,s){for(var a=n[0].syncPoint,o=Math.abs(n[0].syncPoint[s.key]-s.value),l=n[0].strategy,u=1;u<n.length;u++){var c=Math.abs(n[u].syncPoint[s.key]-s.value);c<o&&(o=c,a=n[u].syncPoint,l=n[u].strategy)}return this.logger_("syncPoint for ["+s.key+": "+s.value+"] chosen with strategy"+(" ["+l+"]: [time:"+a.time+",")+(" segmentIndex:"+a.segmentIndex)+(typeof a.partIndex=="number"?",partIndex:"+a.partIndex:"")+"]"),a},i.saveExpiredSegmentInfo=function(n,s){var a=s.mediaSequence-n.mediaSequence;if(a>oW){V.log.warn("Not saving expired segment info. Media sequence gap "+a+" is too large.");return}for(var o=a-1;o>=0;o--){var l=n.segments[o];if(l&&typeof l.start<"u"){s.syncInfo={mediaSequence:n.mediaSequence+o,time:l.start},this.logger_("playlist refresh sync: [time:"+s.syncInfo.time+","+(" mediaSequence: "+s.syncInfo.mediaSequence+"]")),this.trigger("syncinfoupdate");break}}},i.setDateTimeMappingForStart=function(n){if(this.timelineToDatetimeMappings={},n.segments&&n.segments.length&&n.segments[0].dateTimeObject){var s=n.segments[0],a=s.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[s.timeline]=-a}},i.saveSegmentTimingInfo=function(n){var s=n.segmentInfo,a=n.shouldSaveTimelineMapping,o=this.calculateSegmentTimeMapping_(s,s.timingInfo,a),l=s.segment;o&&(this.saveDiscontinuitySyncInfo_(s),s.playlist.syncInfo||(s.playlist.syncInfo={mediaSequence:s.playlist.mediaSequence+s.mediaIndex,time:l.start}));var u=l.dateTimeObject;l.discontinuity&&a&&u&&(this.timelineToDatetimeMappings[l.timeline]=-(u.getTime()/1e3))},i.timestampOffsetForTimeline=function(n){return typeof this.timelines[n]>"u"?null:this.timelines[n].time},i.mappingForTimeline=function(n){return typeof this.timelines[n]>"u"?null:this.timelines[n].mapping},i.calculateSegmentTimeMapping_=function(n,s,a){var o=n.segment,l=n.part,u=this.timelines[n.timeline],c,f;if(typeof n.timestampOffset=="number")u={time:n.startOfSegment,mapping:n.startOfSegment-s.start},a&&(this.timelines[n.timeline]=u,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+n.timeline+": "+("[time: "+u.time+"] [mapping: "+u.mapping+"]"))),c=n.startOfSegment,f=s.end+u.mapping;else if(u)c=s.start+u.mapping,f=s.end+u.mapping;else return!1;return l&&(l.start=c,l.end=f),(!o.start||c<o.start)&&(o.start=c),o.end=f,!0},i.saveDiscontinuitySyncInfo_=function(n){var s=n.playlist,a=n.segment;if(a.discontinuity)this.discontinuities[a.timeline]={time:a.start,accuracy:0};else if(s.discontinuityStarts&&s.discontinuityStarts.length)for(var o=0;o<s.discontinuityStarts.length;o++){var l=s.discontinuityStarts[o],u=s.discontinuitySequence+o+1,c=l-n.mediaIndex,f=Math.abs(c);if(!this.discontinuities[u]||this.discontinuities[u].accuracy>f){var d=void 0;c<0?d=a.start-ru({defaultDuration:s.targetDuration,durationList:s.segments,startIndex:n.mediaIndex,endIndex:l}):d=a.end+ru({defaultDuration:s.targetDuration,durationList:s.segments,startIndex:n.mediaIndex+1,endIndex:l}),this.discontinuities[u]={time:d,accuracy:f}}}},i.dispose=function(){this.trigger("dispose"),this.off()},e}(V.EventTarget),uW=function(t){le(e,t);function e(){var r;return r=t.call(this)||this,r.pendingTimelineChanges_={},r.lastTimelineChanges_={},r}var i=e.prototype;return i.clearPendingTimelineChange=function(n){this.pendingTimelineChanges_[n]=null,this.trigger("pendingtimelinechange")},i.pendingTimelineChange=function(n){var s=n.type,a=n.from,o=n.to;return typeof a=="number"&&typeof o=="number"&&(this.pendingTimelineChanges_[s]={type:s,from:a,to:o},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[s]},i.lastTimelineChange=function(n){var s=n.type,a=n.from,o=n.to;return typeof a=="number"&&typeof o=="number"&&(this.lastTimelineChanges_[s]={type:s,from:a,to:o},delete this.pendingTimelineChanges_[s],this.trigger("timelinechange")),this.lastTimelineChanges_[s]},i.dispose=function(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()},e}(V.EventTarget),cW=IA(DA(function(){var t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function e(O,M,R){return R={path:M,exports:{},require:function(E,C){return i(E,C??R.path)}},O(R,R.exports),R.exports}function i(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var r=e(function(O){function M(A,E){for(var C=0;C<E.length;C++){var P=E[C];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(A,P.key,P)}}function R(A,E,C){return E&&M(A.prototype,E),C&&M(A,C),A}O.exports=R,O.exports.default=O.exports,O.exports.__esModule=!0}),n=e(function(O){function M(R,A){return O.exports=M=Object.setPrototypeOf||function(C,P){return C.__proto__=P,C},O.exports.default=O.exports,O.exports.__esModule=!0,M(R,A)}O.exports=M,O.exports.default=O.exports,O.exports.__esModule=!0}),s=e(function(O){function M(R,A){R.prototype=Object.create(A.prototype),R.prototype.constructor=R,n(R,A)}O.exports=M,O.exports.default=O.exports,O.exports.__esModule=!0}),a=function(){function O(){this.listeners={}}var M=O.prototype;return M.on=function(A,E){this.listeners[A]||(this.listeners[A]=[]),this.listeners[A].push(E)},M.off=function(A,E){if(!this.listeners[A])return!1;var C=this.listeners[A].indexOf(E);return this.listeners[A]=this.listeners[A].slice(0),this.listeners[A].splice(C,1),C>-1},M.trigger=function(A){var E=this.listeners[A];if(!!E)if(arguments.length===2)for(var C=E.length,P=0;P<C;++P)E[P].call(this,arguments[1]);else for(var U=Array.prototype.slice.call(arguments,1),B=E.length,G=0;G<B;++G)E[G].apply(this,U)},M.dispose=function(){this.listeners={}},M.pipe=function(A){this.on("data",function(E){A.push(E)})},O}();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function o(O){return O.subarray(0,O.byteLength-O[O.byteLength-1])}/*! @name aes-decrypter @version 3.1.3 @license Apache-2.0 */var l=function(){var M=[[[],[],[],[],[]],[[],[],[],[],[]]],R=M[0],A=M[1],E=R[4],C=A[4],P,U,B,G=[],W=[],Y,ee,K,q,X,Z;for(P=0;P<256;P++)W[(G[P]=P<<1^(P>>7)*283)^P]=P;for(U=B=0;!E[U];U^=Y||1,B=W[B]||1)for(q=B^B<<1^B<<2^B<<3^B<<4,q=q>>8^q&255^99,E[U]=q,C[q]=U,K=G[ee=G[Y=G[U]]],Z=K*16843009^ee*65537^Y*257^U*16843008,X=G[q]*257^q*16843008,P=0;P<4;P++)R[P][U]=X=X<<24^X>>>8,A[P][q]=Z=Z<<24^Z>>>8;for(P=0;P<5;P++)R[P]=R[P].slice(0),A[P]=A[P].slice(0);return M},u=null,c=function(){function O(R){u||(u=l()),this._tables=[[u[0][0].slice(),u[0][1].slice(),u[0][2].slice(),u[0][3].slice(),u[0][4].slice()],[u[1][0].slice(),u[1][1].slice(),u[1][2].slice(),u[1][3].slice(),u[1][4].slice()]];var A,E,C,P=this._tables[0][4],U=this._tables[1],B=R.length,G=1;if(B!==4&&B!==6&&B!==8)throw new Error("Invalid aes key size");var W=R.slice(0),Y=[];for(this._key=[W,Y],A=B;A<4*B+28;A++)C=W[A-1],(A%B===0||B===8&&A%B===4)&&(C=P[C>>>24]<<24^P[C>>16&255]<<16^P[C>>8&255]<<8^P[C&255],A%B===0&&(C=C<<8^C>>>24^G<<24,G=G<<1^(G>>7)*283)),W[A]=W[A-B]^C;for(E=0;A;E++,A--)C=W[E&3?A:A-4],A<=4||E<4?Y[E]=C:Y[E]=U[0][P[C>>>24]]^U[1][P[C>>16&255]]^U[2][P[C>>8&255]]^U[3][P[C&255]]}var M=O.prototype;return M.decrypt=function(A,E,C,P,U,B){var G=this._key[1],W=A^G[0],Y=P^G[1],ee=C^G[2],K=E^G[3],q,X,Z,$=G.length/4-2,H,se=4,me=this._tables[1],ce=me[0],_e=me[1],be=me[2],De=me[3],de=me[4];for(H=0;H<$;H++)q=ce[W>>>24]^_e[Y>>16&255]^be[ee>>8&255]^De[K&255]^G[se],X=ce[Y>>>24]^_e[ee>>16&255]^be[K>>8&255]^De[W&255]^G[se+1],Z=ce[ee>>>24]^_e[K>>16&255]^be[W>>8&255]^De[Y&255]^G[se+2],K=ce[K>>>24]^_e[W>>16&255]^be[Y>>8&255]^De[ee&255]^G[se+3],se+=4,W=q,Y=X,ee=Z;for(H=0;H<4;H++)U[(3&-H)+B]=de[W>>>24]<<24^de[Y>>16&255]<<16^de[ee>>8&255]<<8^de[K&255]^G[se++],q=W,W=Y,Y=ee,ee=K,K=q},O}(),f=function(O){s(M,O);function M(){var A;return A=O.call(this,a)||this,A.jobs=[],A.delay=1,A.timeout_=null,A}var R=M.prototype;return R.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},R.push=function(E){this.jobs.push(E),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},M}(a),d=function(M){return M<<24|(M&65280)<<8|(M&16711680)>>8|M>>>24},p=function(M,R,A){var E=new Int32Array(M.buffer,M.byteOffset,M.byteLength>>2),C=new c(Array.prototype.slice.call(R)),P=new Uint8Array(M.byteLength),U=new Int32Array(P.buffer),B,G,W,Y,ee,K,q,X,Z;for(B=A[0],G=A[1],W=A[2],Y=A[3],Z=0;Z<E.length;Z+=4)ee=d(E[Z]),K=d(E[Z+1]),q=d(E[Z+2]),X=d(E[Z+3]),C.decrypt(ee,K,q,X,U,Z),U[Z]=d(U[Z]^B),U[Z+1]=d(U[Z+1]^G),U[Z+2]=d(U[Z+2]^W),U[Z+3]=d(U[Z+3]^Y),B=ee,G=K,W=q,Y=X;return P},g=function(){function O(R,A,E,C){var P=O.STEP,U=new Int32Array(R.buffer),B=new Uint8Array(R.byteLength),G=0;for(this.asyncStream_=new f,this.asyncStream_.push(this.decryptChunk_(U.subarray(G,G+P),A,E,B)),G=P;G<U.length;G+=P)E=new Uint32Array([d(U[G-4]),d(U[G-3]),d(U[G-2]),d(U[G-1])]),this.asyncStream_.push(this.decryptChunk_(U.subarray(G,G+P),A,E,B));this.asyncStream_.push(function(){C(null,o(B))})}var M=O.prototype;return M.decryptChunk_=function(A,E,C,P){return function(){var U=p(A,E,C);P.set(U,A.byteOffset)}},r(O,null,[{key:"STEP",get:function(){return 32e3}}]),O}(),b;typeof window<"u"?b=window:typeof t<"u"?b=t:typeof self<"u"?b=self:b={};var y=b,T=function(M){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(M):M&&M.buffer instanceof ArrayBuffer},S=y.BigInt||Number;S("0x1"),S("0x100"),S("0x10000"),S("0x1000000"),S("0x100000000"),S("0x10000000000"),S("0x1000000000000"),S("0x100000000000000"),S("0x10000000000000000");var I=function(M){var R={};return Object.keys(M).forEach(function(A){var E=M[A];T(E)?R[A]={bytes:E.buffer,byteOffset:E.byteOffset,byteLength:E.byteLength}:R[A]=E}),R};self.onmessage=function(O){var M=O.data,R=new Uint8Array(M.encrypted.bytes,M.encrypted.byteOffset,M.encrypted.byteLength),A=new Uint32Array(M.key.bytes,M.key.byteOffset,M.key.byteLength/4),E=new Uint32Array(M.iv.bytes,M.iv.byteOffset,M.iv.byteLength/4);new g(R,A,E,function(C,P){self.postMessage(I({source:M.source,decrypted:P}),[P.buffer])})}})),dW=AA(cW),fW=function(e){var i=e.default?"main":"alternative";return e.characteristics&&e.characteristics.indexOf("public.accessibility.describes-video")>=0&&(i="main-desc"),i},Gf=function(e,i){e.abort(),e.pause(),i&&i.activePlaylistLoader&&(i.activePlaylistLoader.pause(),i.activePlaylistLoader=null)},Bg=function(e,i){i.activePlaylistLoader=e,e.load()},hW=function(e,i){return function(){var r=i.segmentLoaders,n=r[e],s=r.main,a=i.mediaTypes[e],o=a.activeTrack(),l=a.getActiveGroup(),u=a.activePlaylistLoader,c=a.lastGroup_;if(!(l&&c&&l.id===c.id)&&(a.lastGroup_=l,a.lastTrack_=o,Gf(n,a),!(!l||l.isMasterPlaylist))){if(!l.playlistLoader){u&&s.resetEverything();return}n.resyncLoader(),Bg(l.playlistLoader,a)}}},pW=function(e,i){return function(){var r=i.segmentLoaders[e],n=i.mediaTypes[e];n.lastGroup_=null,r.abort(),r.pause()}},mW=function(e,i){return function(){var r=i.masterPlaylistLoader,n=i.segmentLoaders,s=n[e],a=n.main,o=i.mediaTypes[e],l=o.activeTrack(),u=o.getActiveGroup(),c=o.activePlaylistLoader,f=o.lastTrack_;if(!(f&&l&&f.id===l.id)&&(o.lastGroup_=u,o.lastTrack_=l,Gf(s,o),!!u)){if(u.isMasterPlaylist){if(!l||!f||l.id===f.id)return;var d=i.vhs.masterPlaylistController_,p=d.selectPlaylist();if(d.media()===p)return;o.logger_("track change. Switching master audio from "+f.id+" to "+l.id),r.pause(),a.resetEverything(),d.fastQualityChange_(p);return}if(e==="AUDIO"){if(!u.playlistLoader){a.setAudio(!0),a.resetEverything();return}s.setAudio(!0),a.setAudio(!1)}if(c===u.playlistLoader){Bg(u.playlistLoader,o);return}s.track&&s.track(l),s.resetEverything(),Bg(u.playlistLoader,o)}}},Kf={AUDIO:function(e,i){return function(){var r=i.segmentLoaders[e],n=i.mediaTypes[e],s=i.blacklistCurrentPlaylist;Gf(r,n);var a=n.activeTrack(),o=n.activeGroup(),l=(o.filter(function(f){return f.default})[0]||o[0]).id,u=n.tracks[l];if(a===u){s({message:"Problem encountered loading the default audio track."});return}V.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(var c in n.tracks)n.tracks[c].enabled=n.tracks[c]===u;n.onTrackChanged()}},SUBTITLES:function(e,i){return function(){var r=i.segmentLoaders[e],n=i.mediaTypes[e];V.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),Gf(r,n);var s=n.activeTrack();s&&(s.mode="disabled"),n.onTrackChanged()}}},bS={AUDIO:function(e,i,r){if(!!i){var n=r.tech,s=r.requestOptions,a=r.segmentLoaders[e];i.on("loadedmetadata",function(){var o=i.media();a.playlist(o,s),(!n.paused()||o.endList&&n.preload()!=="none")&&a.load()}),i.on("loadedplaylist",function(){a.playlist(i.media(),s),n.paused()||a.load()}),i.on("error",Kf[e](e,r))}},SUBTITLES:function(e,i,r){var n=r.tech,s=r.requestOptions,a=r.segmentLoaders[e],o=r.mediaTypes[e];i.on("loadedmetadata",function(){var l=i.media();a.playlist(l,s),a.track(o.activeTrack()),(!n.paused()||l.endList&&n.preload()!=="none")&&a.load()}),i.on("loadedplaylist",function(){a.playlist(i.media(),s),n.paused()||a.load()}),i.on("error",Kf[e](e,r))}},vW={AUDIO:function(e,i){var r=i.vhs,n=i.sourceType,s=i.segmentLoaders[e],a=i.requestOptions,o=i.master.mediaGroups,l=i.mediaTypes[e],u=l.groups,c=l.tracks,f=l.logger_,d=i.masterPlaylistLoader,p=Tc(d.master);(!o[e]||Object.keys(o[e]).length===0)&&(o[e]={main:{default:{default:!0}}},p&&(o[e].main.default.playlists=d.master.playlists));for(var g in o[e]){u[g]||(u[g]=[]);for(var b in o[e][g]){var y=o[e][g][b],T=void 0;if(p?(f("AUDIO group '"+g+"' label '"+b+"' is a master playlist"),y.isMasterPlaylist=!0,T=null):n==="vhs-json"&&y.playlists?T=new Fa(y.playlists[0],r,a):y.resolvedUri?T=new Fa(y.resolvedUri,r,a):y.playlists&&n==="dash"?T=new jg(y.playlists[0],r,a,d):T=null,y=V.mergeOptions({id:b,playlistLoader:T},y),bS[e](e,y.playlistLoader,i),u[g].push(y),typeof c[b]>"u"){var S=new V.AudioTrack({id:b,kind:fW(y),enabled:!1,language:y.language,default:y.default,label:b});c[b]=S}}}s.on("error",Kf[e](e,i))},SUBTITLES:function(e,i){var r=i.tech,n=i.vhs,s=i.sourceType,a=i.segmentLoaders[e],o=i.requestOptions,l=i.master.mediaGroups,u=i.mediaTypes[e],c=u.groups,f=u.tracks,d=i.masterPlaylistLoader;for(var p in l[e]){c[p]||(c[p]=[]);for(var g in l[e][p])if(!l[e][p][g].forced){var b=l[e][p][g],y=void 0;if(s==="hls")y=new Fa(b.resolvedUri,n,o);else if(s==="dash"){var T=b.playlists.filter(function(I){return I.excludeUntil!==1/0});if(!T.length)return;y=new jg(b.playlists[0],n,o,d)}else s==="vhs-json"&&(y=new Fa(b.playlists?b.playlists[0]:b.resolvedUri,n,o));if(b=V.mergeOptions({id:g,playlistLoader:y},b),bS[e](e,b.playlistLoader,i),c[p].push(b),typeof f[g]>"u"){var S=r.addRemoteTextTrack({id:g,kind:"subtitles",default:b.default&&b.autoselect,language:b.language,label:g},!1).track;f[g]=S}}}a.on("error",Kf[e](e,i))},"CLOSED-CAPTIONS":function(e,i){var r=i.tech,n=i.master.mediaGroups,s=i.mediaTypes[e],a=s.groups,o=s.tracks;for(var l in n[e]){a[l]||(a[l]=[]);for(var u in n[e][l]){var c=n[e][l][u];if(!!/^(?:CC|SERVICE)/.test(c.instreamId)){var f=r.options_.vhs&&r.options_.vhs.captionServices||{},d={label:u,language:c.language,instreamId:c.instreamId,default:c.default&&c.autoselect};if(f[d.instreamId]&&(d=V.mergeOptions(d,f[d.instreamId])),d.default===void 0&&delete d.default,a[l].push(V.mergeOptions({id:u},c)),typeof o[u]>"u"){var p=r.addRemoteTextTrack({id:d.instreamId,kind:"captions",default:d.default,language:d.language,label:d.label},!1).track;o[u]=p}}}}}},gW=function t(e,i){for(var r=0;r<e.length;r++)if(R_(i,e[r])||e[r].playlists&&t(e[r].playlists,i))return!0;return!1},yW=function(e,i){return function(r){var n=i.masterPlaylistLoader,s=i.mediaTypes[e].groups,a=n.media();if(!a)return null;var o=null;a.attributes[e]&&(o=s[a.attributes[e]]);var l=Object.keys(s);if(!o)if(e==="AUDIO"&&l.length>1&&Tc(i.master))for(var u=0;u<l.length;u++){var c=s[l[u]];if(gW(c,a)){o=c;break}}else s.main?o=s.main:l.length===1&&(o=s[l[0]]);return typeof r>"u"?o:r===null||!o?null:o.filter(function(f){return f.id===r.id})[0]||null}},_W={AUDIO:function(e,i){return function(){var r=i.mediaTypes[e].tracks;for(var n in r)if(r[n].enabled)return r[n];return null}},SUBTITLES:function(e,i){return function(){var r=i.mediaTypes[e].tracks;for(var n in r)if(r[n].mode==="showing"||r[n].mode==="hidden")return r[n];return null}}},bW=function(e,i){var r=i.mediaTypes;return function(){var n=r[e].activeTrack();return n?r[e].activeGroup(n):null}},TW=function(e){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(g){vW[g](g,e)});var i=e.mediaTypes,r=e.masterPlaylistLoader,n=e.tech,s=e.vhs,a=e.segmentLoaders,o=a.AUDIO,l=a.main;["AUDIO","SUBTITLES"].forEach(function(g){i[g].activeGroup=yW(g,e),i[g].activeTrack=_W[g](g,e),i[g].onGroupChanged=hW(g,e),i[g].onGroupChanging=pW(g,e),i[g].onTrackChanged=mW(g,e),i[g].getActiveGroup=bW(g,e)});var u=i.AUDIO.activeGroup();if(u){var c=(u.filter(function(g){return g.default})[0]||u[0]).id;i.AUDIO.tracks[c].enabled=!0,i.AUDIO.onGroupChanged(),i.AUDIO.onTrackChanged();var f=i.AUDIO.getActiveGroup();f.playlistLoader?(l.setAudio(!1),o.setAudio(!0)):l.setAudio(!0)}r.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(g){return i[g].onGroupChanged()})}),r.on("mediachanging",function(){["AUDIO","SUBTITLES"].forEach(function(g){return i[g].onGroupChanging()})});var d=function(){i.AUDIO.onTrackChanged(),n.trigger({type:"usage",name:"vhs-audio-change"}),n.trigger({type:"usage",name:"hls-audio-change"})};n.audioTracks().addEventListener("change",d),n.remoteTextTracks().addEventListener("change",i.SUBTITLES.onTrackChanged),s.on("dispose",function(){n.audioTracks().removeEventListener("change",d),n.remoteTextTracks().removeEventListener("change",i.SUBTITLES.onTrackChanged)}),n.clearTracks("audio");for(var p in i.AUDIO.tracks)n.audioTracks().addTrack(i.AUDIO.tracks[p])},xW=function(){var e={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(i){e[i]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:fr,activeTrack:fr,getActiveGroup:fr,onGroupChanged:fr,onTrackChanged:fr,lastTrack_:null,logger_:jn("MediaGroups["+i+"]")}}),e},wW=60*2,ar,SW=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],EW=function(e){return this.audioSegmentLoader_[e]+this.mainSegmentLoader_[e]},CW=function(e){var i=e.currentPlaylist,r=e.buffered,n=e.currentTime,s=e.nextPlaylist,a=e.bufferLowWaterLine,o=e.bufferHighWaterLine,l=e.duration,u=e.experimentalBufferBasedABR,c=e.log;if(!s)return V.log.warn("We received no playlist to switch to. Please check your stream."),!1;var f="allowing switch "+(i&&i.id||"null")+" -> "+s.id;if(!i)return c(f+" as current playlist is not set"),!0;if(s.id===i.id)return!1;var d=Boolean(Na(r,n).length);if(!i.endList)return!d&&typeof i.partTargetDuration=="number"?(c("not "+f+" as current playlist is live llhls, but currentTime isn't in buffered."),!1):(c(f+" as current playlist is live"),!0);var p=I_(r,n),g=u?Rt.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:Rt.MAX_BUFFER_LOW_WATER_LINE;if(l<g)return c(f+" as duration < max low water line ("+l+" < "+g+")"),!0;var b=s.attributes.BANDWIDTH,y=i.attributes.BANDWIDTH;if(b<y&&(!u||p<o)){var T=f+" as next bandwidth < current bandwidth ("+b+" < "+y+")";return u&&(T+=" and forwardBuffer < bufferHighWaterLine ("+p+" < "+o+")"),c(T),!0}if((!u||b>y)&&p>=a){var S=f+" as forwardBuffer >= bufferLowWaterLine ("+p+" >= "+a+")";return u&&(S+=" and next bandwidth > current bandwidth ("+b+" > "+y+")"),c(S),!0}return c("not "+f+" as no switching criteria met"),!1},kW=function(t){le(e,t);function e(r){var n;n=t.call(this)||this;var s=r.src,a=r.handleManifestRedirects,o=r.withCredentials,l=r.tech,u=r.bandwidth,c=r.externVhs,f=r.useCueTags,d=r.blacklistDuration,p=r.enableLowInitialPlaylist,g=r.sourceType,b=r.cacheEncryptionKeys,y=r.experimentalBufferBasedABR,T=r.experimentalLeastPixelDiffSelector,S=r.captionServices;if(!s)throw new Error("A non-empty playlist URL or JSON manifest string is required");var I=r.maxPlaylistRetries;(I===null||typeof I>"u")&&(I=1/0),ar=c,n.experimentalBufferBasedABR=Boolean(y),n.experimentalLeastPixelDiffSelector=Boolean(T),n.withCredentials=o,n.tech_=l,n.vhs_=l.vhs,n.sourceType_=g,n.useCueTags_=f,n.blacklistDuration=d,n.maxPlaylistRetries=I,n.enableLowInitialPlaylist=p,n.useCueTags_&&(n.cueTagsTrack_=n.tech_.addTextTrack("metadata","ad-cues"),n.cueTagsTrack_.inBandMetadataTrackDispatchType=""),n.requestOptions_={withCredentials:o,handleManifestRedirects:a,maxPlaylistRetries:I,timeout:null},n.on("error",n.pauseLoading),n.mediaTypes_=xW(),n.mediaSource=new j.MediaSource,n.handleDurationChange_=n.handleDurationChange_.bind(Ee(n)),n.handleSourceOpen_=n.handleSourceOpen_.bind(Ee(n)),n.handleSourceEnded_=n.handleSourceEnded_.bind(Ee(n)),n.mediaSource.addEventListener("durationchange",n.handleDurationChange_),n.mediaSource.addEventListener("sourceopen",n.handleSourceOpen_),n.mediaSource.addEventListener("sourceended",n.handleSourceEnded_),n.seekable_=V.createTimeRanges(),n.hasPlayed_=!1,n.syncController_=new lW(r),n.segmentMetadataTrack_=l.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,n.decrypter_=new dW,n.sourceUpdater_=new qA(n.mediaSource),n.inbandTextTracks_={},n.timelineChangeController_=new uW;var O={vhs:n.vhs_,parse708captions:r.parse708captions,useDtsForTimestampOffset:r.useDtsForTimestampOffset,captionServices:S,mediaSource:n.mediaSource,currentTime:n.tech_.currentTime.bind(n.tech_),seekable:function(){return n.seekable()},seeking:function(){return n.tech_.seeking()},duration:function(){return n.duration()},hasPlayed:function(){return n.hasPlayed_},goalBufferLength:function(){return n.goalBufferLength()},bandwidth:u,syncController:n.syncController_,decrypter:n.decrypter_,sourceType:n.sourceType_,inbandTextTracks:n.inbandTextTracks_,cacheEncryptionKeys:b,sourceUpdater:n.sourceUpdater_,timelineChangeController:n.timelineChangeController_,experimentalExactManifestTimings:r.experimentalExactManifestTimings};n.masterPlaylistLoader_=n.sourceType_==="dash"?new jg(s,n.vhs_,n.requestOptions_):new Fa(s,n.vhs_,n.requestOptions_),n.setupMasterPlaylistLoaderListeners_(),n.mainSegmentLoader_=new Fg(V.mergeOptions(O,{segmentMetadataTrack:n.segmentMetadataTrack_,loaderType:"main"}),r),n.audioSegmentLoader_=new Fg(V.mergeOptions(O,{loaderType:"audio"}),r),n.subtitleSegmentLoader_=new rW(V.mergeOptions(O,{loaderType:"vtt",featuresNativeTextTracks:n.tech_.featuresNativeTextTracks,loadVttJs:function(){return new Promise(function(A,E){function C(){l.off("vttjserror",P),A()}function P(){l.off("vttjsloaded",C),E()}l.one("vttjsloaded",C),l.one("vttjserror",P),l.addWebVttScript_()})}}),r),n.setupSegmentLoaderListeners_(),n.experimentalBufferBasedABR&&(n.masterPlaylistLoader_.one("loadedplaylist",function(){return n.startABRTimer_()}),n.tech_.on("pause",function(){return n.stopABRTimer_()}),n.tech_.on("play",function(){return n.startABRTimer_()})),SW.forEach(function(R){n[R+"_"]=EW.bind(Ee(n),R)}),n.logger_=jn("MPC"),n.triggeredFmp4Usage=!1,n.tech_.preload()==="none"?(n.loadOnPlay_=function(){n.loadOnPlay_=null,n.masterPlaylistLoader_.load()},n.tech_.one("play",n.loadOnPlay_)):n.masterPlaylistLoader_.load(),n.timeToLoadedData__=-1,n.mainAppendsToLoadedData__=-1,n.audioAppendsToLoadedData__=-1;var M=n.tech_.preload()==="none"?"play":"loadstart";return n.tech_.one(M,function(){var R=Date.now();n.tech_.one("loadeddata",function(){n.timeToLoadedData__=Date.now()-R,n.mainAppendsToLoadedData__=n.mainSegmentLoader_.mediaAppends,n.audioAppendsToLoadedData__=n.audioSegmentLoader_.mediaAppends})}),n}var i=e.prototype;return i.mainAppendsToLoadedData_=function(){return this.mainAppendsToLoadedData__},i.audioAppendsToLoadedData_=function(){return this.audioAppendsToLoadedData__},i.appendsToLoadedData_=function(){var n=this.mainAppendsToLoadedData_(),s=this.audioAppendsToLoadedData_();return n===-1||s===-1?-1:n+s},i.timeToLoadedData_=function(){return this.timeToLoadedData__},i.checkABR_=function(n){n===void 0&&(n="abr");var s=this.selectPlaylist();s&&this.shouldSwitchToMedia_(s)&&this.switchMedia_(s,n)},i.switchMedia_=function(n,s,a){var o=this.media(),l=o&&(o.id||o.uri),u=n.id||n.uri;l&&l!==u&&(this.logger_("switch media "+l+" -> "+u+" from "+s),this.tech_.trigger({type:"usage",name:"vhs-rendition-change-"+s})),this.masterPlaylistLoader_.media(n,a)},i.startABRTimer_=function(){var n=this;this.stopABRTimer_(),this.abrTimer_=j.setInterval(function(){return n.checkABR_()},250)},i.stopABRTimer_=function(){this.tech_.scrubbing&&this.tech_.scrubbing()||(j.clearInterval(this.abrTimer_),this.abrTimer_=null)},i.getAudioTrackPlaylists_=function(){var n=this.master(),s=n&&n.playlists||[];if(!n||!n.mediaGroups||!n.mediaGroups.AUDIO)return s;var a=n.mediaGroups.AUDIO,o=Object.keys(a),l;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)l=this.mediaTypes_.AUDIO.activeTrack();else{var u=a.main||o.length&&a[o[0]];for(var c in u)if(u[c].default){l={label:c};break}}if(!l)return s;var f=[];for(var d in a)if(a[d][l.label]){var p=a[d][l.label];if(p.playlists&&p.playlists.length)f.push.apply(f,p.playlists);else if(p.uri)f.push(p);else if(n.playlists.length)for(var g=0;g<n.playlists.length;g++){var b=n.playlists[g];b.attributes&&b.attributes.AUDIO&&b.attributes.AUDIO===d&&f.push(b)}}return f.length?f:s},i.setupMasterPlaylistLoaderListeners_=function(){var n=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var s=n.masterPlaylistLoader_.media(),a=s.targetDuration*1.5*1e3;Ig(n.masterPlaylistLoader_.master,n.masterPlaylistLoader_.media())?n.requestOptions_.timeout=0:n.requestOptions_.timeout=a,s.endList&&n.tech_.preload()!=="none"&&(n.mainSegmentLoader_.playlist(s,n.requestOptions_),n.mainSegmentLoader_.load()),TW({sourceType:n.sourceType_,segmentLoaders:{AUDIO:n.audioSegmentLoader_,SUBTITLES:n.subtitleSegmentLoader_,main:n.mainSegmentLoader_},tech:n.tech_,requestOptions:n.requestOptions_,masterPlaylistLoader:n.masterPlaylistLoader_,vhs:n.vhs_,master:n.master(),mediaTypes:n.mediaTypes_,blacklistCurrentPlaylist:n.blacklistCurrentPlaylist.bind(n)}),n.triggerPresenceUsage_(n.master(),s),n.setupFirstPlay(),!n.mediaTypes_.AUDIO.activePlaylistLoader||n.mediaTypes_.AUDIO.activePlaylistLoader.media()?n.trigger("selectedinitialmedia"):n.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",function(){n.trigger("selectedinitialmedia")})}),this.masterPlaylistLoader_.on("loadedplaylist",function(){n.loadOnPlay_&&n.tech_.off("play",n.loadOnPlay_);var s=n.masterPlaylistLoader_.media();if(!s){n.excludeUnsupportedVariants_();var a;if(n.enableLowInitialPlaylist&&(a=n.selectInitialPlaylist()),a||(a=n.selectPlaylist()),!a||!n.shouldSwitchToMedia_(a))return;n.initialMedia_=a,n.switchMedia_(n.initialMedia_,"initial");var o=n.sourceType_==="vhs-json"&&n.initialMedia_.segments;if(!o)return;s=n.initialMedia_}n.handleUpdatedMediaPlaylist(s)}),this.masterPlaylistLoader_.on("error",function(){n.blacklistCurrentPlaylist(n.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){n.mainSegmentLoader_.abort(),n.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var s=n.masterPlaylistLoader_.media(),a=s.targetDuration*1.5*1e3;Ig(n.masterPlaylistLoader_.master,n.masterPlaylistLoader_.media())?n.requestOptions_.timeout=0:n.requestOptions_.timeout=a,n.masterPlaylistLoader_.load(),n.mainSegmentLoader_.playlist(s,n.requestOptions_),n.mainSegmentLoader_.load(),n.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var s=n.masterPlaylistLoader_.media();if(s.lastExcludeReason_!=="playlist-unchanged"){var a=n.stuckAtPlaylistEnd_(s);a&&(n.blacklistCurrentPlaylist({message:"Playlist no longer updating.",reason:"playlist-unchanged"}),n.tech_.trigger("playliststuck"))}}),this.masterPlaylistLoader_.on("renditiondisabled",function(){n.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"}),n.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){n.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"}),n.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})},i.handleUpdatedMediaPlaylist=function(n){this.useCueTags_&&this.updateAdCues_(n),this.mainSegmentLoader_.playlist(n,this.requestOptions_),this.updateDuration(!n.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())},i.triggerPresenceUsage_=function(n,s){var a=n.mediaGroups||{},o=!0,l=Object.keys(a.AUDIO);for(var u in a.AUDIO)for(var c in a.AUDIO[u]){var f=a.AUDIO[u][c];f.uri||(o=!1)}o&&(this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),this.tech_.trigger({type:"usage",name:"hls-demuxed"})),Object.keys(a.SUBTITLES).length&&(this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),this.tech_.trigger({type:"usage",name:"hls-webvtt"})),ar.Playlist.isAes(s)&&(this.tech_.trigger({type:"usage",name:"vhs-aes"}),this.tech_.trigger({type:"usage",name:"hls-aes"})),l.length&&Object.keys(a.AUDIO[l[0]]).length>1&&(this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.tech_.trigger({type:"usage",name:"hls-alternate-audio"})),this.useCueTags_&&(this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"}),this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"}))},i.shouldSwitchToMedia_=function(n){var s=this.masterPlaylistLoader_.media()||this.masterPlaylistLoader_.pendingMedia_,a=this.tech_.currentTime(),o=this.bufferLowWaterLine(),l=this.bufferHighWaterLine(),u=this.tech_.buffered();return CW({buffered:u,currentTime:a,currentPlaylist:s,nextPlaylist:n,bufferLowWaterLine:o,bufferHighWaterLine:l,duration:this.duration(),experimentalBufferBasedABR:this.experimentalBufferBasedABR,log:this.logger_})},i.setupSegmentLoaderListeners_=function(){var n=this;this.mainSegmentLoader_.on("bandwidthupdate",function(){n.checkABR_("bandwidthupdate"),n.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("timeout",function(){n.experimentalBufferBasedABR&&n.mainSegmentLoader_.load()}),this.experimentalBufferBasedABR||this.mainSegmentLoader_.on("progress",function(){n.trigger("progress")}),this.mainSegmentLoader_.on("error",function(){n.blacklistCurrentPlaylist(n.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("appenderror",function(){n.error=n.mainSegmentLoader_.error_,n.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",function(){n.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){n.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"}),n.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){n.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",function(){n.error=n.audioSegmentLoader_.error_,n.trigger("error")}),this.mainSegmentLoader_.on("ended",function(){n.logger_("main segment loader ended"),n.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(a){n.experimentalBufferBasedABR||(n.delegateLoaders_("all",["abort"]),n.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},wW))});var s=function(){if(!n.sourceUpdater_.hasCreatedSourceBuffers())return n.tryToCreateSourceBuffers_();var o=n.getCodecsOrExclude_();!o||n.sourceUpdater_.addOrChangeSourceBuffers(o)};this.mainSegmentLoader_.on("trackinfo",s),this.audioSegmentLoader_.on("trackinfo",s),this.mainSegmentLoader_.on("fmp4",function(){n.triggeredFmp4Usage||(n.tech_.trigger({type:"usage",name:"vhs-fmp4"}),n.tech_.trigger({type:"usage",name:"hls-fmp4"}),n.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",function(){n.triggeredFmp4Usage||(n.tech_.trigger({type:"usage",name:"vhs-fmp4"}),n.tech_.trigger({type:"usage",name:"hls-fmp4"}),n.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",function(){n.logger_("audioSegmentLoader ended"),n.onEndOfStream()})},i.mediaSecondsLoaded_=function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)},i.load=function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()},i.smoothQualityChange_=function(n){n===void 0&&(n=this.selectPlaylist()),this.fastQualityChange_(n)},i.fastQualityChange_=function(n){var s=this;if(n===void 0&&(n=this.selectPlaylist()),n===this.masterPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(n,"fast-quality"),this.mainSegmentLoader_.resetEverything(function(){V.browser.IE_VERSION||V.browser.IS_EDGE?s.tech_.setCurrentTime(s.tech_.currentTime()+.04):s.tech_.setCurrentTime(s.tech_.currentTime())})},i.play=function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();var n=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<n.start(0))return this.tech_.setCurrentTime(n.end(n.length-1))}},i.setupFirstPlay=function(){var n=this,s=this.masterPlaylistLoader_.media();if(!s||this.tech_.paused()||this.hasPlayed_)return!1;if(!s.endList){var a=this.seekable();if(!a.length)return!1;if(V.browser.IE_VERSION&&this.tech_.readyState()===0)return this.tech_.one("loadedmetadata",function(){n.trigger("firstplay"),n.tech_.setCurrentTime(a.end(0)),n.hasPlayed_=!0}),!1;this.trigger("firstplay"),this.tech_.setCurrentTime(a.end(0))}return this.hasPlayed_=!0,this.load(),!0},i.handleSourceOpen_=function(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){var n=this.tech_.play();typeof n<"u"&&typeof n.then=="function"&&n.then(null,function(s){})}this.trigger("sourceopen")},i.handleSourceEnded_=function(){if(!!this.inbandTextTracks_.metadataTrack_){var n=this.inbandTextTracks_.metadataTrack_.cues;if(!(!n||!n.length)){var s=this.duration();n[n.length-1].endTime=isNaN(s)||Math.abs(s)===1/0?Number.MAX_VALUE:s}}},i.handleDurationChange_=function(){this.tech_.trigger("durationchange")},i.onEndOfStream=function(){var n=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){var s=this.mainSegmentLoader_.getCurrentMediaInfo_();!s||s.hasVideo?n=n&&this.audioSegmentLoader_.ended_:n=this.audioSegmentLoader_.ended_}!n||(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())},i.stuckAtPlaylistEnd_=function(n){var s=this.seekable();if(!s.length)return!1;var a=this.syncController_.getExpiredTime(n,this.duration());if(a===null)return!1;var o=ar.Playlist.playlistEnd(n,a),l=this.tech_.currentTime(),u=this.tech_.buffered();if(!u.length)return o-l<=$n;var c=u.end(u.length-1);return c-l<=$n&&o-c<=$n},i.blacklistCurrentPlaylist=function(n,s){n===void 0&&(n={});var a=n.playlist||this.masterPlaylistLoader_.media();if(s=s||n.blacklistDuration||this.blacklistDuration,!a){this.error=n,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}a.playlistErrors_++;var o=this.masterPlaylistLoader_.master.playlists,l=o.filter(Xh),u=l.length===1&&l[0]===a;if(o.length===1&&s!==1/0)return V.log.warn("Problem encountered with playlist "+a.id+". Trying again since it is the only playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(u);if(u){var c=!1;o.forEach(function(T){if(T!==a){var S=T.excludeUntil;typeof S<"u"&&S!==1/0&&(c=!0,delete T.excludeUntil)}}),c&&(V.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}var f;a.playlistErrors_>this.maxPlaylistRetries?f=1/0:f=Date.now()+s*1e3,a.excludeUntil=f,n.reason&&(a.lastExcludeReason_=n.reason),this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-blacklisted"}),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"});var d=this.selectPlaylist();if(!d){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}var p=n.internal?this.logger_:V.log.warn,g=n.message?" "+n.message:"";p((n.internal?"Internal problem":"Problem")+" encountered with playlist "+a.id+"."+(g+" Switching to playlist "+d.id+".")),d.attributes.AUDIO!==a.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),d.attributes.SUBTITLES!==a.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);var b=d.targetDuration/2*1e3||5*1e3,y=typeof d.lastRequest=="number"&&Date.now()-d.lastRequest<=b;return this.switchMedia_(d,"exclude",u||y)},i.pauseLoading=function(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()},i.delegateLoaders_=function(n,s){var a=this,o=[],l=n==="all";(l||n==="main")&&o.push(this.masterPlaylistLoader_);var u=[];(l||n==="audio")&&u.push("AUDIO"),(l||n==="subtitle")&&(u.push("CLOSED-CAPTIONS"),u.push("SUBTITLES")),u.forEach(function(c){var f=a.mediaTypes_[c]&&a.mediaTypes_[c].activePlaylistLoader;f&&o.push(f)}),["main","audio","subtitle"].forEach(function(c){var f=a[c+"SegmentLoader_"];f&&(n===c||n==="all")&&o.push(f)}),o.forEach(function(c){return s.forEach(function(f){typeof c[f]=="function"&&c[f]()})})},i.setCurrentTime=function(n){var s=Na(this.tech_.buffered(),n);if(!(this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media())||!this.masterPlaylistLoader_.media().segments)return 0;if(s&&s.length)return n;this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),this.load()},i.duration=function(){if(!this.masterPlaylistLoader_)return 0;var n=this.masterPlaylistLoader_.media();return n?n.endList?this.mediaSource?this.mediaSource.duration:ar.Playlist.duration(n):1/0:0},i.seekable=function(){return this.seekable_},i.onSyncInfoUpdate_=function(){var n;if(!!this.masterPlaylistLoader_){var s=this.masterPlaylistLoader_.media();if(!!s){var a=this.syncController_.getExpiredTime(s,this.duration());if(a!==null){var o=this.masterPlaylistLoader_.master,l=ar.Playlist.seekable(s,a,ar.Playlist.liveEdgeDelay(o,s));if(l.length!==0&&!(this.mediaTypes_.AUDIO.activePlaylistLoader&&(s=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),a=this.syncController_.getExpiredTime(s,this.duration()),a===null||(n=ar.Playlist.seekable(s,a,ar.Playlist.liveEdgeDelay(o,s)),n.length===0)))){var u,c;this.seekable_&&this.seekable_.length&&(u=this.seekable_.end(0),c=this.seekable_.start(0)),n?n.start(0)>l.end(0)||l.start(0)>n.end(0)?this.seekable_=l:this.seekable_=V.createTimeRanges([[n.start(0)>l.start(0)?n.start(0):l.start(0),n.end(0)<l.end(0)?n.end(0):l.end(0)]]):this.seekable_=l,!(this.seekable_&&this.seekable_.length&&this.seekable_.end(0)===u&&this.seekable_.start(0)===c)&&(this.logger_("seekable updated ["+lA(this.seekable_)+"]"),this.tech_.trigger("seekablechanged"))}}}}},i.updateDuration=function(n){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,n),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(n){var s=this.seekable();if(!s.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<s.end(s.length-1))&&this.sourceUpdater_.setDuration(s.end(s.length-1));return}var a=this.tech_.buffered(),o=ar.Playlist.duration(this.masterPlaylistLoader_.media());a.length>0&&(o=Math.max(o,a.end(a.length-1))),this.mediaSource.duration!==o&&this.sourceUpdater_.setDuration(o)},i.dispose=function(){var n=this;this.trigger("dispose"),this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(function(s){var a=n.mediaTypes_[s].groups;for(var o in a)a[o].forEach(function(l){l.playlistLoader&&l.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()},i.master=function(){return this.masterPlaylistLoader_.master},i.media=function(){return this.masterPlaylistLoader_.media()||this.initialMedia_},i.areMediaTypesKnown_=function(){var n=!!this.mediaTypes_.AUDIO.activePlaylistLoader,s=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),a=n?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!s||!a)},i.getCodecsOrExclude_=function(){var n=this,s={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}};s.video=s.main;var a=su(this.master(),this.media()),o={},l=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(s.main.hasVideo&&(o.video=a.video||s.main.videoCodec||Z8),s.main.isMuxed&&(o.video+=","+(a.audio||s.main.audioCodec||nw)),(s.main.hasAudio&&!s.main.isMuxed||s.audio.hasAudio||l)&&(o.audio=a.audio||s.main.audioCodec||s.audio.audioCodec||nw,s.audio.isFmp4=s.main.hasAudio&&!s.main.isMuxed?s.main.isFmp4:s.audio.isFmp4),!o.audio&&!o.video){this.blacklistCurrentPlaylist({playlist:this.media(),message:"Could not determine codecs for playlist.",blacklistDuration:1/0});return}var u=function(y,T){return y?jd(T):pm(T)},c={},f;if(["video","audio"].forEach(function(b){if(o.hasOwnProperty(b)&&!u(s[b].isFmp4,o[b])){var y=s[b].isFmp4?"browser":"muxer";c[y]=c[y]||[],c[y].push(o[b]),b==="audio"&&(f=y)}}),l&&f&&this.media().attributes.AUDIO){var d=this.media().attributes.AUDIO;this.master().playlists.forEach(function(b){var y=b.attributes&&b.attributes.AUDIO;y===d&&b!==n.media()&&(b.excludeUntil=1/0)}),this.logger_("excluding audio group "+d+" as "+f+' does not support codec(s): "'+o.audio+'"')}if(Object.keys(c).length){var p=Object.keys(c).reduce(function(b,y){return b&&(b+=", "),b+=y+' does not support codec(s): "'+c[y].join(",")+'"',b},"")+".";this.blacklistCurrentPlaylist({playlist:this.media(),internal:!0,message:p,blacklistDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){var g=[];if(["video","audio"].forEach(function(b){var y=(Un(n.sourceUpdater_.codecs[b]||"")[0]||{}).type,T=(Un(o[b]||"")[0]||{}).type;y&&T&&y.toLowerCase()!==T.toLowerCase()&&g.push('"'+n.sourceUpdater_.codecs[b]+'" -> "'+o[b]+'"')}),g.length){this.blacklistCurrentPlaylist({playlist:this.media(),message:"Codec switching not supported: "+g.join(", ")+".",blacklistDuration:1/0,internal:!0});return}}return o},i.tryToCreateSourceBuffers_=function(){if(!(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers())&&!!this.areMediaTypesKnown_()){var n=this.getCodecsOrExclude_();if(!!n){this.sourceUpdater_.createSourceBuffers(n);var s=[n.video,n.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(s)}}},i.excludeUnsupportedVariants_=function(){var n=this,s=this.master().playlists,a=[];Object.keys(s).forEach(function(o){var l=s[o];if(a.indexOf(l.id)===-1){a.push(l.id);var u=su(n.master,l),c=[];u.audio&&!pm(u.audio)&&!jd(u.audio)&&c.push("audio codec "+u.audio),u.video&&!pm(u.video)&&!jd(u.video)&&c.push("video codec "+u.video),u.text&&u.text==="stpp.ttml.im1t"&&c.push("text codec "+u.text),c.length&&(l.excludeUntil=1/0,n.logger_("excluding "+l.id+" for unsupported: "+c.join(", ")))}})},i.excludeIncompatibleVariants_=function(n){var s=this,a=[],o=this.master().playlists,l=qf(Un(n)),u=uS(l),c=l.video&&Un(l.video)[0]||null,f=l.audio&&Un(l.audio)[0]||null;Object.keys(o).forEach(function(d){var p=o[d];if(!(a.indexOf(p.id)!==-1||p.excludeUntil===1/0)){a.push(p.id);var g=[],b=su(s.masterPlaylistLoader_.master,p),y=uS(b);if(!(!b.audio&&!b.video)){if(y!==u&&g.push('codec count "'+y+'" !== "'+u+'"'),!s.sourceUpdater_.canChangeType()){var T=b.video&&Un(b.video)[0]||null,S=b.audio&&Un(b.audio)[0]||null;T&&c&&T.type.toLowerCase()!==c.type.toLowerCase()&&g.push('video codec "'+T.type+'" !== "'+c.type+'"'),S&&f&&S.type.toLowerCase()!==f.type.toLowerCase()&&g.push('audio codec "'+S.type+'" !== "'+f.type+'"')}g.length&&(p.excludeUntil=1/0,s.logger_("blacklisting "+p.id+": "+g.join(" && ")))}}})},i.updateAdCues_=function(n){var s=0,a=this.seekable();a.length&&(s=a.start(0)),aW(n,this.cueTagsTrack_,s)},i.goalBufferLength=function(){var n=this.tech_.currentTime(),s=Rt.GOAL_BUFFER_LENGTH,a=Rt.GOAL_BUFFER_LENGTH_RATE,o=Math.max(s,Rt.MAX_GOAL_BUFFER_LENGTH);return Math.min(s+n*a,o)},i.bufferLowWaterLine=function(){var n=this.tech_.currentTime(),s=Rt.BUFFER_LOW_WATER_LINE,a=Rt.BUFFER_LOW_WATER_LINE_RATE,o=Math.max(s,Rt.MAX_BUFFER_LOW_WATER_LINE),l=Math.max(s,Rt.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(s+n*a,this.experimentalBufferBasedABR?l:o)},i.bufferHighWaterLine=function(){return Rt.BUFFER_HIGH_WATER_LINE},e}(V.EventTarget),PW=function(e,i,r){return function(n){var s=e.master.playlists[i],a=M_(s),o=Xh(s);return typeof n>"u"?o:(n?delete s.disabled:s.disabled=!0,n!==o&&!a&&(r(),n?e.trigger("renditionenabled"):e.trigger("renditiondisabled")),n)}},OW=function(e,i,r){var n=e.masterPlaylistController_,s=e.options_.smoothQualityChange,a=s?"smooth":"fast",o=n[a+"QualityChange_"].bind(n);if(i.attributes){var l=i.attributes.RESOLUTION;this.width=l&&l.width,this.height=l&&l.height,this.bandwidth=i.attributes.BANDWIDTH,this.frameRate=i.attributes["FRAME-RATE"]}this.codecs=su(n.master(),i),this.playlist=i,this.id=r,this.enabled=PW(e.playlists,i.id,o)},AW=function(e){e.representations=function(){var i=e.masterPlaylistController_.master(),r=Tc(i)?e.masterPlaylistController_.getAudioTrackPlaylists_():i.playlists;return r?r.filter(function(n){return!M_(n)}).map(function(n,s){return new OW(e,n,n.id)}):[]}},TS=["seeking","seeked","pause","playing","error"],IW=function(){function t(i){var r=this;this.masterPlaylistController_=i.masterPlaylistController,this.tech_=i.tech,this.seekable=i.seekable,this.allowSeeksWithinUnsafeLiveWindow=i.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=i.liveRangeSafeTimeDelta,this.media=i.media,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=jn("PlaybackWatcher"),this.logger_("initialize");var n=function(){return r.monitorCurrentTime_()},s=function(){return r.monitorCurrentTime_()},a=function(){return r.techWaiting_()},o=function(){return r.cancelTimer_()},l=this.masterPlaylistController_,u=["main","subtitle","audio"],c={};u.forEach(function(d){c[d]={reset:function(){return r.resetSegmentDownloads_(d)},updateend:function(){return r.checkSegmentDownloads_(d)}},l[d+"SegmentLoader_"].on("appendsdone",c[d].updateend),l[d+"SegmentLoader_"].on("playlistupdate",c[d].reset),r.tech_.on(["seeked","seeking"],c[d].reset)});var f=function(p){["main","audio"].forEach(function(g){l[g+"SegmentLoader_"][p]("appended",r.seekingAppendCheck_)})};this.seekingAppendCheck_=function(){r.fixesBadSeeks_()&&(r.consecutiveUpdates=0,r.lastRecordedTime=r.tech_.currentTime(),f("off"))},this.clearSeekingAppendCheck_=function(){return f("off")},this.watchForBadSeeking_=function(){r.clearSeekingAppendCheck_(),f("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",a),this.tech_.on(TS,o),this.tech_.on("canplay",s),this.tech_.one("play",n),this.dispose=function(){r.clearSeekingAppendCheck_(),r.logger_("dispose"),r.tech_.off("waiting",a),r.tech_.off(TS,o),r.tech_.off("canplay",s),r.tech_.off("play",n),r.tech_.off("seeking",r.watchForBadSeeking_),r.tech_.off("seeked",r.clearSeekingAppendCheck_),u.forEach(function(d){l[d+"SegmentLoader_"].off("appendsdone",c[d].updateend),l[d+"SegmentLoader_"].off("playlistupdate",c[d].reset),r.tech_.off(["seeked","seeking"],c[d].reset)}),r.checkCurrentTimeTimeout_&&j.clearTimeout(r.checkCurrentTimeTimeout_),r.cancelTimer_()}}var e=t.prototype;return e.monitorCurrentTime_=function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&j.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=j.setTimeout(this.monitorCurrentTime_.bind(this),250)},e.resetSegmentDownloads_=function(r){var n=this.masterPlaylistController_[r+"SegmentLoader_"];this[r+"StalledDownloads_"]>0&&this.logger_("resetting possible stalled download count for "+r+" loader"),this[r+"StalledDownloads_"]=0,this[r+"Buffered_"]=n.buffered_()},e.checkSegmentDownloads_=function(r){var n=this.masterPlaylistController_,s=n[r+"SegmentLoader_"],a=s.buffered_(),o=EH(this[r+"Buffered_"],a);if(this[r+"Buffered_"]=a,o){this.resetSegmentDownloads_(r);return}this[r+"StalledDownloads_"]++,this.logger_("found #"+this[r+"StalledDownloads_"]+" "+r+" appends that did not increase buffer (possible stalled download)",{playlistId:s.playlist_&&s.playlist_.id,buffered:Fs(a)}),!(this[r+"StalledDownloads_"]<10)&&(this.logger_(r+" loader stalled download exclusion"),this.resetSegmentDownloads_(r),this.tech_.trigger({type:"usage",name:"vhs-"+r+"-download-exclusion"}),r!=="subtitle"&&n.blacklistCurrentPlaylist({message:"Excessive "+r+" segment downloading detected."},1/0))},e.checkCurrentTime_=function(){if(!(this.tech_.paused()||this.tech_.seeking())){var r=this.tech_.currentTime(),n=this.tech_.buffered();if(this.lastRecordedTime===r&&(!n.length||r+$n>=n.end(n.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&r===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):r===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=r)}},e.cancelTimer_=function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null},e.fixesBadSeeks_=function(){var r=this.tech_.seeking();if(!r)return!1;var n=this.seekable(),s=this.tech_.currentTime(),a=this.afterSeekableWindow_(n,s,this.media(),this.allowSeeksWithinUnsafeLiveWindow),o;if(a){var l=n.end(n.length-1);o=l}if(this.beforeSeekableWindow_(n,s)){var u=n.start(0);o=u+(u===n.end(0)?0:$n)}if(typeof o<"u")return this.logger_("Trying to seek outside of seekable at time "+s+" with "+("seekable range "+lA(n)+". Seeking to ")+(o+".")),this.tech_.setCurrentTime(o),!0;for(var c=this.masterPlaylistController_.sourceUpdater_,f=this.tech_.buffered(),d=c.audioBuffer?c.audioBuffered():null,p=c.videoBuffer?c.videoBuffered():null,g=this.media(),b=g.partTargetDuration?g.partTargetDuration:(g.targetDuration-hs)*2,y=[d,p],T=0;T<y.length;T++)if(!!y[T]){var S=I_(y[T],s);if(S<b)return!1}var I=pd(f,s);return I.length===0?!1:(o=I.start(0)+$n,this.logger_("Buffered region starts ("+I.start(0)+") "+(" just beyond seek point ("+s+"). Seeking to "+o+".")),this.tech_.setCurrentTime(o),!0)},e.waiting_=function(){if(!this.techWaiting_()){var r=this.tech_.currentTime(),n=this.tech_.buffered(),s=Na(n,r);if(s.length&&r+3<=s.end(0)){this.cancelTimer_(),this.tech_.setCurrentTime(r),this.logger_("Stopped at "+r+" while inside a buffered region "+("["+s.start(0)+" -> "+s.end(0)+"]. Attempting to resume ")+"playback by seeking to the current time."),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"}),this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"});return}}},e.techWaiting_=function(){var r=this.seekable(),n=this.tech_.currentTime();if(this.tech_.seeking()||this.timer_!==null)return!0;if(this.beforeSeekableWindow_(r,n)){var s=r.end(r.length-1);return this.logger_("Fell out of live window at time "+n+". Seeking to "+("live point (seekable end) "+s)),this.cancelTimer_(),this.tech_.setCurrentTime(s),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var a=this.tech_.vhs.masterPlaylistController_.sourceUpdater_,o=this.tech_.buffered(),l=this.videoUnderflow_({audioBuffered:a.audioBuffered(),videoBuffered:a.videoBuffered(),currentTime:n});if(l)return this.cancelTimer_(),this.tech_.setCurrentTime(n),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;var u=pd(o,n);if(u.length>0){var c=u.start(0)-n;return this.logger_("Stopped at "+n+", setting timer for "+c+", seeking "+("to "+u.start(0))),this.cancelTimer_(),this.timer_=setTimeout(this.skipTheGap_.bind(this),c*1e3,n),!0}return!1},e.afterSeekableWindow_=function(r,n,s,a){if(a===void 0&&(a=!1),!r.length)return!1;var o=r.end(r.length-1)+$n,l=!s.endList;return l&&a&&(o=r.end(r.length-1)+s.targetDuration*3),n>o},e.beforeSeekableWindow_=function(r,n){return!!(r.length&&r.start(0)>0&&n<r.start(0)-this.liveRangeSafeTimeDelta)},e.videoUnderflow_=function(r){var n=r.videoBuffered,s=r.audioBuffered,a=r.currentTime;if(!!n){var o;if(n.length&&s.length){var l=Na(n,a-3),u=Na(n,a),c=Na(s,a);c.length&&!u.length&&l.length&&(o={start:l.end(0),end:c.end(0)})}else{var f=pd(n,a);f.length||(o=this.gapFromVideoUnderflow_(n,a))}return o?(this.logger_("Encountered a gap in video from "+o.start+" to "+o.end+". "+("Seeking to current time "+a)),!0):!1}},e.skipTheGap_=function(r){var n=this.tech_.buffered(),s=this.tech_.currentTime(),a=pd(n,s);this.cancelTimer_(),!(a.length===0||s!==r)&&(this.logger_("skipTheGap_:","currentTime:",s,"scheduled currentTime:",r,"nextRange start:",a.start(0)),this.tech_.setCurrentTime(a.start(0)+hs),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"}),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))},e.gapFromVideoUnderflow_=function(r,n){for(var s=xH(r),a=0;a<s.length;a++){var o=s.start(a),l=s.end(a);if(n-o<4&&n-o>2)return{start:o,end:l}}return null},t}(),DW={errorInterval:30,getSource:function(e){var i=this.tech({IWillNotUseThisInPlugins:!0}),r=i.currentSource_||this.currentSource();return e(r)}},MW=function t(e,i){var r=0,n=0,s=V.mergeOptions(DW,i);e.ready(function(){e.trigger({type:"usage",name:"vhs-error-reload-initialized"}),e.trigger({type:"usage",name:"hls-error-reload-initialized"})});var a=function(){n&&e.currentTime(n)},o=function(d){d!=null&&(n=e.duration()!==1/0&&e.currentTime()||0,e.one("loadedmetadata",a),e.src(d),e.trigger({type:"usage",name:"vhs-error-reload"}),e.trigger({type:"usage",name:"hls-error-reload"}),e.play())},l=function(){if(Date.now()-r<s.errorInterval*1e3){e.trigger({type:"usage",name:"vhs-error-reload-canceled"}),e.trigger({type:"usage",name:"hls-error-reload-canceled"});return}if(!s.getSource||typeof s.getSource!="function"){V.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return r=Date.now(),s.getSource.call(e,o)},u=function f(){e.off("loadedmetadata",a),e.off("error",l),e.off("dispose",f)},c=function(d){u(),t(e,d)};e.on("error",l),e.on("dispose",u),e.reloadSourceOnError=c},RW=function(e){MW(this,e)},$A="2.16.0",LW="6.0.1",jW="0.22.1",NW="4.8.0",FW="3.1.3",qt={PlaylistLoader:Fa,Playlist:ji,utils:XH,STANDARD_PLAYLIST_SELECTOR:dS,INITIAL_PLAYLIST_SELECTOR:j7,lastBandwidthSelector:dS,movingAverageBandwidthSelector:R7,comparePlaylistBandwidth:N_,comparePlaylistResolution:M7,xhr:wA()};Object.keys(Rt).forEach(function(t){Object.defineProperty(qt,t,{get:function(){return V.log.warn("using Vhs."+t+" is UNSAFE be sure you know what you are doing"),Rt[t]},set:function(i){if(V.log.warn("using Vhs."+t+" is UNSAFE be sure you know what you are doing"),typeof i!="number"||i<0){V.log.warn("value of Vhs."+t+" must be greater than or equal to 0");return}Rt[t]=i}})});var GA="videojs-vhs",KA=function(e,i){for(var r=i.media(),n=-1,s=0;s<e.length;s++)if(e[s].id===r.id){n=s;break}e.selectedIndex_=n,e.trigger({selectedIndex:n,type:"change"})},UW=function(e,i){i.representations().forEach(function(r){e.addQualityLevel(r)}),KA(e,i.playlists)};qt.canPlaySource=function(){return V.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var BW=function(e,i,r){if(!e)return e;var n={};i&&i.attributes&&i.attributes.CODECS&&(n=qf(Un(i.attributes.CODECS))),r&&r.attributes&&r.attributes.CODECS&&(n.audio=r.attributes.CODECS);var s=Mu(n.video),a=Mu(n.audio),o={};for(var l in e)o[l]={},a&&(o[l].audioContentType=a),s&&(o[l].videoContentType=s),i.contentProtection&&i.contentProtection[l]&&i.contentProtection[l].pssh&&(o[l].pssh=i.contentProtection[l].pssh),typeof e[l]=="string"&&(o[l].url=e[l]);return V.mergeOptions(e,o)},zW=function(e,i){return e.reduce(function(r,n){if(!n.contentProtection)return r;var s=i.reduce(function(a,o){var l=n.contentProtection[o];return l&&l.pssh&&(a[o]={pssh:l.pssh}),a},{});return Object.keys(s).length&&r.push(s),r},[])},VW=function(e){var i=e.player,r=e.sourceKeySystems,n=e.audioMedia,s=e.mainPlaylists;if(!i.eme.initializeMediaKeys)return Promise.resolve();var a=n?s.concat([n]):s,o=zW(a,Object.keys(r)),l=[],u=[];return o.forEach(function(c){u.push(new Promise(function(f,d){i.tech_.one("keysessioncreated",f)})),l.push(new Promise(function(f,d){i.eme.initializeMediaKeys({keySystems:c},function(p){if(p){d(p);return}f()})}))}),Promise.race([Promise.all(l),Promise.race(u)])},HW=function(e){var i=e.player,r=e.sourceKeySystems,n=e.media,s=e.audioMedia,a=BW(r,n,s);return a?(i.currentSource().keySystems=a,a&&!i.eme?(V.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},XA=function(){if(!j.localStorage)return null;var e=j.localStorage.getItem(GA);if(!e)return null;try{return JSON.parse(e)}catch{return null}},WW=function(e){if(!j.localStorage)return!1;var i=XA();i=i?V.mergeOptions(i,e):e;try{j.localStorage.setItem(GA,JSON.stringify(i))}catch{return!1}return i},qW=function(e){return e.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(e.substring(e.indexOf(",")+1)):e};qt.supportsNativeHls=function(){if(!ae||!ae.createElement)return!1;var t=ae.createElement("video");if(!V.getTech("Html5").isSupported())return!1;var e=["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"];return e.some(function(i){return/maybe|probably/i.test(t.canPlayType(i))})}();qt.supportsNativeDash=function(){return!ae||!ae.createElement||!V.getTech("Html5").isSupported()?!1:/maybe|probably/i.test(ae.createElement("video").canPlayType("application/dash+xml"))}();qt.supportsTypeNatively=function(t){return t==="hls"?qt.supportsNativeHls:t==="dash"?qt.supportsNativeDash:!1};qt.isSupported=function(){return V.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var $W=V.getComponent("Component"),U_=function(t){le(e,t);function e(r,n,s){var a;if(a=t.call(this,n,V.mergeOptions(s.hls,s.vhs))||this,s.hls&&Object.keys(s.hls).length&&V.log.warn("Using hls options is deprecated. Please rename `hls` to `vhs` in your options object."),typeof s.initialBandwidth=="number"&&(a.options_.bandwidth=s.initialBandwidth),a.logger_=jn("VhsHandler"),n.options_&&n.options_.playerId){var o=V(n.options_.playerId);o.hasOwnProperty("hls")||Object.defineProperty(o,"hls",{get:function(){return V.log.warn("player.hls is deprecated. Use player.tech().vhs instead."),n.trigger({type:"usage",name:"hls-player-access"}),Ee(a)},configurable:!0}),o.hasOwnProperty("vhs")||Object.defineProperty(o,"vhs",{get:function(){return V.log.warn("player.vhs is deprecated. Use player.tech().vhs instead."),n.trigger({type:"usage",name:"vhs-player-access"}),Ee(a)},configurable:!0}),o.hasOwnProperty("dash")||Object.defineProperty(o,"dash",{get:function(){return V.log.warn("player.dash is deprecated. Use player.tech().vhs instead."),Ee(a)},configurable:!0}),a.player_=o}if(a.tech_=n,a.source_=r,a.stats={},a.ignoreNextSeekingEvent_=!1,a.setOptions_(),a.options_.overrideNative&&n.overrideNativeAudioTracks&&n.overrideNativeVideoTracks)n.overrideNativeAudioTracks(!0),n.overrideNativeVideoTracks(!0);else if(a.options_.overrideNative&&(n.featuresNativeVideoTracks||n.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return a.on(ae,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(l){var u=ae.fullscreenElement||ae.webkitFullscreenElement||ae.mozFullScreenElement||ae.msFullscreenElement;u&&u.contains(a.tech_.el())?a.masterPlaylistController_.fastQualityChange_():a.masterPlaylistController_.checkABR_()}),a.on(a.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),a.on(a.tech_,"error",function(){this.tech_.error()&&this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),a.on(a.tech_,"play",a.play),a}var i=e.prototype;return i.setOptions_=function(){var n=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.handleManifestRedirects=this.options_.handleManifestRedirects!==!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage<"u"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,typeof this.options_.blacklistDuration!="number"&&(this.options_.blacklistDuration=5*60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){var s=XA();s&&s.bandwidth&&(this.options_.bandwidth=s.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),s&&s.throughput&&(this.options_.throughput=s.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}),this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=Rt.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===Rt.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange","customTagParsers","customTagMappers","handleManifestRedirects","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","experimentalBufferBasedABR","liveRangeSafeTimeDelta","experimentalLLHLS","useNetworkInformationApi","useDtsForTimestampOffset","experimentalExactManifestTimings","experimentalLeastPixelDiffSelector"].forEach(function(a){typeof n.source_[a]<"u"&&(n.options_[a]=n.source_[a])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio},i.src=function(n,s){var a=this;if(!!n){this.setOptions_(),this.options_.src=qW(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=qt,this.options_.sourceType=lP(s),this.options_.seekTo=function(u){a.tech_.setCurrentTime(u)},this.options_.smoothQualityChange&&V.log.warn("smoothQualityChange is deprecated and will be removed in the next major version"),this.masterPlaylistController_=new kW(this.options_);var o=V.mergeOptions({liveRangeSafeTimeDelta:$n},this.options_,{seekable:function(){return a.seekable()},media:function(){return a.masterPlaylistController_.media()},masterPlaylistController:this.masterPlaylistController_});this.playbackWatcher_=new IW(o),this.masterPlaylistController_.on("error",function(){var u=V.players[a.tech_.options_.playerId],c=a.masterPlaylistController_.error;typeof c=="object"&&!c.code?c.code=3:typeof c=="string"&&(c={message:c,code:3}),u.error(c)});var l=this.options_.experimentalBufferBasedABR?qt.movingAverageBandwidthSelector(.55):qt.STANDARD_PLAYLIST_SELECTOR;this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):l.bind(this),this.masterPlaylistController_.selectInitialPlaylist=qt.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(c){this.masterPlaylistController_.selectPlaylist=c.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(c){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=c,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){var c=this.masterPlaylistController_.mainSegmentLoader_.bandwidth,f=j.navigator.connection||j.navigator.mozConnection||j.navigator.webkitConnection,d=1e7;if(this.options_.useNetworkInformationApi&&f){var p=f.downlink*1e3*1e3;p>=d&&c>=d?c=Math.max(c,p):c=p}return c},set:function(c){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=c,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var c=1/(this.bandwidth||1),f;this.throughput>0?f=1/this.throughput:f=0;var d=Math.floor(1/(c+f));return d},set:function(){V.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return a.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return a.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return a.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return a.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return a.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return a.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return a.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return a.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},mediaAppends:{get:function(){return a.masterPlaylistController_.mediaAppends_()||0},enumerable:!0},mainAppendsToLoadedData:{get:function(){return a.masterPlaylistController_.mainAppendsToLoadedData_()||0},enumerable:!0},audioAppendsToLoadedData:{get:function(){return a.masterPlaylistController_.audioAppendsToLoadedData_()||0},enumerable:!0},appendsToLoadedData:{get:function(){return a.masterPlaylistController_.appendsToLoadedData_()||0},enumerable:!0},timeToLoadedData:{get:function(){return a.masterPlaylistController_.timeToLoadedData_()||0},enumerable:!0},buffered:{get:function(){return Fs(a.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return a.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return a.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return a.tech_.name_},enumerable:!0},duration:{get:function(){return a.tech_.duration()},enumerable:!0},master:{get:function(){return a.playlists.master},enumerable:!0},playerDimensions:{get:function(){return a.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return Fs(a.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return a.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",function(){a.options_.useBandwidthFromLocalStorage&&WW({bandwidth:a.bandwidth,throughput:Math.round(a.throughput)})}),this.masterPlaylistController_.on("selectedinitialmedia",function(){AW(a)}),this.masterPlaylistController_.sourceUpdater_.on("createdsourcebuffers",function(){a.setupEme_()}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.masterPlaylistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=j.URL.createObjectURL(this.masterPlaylistController_.mediaSource),this.tech_.src(this.mediaSourceUrl_))}},i.createKeySessions_=function(){var n=this,s=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),VW({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:s&&s.media(),mainPlaylists:this.playlists.master.playlists}).then(function(){n.logger_("created EME key session"),n.masterPlaylistController_.sourceUpdater_.initializedEme()}).catch(function(a){n.logger_("error while creating EME key session",a),n.player_.error({message:"Failed to initialize media keys for EME",code:3})})},i.handleWaitingForKey_=function(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()},i.setupEme_=function(){var n=this,s=this.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader,a=HW({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:s&&s.media()});if(this.player_.tech_.on("keystatuschange",function(o){if(o.status==="output-restricted"){var l=n.masterPlaylistController_.master();if(!(!l||!l.playlists)){var u=[];if(l.playlists.forEach(function(f){f&&f.attributes&&f.attributes.RESOLUTION&&f.attributes.RESOLUTION.height>=720&&(!f.excludeUntil||f.excludeUntil<1/0)&&(f.excludeUntil=1/0,u.push(f))}),u.length){var c;(c=V.log).warn.apply(c,['DRM keystatus changed to "output-restricted." Removing the following HD playlists that will most likely fail to play and clearing the buffer. This may be due to HDCP restrictions on the stream and the capabilities of the current device.'].concat(u)),n.masterPlaylistController_.fastQualityChange_()}}}}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),V.browser.IE_VERSION===11||!a){this.masterPlaylistController_.sourceUpdater_.initializedEme();return}this.createKeySessions_()},i.setupQualityLevels_=function(){var n=this,s=V.players[this.tech_.options_.playerId];!s||!s.qualityLevels||this.qualityLevels_||(this.qualityLevels_=s.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){UW(n.qualityLevels_,n)}),this.playlists.on("mediachange",function(){KA(n.qualityLevels_,n.playlists)}))},e.version=function(){return{"@videojs/http-streaming":$A,"mux.js":LW,"mpd-parser":jW,"m3u8-parser":NW,"aes-decrypter":FW}},i.version=function(){return this.constructor.version()},i.canChangeType=function(){return qA.canChangeType()},i.play=function(){this.masterPlaylistController_.play()},i.setCurrentTime=function(n){this.masterPlaylistController_.setCurrentTime(n)},i.duration=function(){return this.masterPlaylistController_.duration()},i.seekable=function(){return this.masterPlaylistController_.seekable()},i.dispose=function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.tech_&&delete this.tech_.hls,this.mediaSourceUrl_&&j.URL.revokeObjectURL&&(j.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),t.prototype.dispose.call(this)},i.convertToProgramTime=function(n,s){return i7({playlist:this.masterPlaylistController_.media(),time:n,callback:s})},i.seekToProgramTime=function(n,s,a,o){return a===void 0&&(a=!0),o===void 0&&(o=2),n7({programTime:n,playlist:this.masterPlaylistController_.media(),retryCount:o,pauseAfterSeek:a,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:s})},e}($W),Vu={name:"videojs-http-streaming",VERSION:$A,canHandleSource:function(e,i){i===void 0&&(i={});var r=V.mergeOptions(V.options,i);return Vu.canPlayType(e.type,r)},handleSource:function(e,i,r){r===void 0&&(r={});var n=V.mergeOptions(V.options,r);return i.vhs=new U_(e,i,n),V.hasOwnProperty("hls")||Object.defineProperty(i,"hls",{get:function(){return V.log.warn("player.tech().hls is deprecated. Use player.tech().vhs instead."),i.vhs},configurable:!0}),i.vhs.xhr=wA(),i.vhs.src(e.src,e.type),i.vhs},canPlayType:function(e,i){var r=lP(e);if(!r)return"";var n=Vu.getOverrideNative(i),s=qt.supportsTypeNatively(r),a=!s||n;return a?"maybe":""},getOverrideNative:function(e){e===void 0&&(e={});var i=e,r=i.vhs,n=r===void 0?{}:r,s=i.hls,a=s===void 0?{}:s,o=!(V.browser.IS_ANY_SAFARI||V.browser.IS_IOS),l=n.overrideNative,u=l===void 0?o:l,c=a.overrideNative,f=c===void 0?!1:c;return f||u}},GW=function(){return jd("avc1.4d400d,mp4a.40.2")};GW()&&V.getTech("Html5").registerSourceHandler(Vu,0);V.VhsHandler=U_;Object.defineProperty(V,"HlsHandler",{get:function(){return V.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."),U_},configurable:!0});V.VhsSourceHandler=Vu;Object.defineProperty(V,"HlsSourceHandler",{get:function(){return V.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."),Vu},configurable:!0});V.Vhs=qt;Object.defineProperty(V,"Hls",{get:function(){return V.log.warn("videojs.Hls is deprecated. Use videojs.Vhs instead."),qt},configurable:!0});V.use||(V.registerComponent("Hls",qt),V.registerComponent("Vhs",qt));V.options.vhs=V.options.vhs||{};V.options.hls=V.options.hls||{};if(!V.getPlugin||!V.getPlugin("reloadSourceOnError")){var KW=V.registerPlugin||V.plugin;KW("reloadSourceOnError",RW)}const XW=t=>{const e=J.exports.useRef(null),i=J.exports.useRef(null),{options:r}=t;return J.exports.useEffect(()=>{if(i.current){const n=i.current;r.autoplay&&n.autoplay(r.autoplay),r.sources&&n.src(r.sources)}else{const n=e.current;if(!n)return;i.current=V(n,r)}},[r,e]),J.exports.useEffect(()=>{const n=i.current;return()=>{n&&(n.dispose(),i.current=null)}},[i]),te("div",{"data-vjs-player":!0,children:te("video",{ref:e,className:"video-js vjs-big-play-centered"})})};var zg="/Portfolio/assets/caroAmicoTitle.4864e7eb.webp",Vg="/Portfolio/assets/synopsisCaroAmico.2fe4100c.webp";const YW="EqUut",QW="w0MRL",JW="_--vQ8",ZW="HuTYZ";var gd={root:YW,mainImage:QW,mainText:JW,mainTitle:ZW};const e9="IOje2";var t9={image:e9};function Hu(t){return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hu(t)}function i9(t,e){if(Hu(t)!=="object"||t===null)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var r=i.call(t,e||"default");if(Hu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function n9(t){var e=i9(t,"string");return Hu(e)==="symbol"?e:String(e)}function r9(t,e,i){return e=n9(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var s9=function(t){var e=t.decode,i=e===void 0?!0:e,r=t.crossOrigin,n=r===void 0?"":r;return function(s){return new Promise(function(a,o){var l=new Image;n&&(l.crossOrigin=n),l.onload=function(){i&&l.decode?l.decode().then(a).catch(o):a()},l.onerror=o,l.src=s})}};function xS(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function yd(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?xS(Object(i),!0).forEach(function(r){r9(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):xS(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}var a9=function(e){return e.filter(function(i){return i})},o9=function(e){return Array.isArray(e)?e:[e]},Yi={},l9=function(e,i){var r=!1;return new Promise(function(n,s){var a=function(l){return i(l).then(function(){r=!0,n(l)})};e.reduce(function(o,l){return o.catch(function(){if(!r)return a(l)})},a(e.shift())).catch(s)})};function u9(t){var e=t.srcList,i=t.imgPromise,r=i===void 0?s9({decode:!0}):i,n=t.useSuspense,s=n===void 0?!0:n,a=J.exports.useState(!0),o=a[1],l=a9(o9(e)),u=l.join("");if(Yi[u]||(Yi[u]={promise:l9(l,r),cache:"pending",error:null}),Yi[u].promise.then(function(c){Yi[u]=yd(yd({},Yi[u]),{},{cache:"resolved",src:c}),s||o(!1)}).catch(function(c){Yi[u]=yd(yd({},Yi[u]),{},{cache:"rejected",error:c}),s||o(!1)}),Yi[u].cache==="resolved")return{src:Yi[u].src,isLoading:!1,error:null};if(Yi[u].cache==="rejected"){if(s)throw Yi[u].error;return{isLoading:!1,error:Yi[u].error,src:void 0}}if(s)throw Yi[u].promise;return{isLoading:!0,src:void 0,error:null}}function c9(t){return kh({tag:"svg",attr:{version:"1.1",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M16 8c-0.020-1.045-0.247-2.086-0.665-3.038-0.417-0.953-1.023-1.817-1.766-2.53s-1.624-1.278-2.578-1.651c-0.953-0.374-1.978-0.552-2.991-0.531-1.013 0.020-2.021 0.24-2.943 0.646-0.923 0.405-1.758 0.992-2.449 1.712s-1.237 1.574-1.597 2.497c-0.361 0.923-0.533 1.914-0.512 2.895 0.020 0.981 0.234 1.955 0.627 2.847 0.392 0.892 0.961 1.7 1.658 2.368s1.523 1.195 2.416 1.543c0.892 0.348 1.851 0.514 2.799 0.493 0.949-0.020 1.89-0.227 2.751-0.608 0.862-0.379 1.642-0.929 2.287-1.604s1.154-1.472 1.488-2.335c0.204-0.523 0.342-1.069 0.415-1.622 0.019 0.001 0.039 0.002 0.059 0.002 0.552 0 1-0.448 1-1 0-0.028-0.001-0.056-0.004-0.083h0.004zM14.411 10.655c-0.367 0.831-0.898 1.584-1.55 2.206s-1.422 1.112-2.254 1.434c-0.832 0.323-1.723 0.476-2.608 0.454-0.884-0.020-1.759-0.215-2.56-0.57-0.801-0.354-1.526-0.867-2.125-1.495s-1.071-1.371-1.38-2.173c-0.31-0.801-0.457-1.66-0.435-2.512s0.208-1.694 0.551-2.464c0.342-0.77 0.836-1.468 1.441-2.044s1.321-1.029 2.092-1.326c0.771-0.298 1.596-0.438 2.416-0.416s1.629 0.202 2.368 0.532c0.74 0.329 1.41 0.805 1.963 1.387s0.988 1.27 1.272 2.011c0.285 0.74 0.418 1.532 0.397 2.32h0.004c-0.002 0.027-0.004 0.055-0.004 0.083 0 0.516 0.39 0.94 0.892 0.994-0.097 0.544-0.258 1.075-0.481 1.578z"}}]})(t)}const d9=10,f9=2,h9=t=>Math.floor(d9/2-t/2+f9),p9=t=>{const{setSlide:e,children:i}=t,r=h9(i.length),n=i.map((s,a)=>{const[{scale:o},l]=xC(()=>({scale:1,delay:50})),u=()=>{const{src:c}=u9({srcList:new URL(s,import.meta.url).href});return te(Sh.img,{style:{scale:o},src:c})};return te("div",{className:t9.image,onMouseEnter:()=>l({scale:1.1}),onMouseLeave:()=>l({scale:1}),onClick:()=>e(a),style:{gridColumnStart:r+a},children:te(J.exports.Suspense,{fallback:te("div",{children:te(c9,{size:"2em"})}),children:te(u,{})})},a)});return te(J.exports.Fragment,{children:n})},wS="50%",m9=Sh(ek),wc=t=>{const{media:e,content:i,title:r,subtitle:n}=t,[s,a]=J.exports.useState(0),o=gj(s,{config:sy.gentle,from:{opacity:0,transform:`translate3d(-${wS}, 0px, 0px)`},enter:{opacity:1,transform:"translate3d(0%, 0px, 0px)"},leave:{opacity:0,transform:`translate3d(${wS}, 0px, 0px)`},exitBeforeEnter:!1,delay:200}),l=u=>{u.code==="ArrowLeft"&&(s>0?a(s-1):a(e.length-1)),u.code==="ArrowRight"&&(s<e.length-1?a(s+1):a(0))};return J.exports.useEffect(()=>(window.addEventListener("keydown",l),()=>{window.removeEventListener("keydown",l)})),Je("div",{className:gd.root,children:[Je("div",{className:gd.mainTitle,children:[te("h2",{children:r??"Title goes here"}),te("p",{children:n})]}),o((u,c)=>c==s&&Je(J.exports.Fragment,{children:[te(Sh.div,{className:gd.mainImage,style:u,children:e[s].slide}),te(m9,{style:u,className:gd.mainText,children:i[s]})]})),te(p9,{setSlide:a,children:e.map(u=>u.preview)})]})},v9="_4NZDn",g9="_3FjX6",y9="kXRy-",_9="kH55e",b9="tfe0v",T9="U3PFS";var Rn={script:v9,dialogue:g9,parenthetical:y9,character:_9,"scene-heading":"DTVBZ",link:b9,fadein:T9},x9=`index,title,description
0,Synopsis,"The film covers the time span between 1888 and 1911. The two characters represent composers Gustav Mahler and Richard Strauss, and they recite in voice-over a loose adaptation of the letters they exchanged for more than 20 years.\\nWe see the development of their long-distance friendship across some pivotal events of their lives: Mahler's composition (and subsequent flop) of his 2nd symphony, their fight against Austrian royal censorship for the preparation of Strauss' Salome, the death of Mahler's daughter. As we assist at these episodes, the opposite personalities of the two artists emerge. Mahler is a tormented spirit that constantly fights to expand the limits of the musical form, whereas Strauss is a confident and productive artist whose sensibility is perfectly in line with his time.\\nThe narration presents many anachronisms: emails, YouTube clips and Metacritic reviews. Although extravagant, these inserts are all meant to further explore the themes of the film, such as the struggle of the artist, the beauty of making art, and the friendship between two opposite human beings."
1,The Beginning,"At the initial stage of his career, Mahler struggles to find financing for his work as a composer. His closest confidant is a colleague that he respects extremely: Richard Strauss. Hoping to find inspiration, Mahler asks Strauss to send him the score of his two latest works, <i>Don Juan</i> and <i>Death and Transfiguration</i>."
2,The 2nd Symphony,"Inspired by the excellent work of his collegue, Mahler decides to finally conclude his new, groundbreaking, symphony."
3,The Censorship of Salome,"1905. Mahler is nominated artistic director and chief conductor of the Vienna State Opera, and Strauss' new opera \u2014 Salome \u2014 is receiving praise across all Europe. However, the combination of biblical themes and erotic undertones is a shock for the more conservative audiences. For this reason, when Mahler decides to bring the opera to Vienna, he has to face many obstacles."
4,A Tragedy,"As the battle against the censorship of Salome seems to reach a victorious end, Mahler's life is hopelessly shocked by two tragic events: he contracts a very painful heart disease, and his firstborn daughter dies of diphtheria. The Viennese preparation of Salome is stopped indefinitely."
5,Hope,"In the later years, things seems to have reached a balance in the life of both composers: Mahler seems progressively to recover from his disease, and Strauss is enjoying another long run of success. The two friends look back at their careers and reflect on the sense of music and history."`;const w9=5,S9={slide:te("img",{src:zg}),preview:Vg},E9=cc(sc.exports.parse(x9,{header:!0,newline:`
`}).data,["index"]).map((t,e)=>Je(J.exports.Fragment,{children:[te("h2",{children:t.title}),t.description.split("\\n").map((i,r)=>te("p",{dangerouslySetInnerHTML:{__html:i}},r))]},e)),C9=Je(J.exports.Fragment,{children:["Caro Amico \u2014 A short film based on the correspondence between Gustav Mahler and Richard Strauss. Full"," ",te("a",{target:"_blank",rel:"noreferrer noopener",className:Rn.link,href:"https://vimeo.com/401617585",children:"here"}),"."]}),k9=Je(J.exports.Fragment,{children:["Inspired by the friendship of the two composers recorded in"," ",te("a",{target:"_blank",rel:"noreferrer noopener",className:Rn.link,href:"https://www.google.it/books/edition/Carteggio_1888_1911/hP0kuQAACAAJ?hl=it",children:"these letters"}),", I decided to shoot a short film during the first COVID-19 lockdown. This is a collection of clips from that film."]}),P9=[...Array(w9).keys()].map(t=>{const e=new URL({"./videos/scene1.mp4":Wz,"./videos/scene2.mp4":qz,"./videos/scene3.mp4":$z,"./videos/scene4.mp4":Gz,"./videos/scene5.mp4":Kz}[`./videos/scene${t+1}.mp4`],self.location).href;return{slide:te(XW,{options:{controls:!0,responsive:!0,fill:!0,sources:[{src:e,type:"video/mp4"}]}}),preview:new URL({"./images/caroAmicoPreview1.webp":ag,"./images/caroAmicoPreview2.webp":og,"./images/caroAmicoPreview3.webp":lg,"./images/caroAmicoPreview4.webp":ug,"./images/caroAmicoPreview5.webp":cg}[`./images/caroAmicoPreview${t+1}.webp`],self.location).href}}),O9=()=>te(J.exports.Fragment,{children:te(wc,{media:[S9,...P9],content:E9,title:C9,subtitle:k9})});var SS="/Portfolio/assets/joined.22c28b14.webp",ES="/Portfolio/assets/poster.e6e5f47d.webp",CS="/Portfolio/assets/scene1.e1140648.webp",kS="/Portfolio/assets/scene2.8e8e78b9.webp",PS="/Portfolio/assets/scene3.26d6bbc7.webp",OS="/Portfolio/assets/synopsis.3a1bc781.webp",YA={},QA={},Yh={},Qh={},ge={};Object.defineProperty(ge,"__esModule",{value:!0});ge.whitespacer=ge.standardizer=ge.cleaner=ge.splitter=ge.underline=ge.italic=ge.bold=ge.bold_italic=ge.italic_underline=ge.bold_underline=ge.bold_italic_underline=ge.emphasis=ge.line_break=ge.page_break=ge.boneyard=ge.note_inline=ge.note=ge.synopsis=ge.section=ge.centered=ge.action=ge.lyrics=ge.parenthetical=ge.dialogue=ge.transition=ge.scene_number=ge.scene_heading=ge.title_page=ge.sections=void 0;var A9=function(){function t(){this.title_page=/^((?:title|credit|author[s]?|source|notes|draft date|date|contact|copyright)\:)/gim,this.scene_heading=/^((?:\*{0,3}_?)?(?:(?:int|ext|est|i\/e)[. ]).+)|^(?:\.(?!\.+))(.+)/i,this.scene_number=/( *#(.+)# *)/,this.transition=/^((?:FADE (?:TO BLACK|OUT)|CUT TO BLACK)\.|.+ TO\:)|^(?:> *)(.+)/,this.dialogue=/^(\@?[A-Za-z*_]+[0-9A-Z (._\-'’)]*)(\^?)?(?:\n(?!\n+))([\s\S]+)/,this.parenthetical=/^(\(.+\))$/,this.lyrics=/^~(.+)/g,this.action=/^(.+)/g,this.centered=/^(?:> *)(.+)(?: *<)(\n.+)*/g,this.section=/^(#+)(?: *)(.*)/,this.synopsis=/^(?:\=(?!\=+) *)(.*)/,this.note=/^(?:\[{2}(?!\[+))(.+)(?:\]{2}(?!\[+))$/,this.note_inline=/(?:\[{2}(?!\[+))([\s\S]+?)(?:\]{2}(?!\[+))/g,this.boneyard=/(^\/\*|^\*\/)$/g,this.page_break=/^\={3,}$/,this.line_break=/^ {2}$/,this.emphasis=/(_|\*{1,3}|_\*{1,3}|\*{1,3}_)(.+)(_|\*{1,3}|_\*{1,3}|\*{1,3}_)/g,this.bold_italic_underline=/(_{1}\*{3}(?=.+\*{3}_{1})|\*{3}_{1}(?=.+_{1}\*{3}))(.+?)(\*{3}_{1}|_{1}\*{3})/g,this.bold_underline=/(_{1}\*{2}(?=.+\*{2}_{1})|\*{2}_{1}(?=.+_{1}\*{2}))(.+?)(\*{2}_{1}|_{1}\*{2})/g,this.italic_underline=/(?:_{1}\*{1}(?=.+\*{1}_{1})|\*{1}_{1}(?=.+_{1}\*{1}))(.+?)(\*{1}_{1}|_{1}\*{1})/g,this.bold_italic=/(\*{3}(?=.+\*{3}))(.+?)(\*{3})/g,this.bold=/(\*{2}(?=.+\*{2}))(.+?)(\*{2})/g,this.italic=/(\*{1}(?=.+\*{1}))(.+?)(\*{1})/g,this.underline=/(_{1}(?=.+_{1}))(.+?)(_{1})/g,this.splitter=/\n{2,}/g,this.cleaner=/^\n+|\n+$/,this.standardizer=/\r\n|\r/g,this.whitespacer=/^\t+|^ {3,}/gm}return t}(),qe=new A9;ge.sections=qe;var I9=qe.title_page;ge.title_page=I9;var D9=qe.scene_heading;ge.scene_heading=D9;var M9=qe.scene_number;ge.scene_number=M9;var R9=qe.transition;ge.transition=R9;var L9=qe.dialogue;ge.dialogue=L9;var j9=qe.parenthetical;ge.parenthetical=j9;var N9=qe.lyrics;ge.lyrics=N9;var F9=qe.action;ge.action=F9;var U9=qe.centered;ge.centered=U9;var B9=qe.section;ge.section=B9;var z9=qe.synopsis;ge.synopsis=z9;var V9=qe.note;ge.note=V9;var H9=qe.note_inline;ge.note_inline=H9;var W9=qe.boneyard;ge.boneyard=W9;var q9=qe.page_break;ge.page_break=q9;var $9=qe.line_break;ge.line_break=$9;var G9=qe.emphasis;ge.emphasis=G9;var K9=qe.bold_italic_underline;ge.bold_italic_underline=K9;var X9=qe.bold_underline;ge.bold_underline=X9;var Y9=qe.italic_underline;ge.italic_underline=Y9;var Q9=qe.bold_italic;ge.bold_italic=Q9;var J9=qe.bold;ge.bold=J9;var Z9=qe.italic;ge.italic=Z9;var eq=qe.underline;ge.underline=eq;var tq=qe.splitter;ge.splitter=tq;var iq=qe.cleaner;ge.cleaner=iq;var nq=qe.standardizer;ge.standardizer=nq;var rq=qe.whitespacer;ge.whitespacer=rq;Object.defineProperty(Qh,"__esModule",{value:!0});Qh.tokenizer=void 0;var ct=ge,sq=function(){function t(){}return t.prototype.clean=function(e){var i=e.replace(ct.sections.boneyard,`
$1
`).replace(ct.sections.standardizer,`
`).replace(ct.sections.cleaner,"").replace(ct.sections.whitespacer,"").replace(/^\s+$/gm,"");return i},t.prototype.tokenize=function(e){for(var i=this.clean(e).split(ct.sections.splitter),r,n,s,a,o=[],l=0,u=0;u<i.length;u++){var c=i[u];if(ct.sections.title_page.test(c)){r=c.replace(ct.sections.title_page,`
$1`).split(ct.sections.splitter);for(var f=0,d=r.length;f<d;f++)if(n=r[f].replace(ct.sections.cleaner,"").split(/\:\n*/),n.length>2){var p=n.slice(1).map(function(I){return I.trim()}).join(": ");o.push({type:n[0].trim().toLowerCase().replace(" ","_"),text:p.trim()})}else o.push({type:n[0].trim().toLowerCase().replace(" ","_"),text:n[1].trim()});continue}if(r=c.match(ct.sections.scene_heading)){s=r[1]||r[2],s.indexOf("  ")!==s.length-2&&((a=s.match(ct.sections.scene_number))&&(a=a[2],s=s.replace(ct.sections.scene_number,"")),a&&(l=a),o.push({type:"scene_heading",text:s,scene_number:l}),l+=1);continue}if(r=c.match(ct.sections.centered)){o.push({type:"centered",text:r[0].replace(/>|</g,"")});continue}if(r=c.match(ct.sections.transition)){o.push({type:"transition",text:r[1]||r[2]});continue}if((r=c.match(ct.sections.dialogue))&&r[1].indexOf("  ")!==r[1].length-2){n=r[3].split(/(\(.+\))(?:\n+)/);var g=!!r[2];if(g){for(var b=0,y=o.length-1;y>=0;y--)if(o[y].type==="dialogue_begin"){b=y;break}var T=o.splice(b);o.push({type:"dual_dialogue_begin"}),o=o.concat(T)}o.push({type:"dialogue_begin"}),o.push({type:"character",text:r[1].trim()});for(var f=0,S=n.length;f<S;f++)s=n[f].trim(),s.length>0&&o.push({type:ct.sections.parenthetical.test(s)?"parenthetical":"dialogue",text:s});o.push({type:"dialogue_end"}),g&&o.push({type:"dual_dialogue_end"});continue}if(r=c.match(ct.sections.section)){o.push({type:"section",text:r[2],depth:r[1].length});continue}if(r=c.match(ct.sections.synopsis)){o.push({type:"synopsis",text:r[1]});continue}if(r=c.match(ct.sections.note)){o.push({type:"note",text:r[1]});continue}if(r=c.match(ct.sections.boneyard)){o.push({type:r[0][0]==="/"?"boneyard_begin":"boneyard_end"});continue}if(ct.sections.page_break.test(c)){o.push({type:"page_break"});continue}if(ct.sections.line_break.test(c)){o.push({type:"line_break"});continue}if(ct.sections.lyrics.test(c)){o.push({type:"lyrics",text:c});continue}o.push({type:"action",text:c})}return o},t}(),aq=new sq;Qh.tokenizer=aq;var _d,oq=new Uint8Array(16);function JA(){if(!_d&&(_d=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!_d))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return _d(oq)}var lq=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Jh(t){return typeof t=="string"&&lq.test(t)}var zt=[];for(var Mm=0;Mm<256;++Mm)zt.push((Mm+256).toString(16).substr(1));function Zh(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=(zt[t[e+0]]+zt[t[e+1]]+zt[t[e+2]]+zt[t[e+3]]+"-"+zt[t[e+4]]+zt[t[e+5]]+"-"+zt[t[e+6]]+zt[t[e+7]]+"-"+zt[t[e+8]]+zt[t[e+9]]+"-"+zt[t[e+10]]+zt[t[e+11]]+zt[t[e+12]]+zt[t[e+13]]+zt[t[e+14]]+zt[t[e+15]]).toLowerCase();if(!Jh(i))throw TypeError("Stringified UUID is invalid");return i}var AS,Rm,Lm=0,jm=0;function uq(t,e,i){var r=e&&i||0,n=e||new Array(16);t=t||{};var s=t.node||AS,a=t.clockseq!==void 0?t.clockseq:Rm;if(s==null||a==null){var o=t.random||(t.rng||JA)();s==null&&(s=AS=[o[0]|1,o[1],o[2],o[3],o[4],o[5]]),a==null&&(a=Rm=(o[6]<<8|o[7])&16383)}var l=t.msecs!==void 0?t.msecs:Date.now(),u=t.nsecs!==void 0?t.nsecs:jm+1,c=l-Lm+(u-jm)/1e4;if(c<0&&t.clockseq===void 0&&(a=a+1&16383),(c<0||l>Lm)&&t.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Lm=l,jm=u,Rm=a,l+=122192928e5;var f=((l&268435455)*1e4+u)%4294967296;n[r++]=f>>>24&255,n[r++]=f>>>16&255,n[r++]=f>>>8&255,n[r++]=f&255;var d=l/4294967296*1e4&268435455;n[r++]=d>>>8&255,n[r++]=d&255,n[r++]=d>>>24&15|16,n[r++]=d>>>16&255,n[r++]=a>>>8|128,n[r++]=a&255;for(var p=0;p<6;++p)n[r+p]=s[p];return e||Zh(n)}function ZA(t){if(!Jh(t))throw TypeError("Invalid UUID");var e,i=new Uint8Array(16);return i[0]=(e=parseInt(t.slice(0,8),16))>>>24,i[1]=e>>>16&255,i[2]=e>>>8&255,i[3]=e&255,i[4]=(e=parseInt(t.slice(9,13),16))>>>8,i[5]=e&255,i[6]=(e=parseInt(t.slice(14,18),16))>>>8,i[7]=e&255,i[8]=(e=parseInt(t.slice(19,23),16))>>>8,i[9]=e&255,i[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,i[11]=e/4294967296&255,i[12]=e>>>24&255,i[13]=e>>>16&255,i[14]=e>>>8&255,i[15]=e&255,i}function cq(t){t=unescape(encodeURIComponent(t));for(var e=[],i=0;i<t.length;++i)e.push(t.charCodeAt(i));return e}var dq="6ba7b810-9dad-11d1-80b4-00c04fd430c8",fq="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function eI(t,e,i){function r(n,s,a,o){if(typeof n=="string"&&(n=cq(n)),typeof s=="string"&&(s=ZA(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var l=new Uint8Array(16+n.length);if(l.set(s),l.set(n,s.length),l=i(l),l[6]=l[6]&15|e,l[8]=l[8]&63|128,a){o=o||0;for(var u=0;u<16;++u)a[o+u]=l[u];return a}return Zh(l)}try{r.name=t}catch{}return r.DNS=dq,r.URL=fq,r}function hq(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var i=0;i<e.length;++i)t[i]=e.charCodeAt(i)}return pq(mq(vq(t),t.length*8))}function pq(t){for(var e=[],i=t.length*32,r="0123456789abcdef",n=0;n<i;n+=8){var s=t[n>>5]>>>n%32&255,a=parseInt(r.charAt(s>>>4&15)+r.charAt(s&15),16);e.push(a)}return e}function tI(t){return(t+64>>>9<<4)+14+1}function mq(t,e){t[e>>5]|=128<<e%32,t[tI(e)-1]=e;for(var i=1732584193,r=-271733879,n=-1732584194,s=271733878,a=0;a<t.length;a+=16){var o=i,l=r,u=n,c=s;i=Xt(i,r,n,s,t[a],7,-680876936),s=Xt(s,i,r,n,t[a+1],12,-389564586),n=Xt(n,s,i,r,t[a+2],17,606105819),r=Xt(r,n,s,i,t[a+3],22,-1044525330),i=Xt(i,r,n,s,t[a+4],7,-176418897),s=Xt(s,i,r,n,t[a+5],12,1200080426),n=Xt(n,s,i,r,t[a+6],17,-1473231341),r=Xt(r,n,s,i,t[a+7],22,-45705983),i=Xt(i,r,n,s,t[a+8],7,1770035416),s=Xt(s,i,r,n,t[a+9],12,-1958414417),n=Xt(n,s,i,r,t[a+10],17,-42063),r=Xt(r,n,s,i,t[a+11],22,-1990404162),i=Xt(i,r,n,s,t[a+12],7,1804603682),s=Xt(s,i,r,n,t[a+13],12,-40341101),n=Xt(n,s,i,r,t[a+14],17,-1502002290),r=Xt(r,n,s,i,t[a+15],22,1236535329),i=Yt(i,r,n,s,t[a+1],5,-165796510),s=Yt(s,i,r,n,t[a+6],9,-1069501632),n=Yt(n,s,i,r,t[a+11],14,643717713),r=Yt(r,n,s,i,t[a],20,-373897302),i=Yt(i,r,n,s,t[a+5],5,-701558691),s=Yt(s,i,r,n,t[a+10],9,38016083),n=Yt(n,s,i,r,t[a+15],14,-660478335),r=Yt(r,n,s,i,t[a+4],20,-405537848),i=Yt(i,r,n,s,t[a+9],5,568446438),s=Yt(s,i,r,n,t[a+14],9,-1019803690),n=Yt(n,s,i,r,t[a+3],14,-187363961),r=Yt(r,n,s,i,t[a+8],20,1163531501),i=Yt(i,r,n,s,t[a+13],5,-1444681467),s=Yt(s,i,r,n,t[a+2],9,-51403784),n=Yt(n,s,i,r,t[a+7],14,1735328473),r=Yt(r,n,s,i,t[a+12],20,-1926607734),i=Qt(i,r,n,s,t[a+5],4,-378558),s=Qt(s,i,r,n,t[a+8],11,-2022574463),n=Qt(n,s,i,r,t[a+11],16,1839030562),r=Qt(r,n,s,i,t[a+14],23,-35309556),i=Qt(i,r,n,s,t[a+1],4,-1530992060),s=Qt(s,i,r,n,t[a+4],11,1272893353),n=Qt(n,s,i,r,t[a+7],16,-155497632),r=Qt(r,n,s,i,t[a+10],23,-1094730640),i=Qt(i,r,n,s,t[a+13],4,681279174),s=Qt(s,i,r,n,t[a],11,-358537222),n=Qt(n,s,i,r,t[a+3],16,-722521979),r=Qt(r,n,s,i,t[a+6],23,76029189),i=Qt(i,r,n,s,t[a+9],4,-640364487),s=Qt(s,i,r,n,t[a+12],11,-421815835),n=Qt(n,s,i,r,t[a+15],16,530742520),r=Qt(r,n,s,i,t[a+2],23,-995338651),i=Jt(i,r,n,s,t[a],6,-198630844),s=Jt(s,i,r,n,t[a+7],10,1126891415),n=Jt(n,s,i,r,t[a+14],15,-1416354905),r=Jt(r,n,s,i,t[a+5],21,-57434055),i=Jt(i,r,n,s,t[a+12],6,1700485571),s=Jt(s,i,r,n,t[a+3],10,-1894986606),n=Jt(n,s,i,r,t[a+10],15,-1051523),r=Jt(r,n,s,i,t[a+1],21,-2054922799),i=Jt(i,r,n,s,t[a+8],6,1873313359),s=Jt(s,i,r,n,t[a+15],10,-30611744),n=Jt(n,s,i,r,t[a+6],15,-1560198380),r=Jt(r,n,s,i,t[a+13],21,1309151649),i=Jt(i,r,n,s,t[a+4],6,-145523070),s=Jt(s,i,r,n,t[a+11],10,-1120210379),n=Jt(n,s,i,r,t[a+2],15,718787259),r=Jt(r,n,s,i,t[a+9],21,-343485551),i=Gr(i,o),r=Gr(r,l),n=Gr(n,u),s=Gr(s,c)}return[i,r,n,s]}function vq(t){if(t.length===0)return[];for(var e=t.length*8,i=new Uint32Array(tI(e)),r=0;r<e;r+=8)i[r>>5]|=(t[r/8]&255)<<r%32;return i}function Gr(t,e){var i=(t&65535)+(e&65535),r=(t>>16)+(e>>16)+(i>>16);return r<<16|i&65535}function gq(t,e){return t<<e|t>>>32-e}function ep(t,e,i,r,n,s){return Gr(gq(Gr(Gr(e,t),Gr(r,s)),n),i)}function Xt(t,e,i,r,n,s,a){return ep(e&i|~e&r,t,e,n,s,a)}function Yt(t,e,i,r,n,s,a){return ep(e&r|i&~r,t,e,n,s,a)}function Qt(t,e,i,r,n,s,a){return ep(e^i^r,t,e,n,s,a)}function Jt(t,e,i,r,n,s,a){return ep(i^(e|~r),t,e,n,s,a)}var yq=eI("v3",48,hq),_q=yq;function bq(t,e,i){t=t||{};var r=t.random||(t.rng||JA)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){i=i||0;for(var n=0;n<16;++n)e[i+n]=r[n];return e}return Zh(r)}function Tq(t,e,i,r){switch(t){case 0:return e&i^~e&r;case 1:return e^i^r;case 2:return e&i^e&r^i&r;case 3:return e^i^r}}function Nm(t,e){return t<<e|t>>>32-e}function xq(t){var e=[1518500249,1859775393,2400959708,3395469782],i=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var r=unescape(encodeURIComponent(t));t=[];for(var n=0;n<r.length;++n)t.push(r.charCodeAt(n))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var s=t.length/4+2,a=Math.ceil(s/16),o=new Array(a),l=0;l<a;++l){for(var u=new Uint32Array(16),c=0;c<16;++c)u[c]=t[l*64+c*4]<<24|t[l*64+c*4+1]<<16|t[l*64+c*4+2]<<8|t[l*64+c*4+3];o[l]=u}o[a-1][14]=(t.length-1)*8/Math.pow(2,32),o[a-1][14]=Math.floor(o[a-1][14]),o[a-1][15]=(t.length-1)*8&4294967295;for(var f=0;f<a;++f){for(var d=new Uint32Array(80),p=0;p<16;++p)d[p]=o[f][p];for(var g=16;g<80;++g)d[g]=Nm(d[g-3]^d[g-8]^d[g-14]^d[g-16],1);for(var b=i[0],y=i[1],T=i[2],S=i[3],I=i[4],O=0;O<80;++O){var M=Math.floor(O/20),R=Nm(b,5)+Tq(M,y,T,S)+I+e[M]+d[O]>>>0;I=S,S=T,T=Nm(y,30)>>>0,y=b,b=R}i[0]=i[0]+b>>>0,i[1]=i[1]+y>>>0,i[2]=i[2]+T>>>0,i[3]=i[3]+S>>>0,i[4]=i[4]+I>>>0}return[i[0]>>24&255,i[0]>>16&255,i[0]>>8&255,i[0]&255,i[1]>>24&255,i[1]>>16&255,i[1]>>8&255,i[1]&255,i[2]>>24&255,i[2]>>16&255,i[2]>>8&255,i[2]&255,i[3]>>24&255,i[3]>>16&255,i[3]>>8&255,i[3]&255,i[4]>>24&255,i[4]>>16&255,i[4]>>8&255,i[4]&255]}var wq=eI("v5",80,xq),Sq=wq,Eq="00000000-0000-0000-0000-000000000000";function Cq(t){if(!Jh(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}var kq=Object.freeze(Object.defineProperty({__proto__:null,v1:uq,v3:_q,v4:bq,v5:Sq,NIL:Eq,version:Cq,validate:Jh,stringify:Zh,parse:ZA},Symbol.toStringTag,{value:"Module"})),Pq=Jf(kq),Xf=Ni&&Ni.__assign||function(){return Xf=Object.assign||function(t){for(var e,i=1,r=arguments.length;i<r;i++){e=arguments[i];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}return t},Xf.apply(this,arguments)};Object.defineProperty(Yh,"__esModule",{value:!0});Yh.FountainParser=void 0;var Oq=Qh,IS=ge,Aq=Pq,Iq={none:null,loose:47,normal:54,tight:58,very_tight:64},Dq={paginate:!0,lines_per_page:"loose",script_html:!1,script_html_array:!1,notes:!0,draft_date:!0,boneyard:!0,tokens:!1},Mq=function(){function t(e){e===void 0&&(e=Dq),this.options=e}return t.prototype.parse=function(e,i){i===void 0&&(i=this.options),i==null&&(i=this.options);for(var r=Xf(Xf({},this.options),i),n=Oq.tokenizer.tokenize(e),s=[],a=[],o={title:"",credit:"",authors:[],source:"",date:"",contact:"",copyright:"",scenes:[],title_page_html:"",script_pages:[],script_pages_html:[]},l=0,u=0,c=n;u<c.length;u++){var f=c[u];switch(f.text=this.lexer(f.text),f.type){case"title":s.push("<h1>"+f.text+"</h1>"),o.title=f.text.replace("<br />"," ").replace(/<(?:.|\n)*?>/g,"");break;case"credit":s.push('<p class="credit">'+f.text+"</p>"),o.credit=f.text;break;case"author":s.push('<p class="authors">'+f.text+"</p>"),o.authors&&o.authors.push(f.text);break;case"authors":s.push('<p class="authors">'+f.text+"</p>"),o.authors&&(o.authors=o.authors.concat(f.text.replace("<br />",`
`).replace(", ",",").split(/[\n,]/)));break;case"source":s.push('<p class="source">'+f.text+"</p>"),o.source=f.text;break;case"notes":r.notes&&(s.push('<p class="notes">'+f.text+"</p>"),o.notes=f.text);break;case"draft_date":r.draft_date&&(s.push('<p class="draft-date">'+f.text+"</p>"),o.draft_date=f.text);break;case"date":s.push('<p class="date">'+f.text+"</p>"),o.date=f.text;break;case"contact":s.push('<p class="contact">'+f.text+"</p>"),o.contact=f.text;break;case"copyright":s.push('<p class="copyright">'+f.text+"</p>"),o.copyright=f.text;break;case"scene_heading":a.push("<h6 "+(f.scene_number||f.scene_number===0?'id="scene-heading--'+f.scene_number+'"':null)+' class="scene-heading" data-scene-heading-index="'+f.scene_number+'">'+f.text+"</h6>"),o.scenes&&o.scenes.push(f.text);break;case"transition":a.push('<p class="transition">'+f.text+"</p>");break;case"dual_dialogue_begin":a.push('<div class="dual-dialogue" data-dialogue-index="'+l+'">'),l+=1;break;case"dialogue_begin":a.push('<div class="dialogue'+(f.dual?" "+f.dual:"")+'" data-dialogue-index="'+l+'">'),l+=1;break;case"character":a.push('<p class="character">'+f.text.replace(/^@/,"")+"</p>");break;case"parenthetical":a.push('<p class="parenthetical">'+f.text+"</p>");break;case"dialogue":a.push("<p>"+f.text+"</p>");break;case"dialogue_end":a.push("</div>");break;case"dual_dialogue_end":a.push("</div>");break;case"section":a.push('<p class="section" data-depth="'+f.depth+'">'+f.text+"</p>");break;case"synopsis":a.push('<p class="synopsis">'+f.text+"</p>");break;case"note":r.notes&&a.push("<!-- "+f.text+" -->");break;case"boneyard_begin":r.boneyard&&a.push("<!-- ");break;case"boneyard_end":r.boneyard&&a.push(" -->");break;case"lyrics":a.push('<p class="lyrics">'+f.text+"</p>");break;case"action":a.push('<p class="action">'+f.text+"</p>");break;case"centered":a.push('<p class="centered">'+f.text+"</p>");break;case"page_break":a.push('<hr class="page-break" />');break;case"line_break":a.push("<br />");break}}if(o.title_page_html=s.join(""),r.script_html&&(o.script_html=a.join("")),r.script_html_array&&(o.script_html_array=a),r.paginate){var d=this.paginate(a,r.lines_per_page),p=d.pages,g=d.pages_html;o.script_pages=p,o.script_pages_html=g}return r.tokens&&(o.tokens=n),o},t.prototype.paginate=function(e,i){i===void 0&&(i=this.options.lines_per_page);for(var r=Iq[i],n=[],s=[],a=0,o=!1,l=!1,u=!1,c="",f=0;f<e.length;f++){var d=e[f];if(d.includes("page-break")){a+=1;continue}o===!1&&l&&(a+=1,l=!1),d.includes("<div ")&&d!=="</div>"?(o=!0,(d.includes('class="dialogue')||u)&&(u=!0)):d==="</div>"&&(o=!1,u&&(u=!1,c+=d)),f!==0&&f%r===0&&(l=!0),n[a]||(n[a]=[]),n[a].push(d),s[a]||(s[a]=[]),c&&!u?(s[a].push(c),c=""):u?c+=d:s[a].push(d)}for(var f=0;f<n.length;f++)n[f]={_id:(0,Aq.v4)(),html:n[f].join("")};return{pages:n,pages_html:s}},t.prototype.lexer=function(e){if(!!e){var i={note:"<!-- $1 -->",line_break:"<br />",bold_italic_underline:'<strong><em><span style="text-decoration:underline !important">$2</span></em></strong>',bold_underline:'<strong><span style="text-decoration:underline !important">$2</span></strong>',italic_underline:'<em><span style="text-decoration:underline !important">$1</span></em>',bold_italic:"<strong><em>$2</em></strong>",bold:"<strong>$2</strong>",italic:"<em>$2</em>",underline:'<span style="text-decoration:underline !important">$2</span>'},r=["bold_italic_underline","bold_underline","italic_underline","bold_italic","bold","italic","underline"],n,s;e=e.replace(IS.sections.note_inline,i.note).replace(/\\\*/g,"[star]").replace(/\\_/g,"[underline]").replace(/\n/g,i.line_break);for(var a in r)n=r[a],s=IS.sections[n],s.test(e)&&(e=e.replace(s,i[n]));return e.replace(/\[star\]/g,"*").replace(/\[underline\]/g,"_").trim()}},t}(),Rq=new Mq;Yh.FountainParser=Rq;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.FountainParser=void 0;var e=Yh;Object.defineProperty(t,"FountainParser",{enumerable:!0,get:function(){return e.FountainParser}})})(QA);var iI={};Object.defineProperty(iI,"__esModule",{value:!0});(function(t){var e=Ni&&Ni.__createBinding||(Object.create?function(r,n,s,a){a===void 0&&(a=s),Object.defineProperty(r,a,{enumerable:!0,get:function(){return n[s]}})}:function(r,n,s,a){a===void 0&&(a=s),r[a]=n[s]}),i=Ni&&Ni.__exportStar||function(r,n){for(var s in r)s!=="default"&&!Object.prototype.hasOwnProperty.call(n,s)&&e(n,r,s)};Object.defineProperty(t,"__esModule",{value:!0}),i(QA,t),i(iI,t)})(YA);var Lq=`EXT. ROCKS - DAY #1#

The cold, restless sea throws itself on the rocks in a desperate struggle. The air is humid, so cold it cuts through the lungs. No seagull sings its chant in the cloudy sky. No vehicles cross the overpass in the distance. No sign of life, except for a man, lying on the rocks, who has just regained consciousness.

He gets up, and looks around. It seems like a familiar place, but he can't remember anything specific. Suddenly, he feels a stinging pain in the side of his neck. Touching with one hand, he realizes he has a barely healed scratch.

Carved into the rocks nearby, there is a staircase that seems to lead to a square that overlooks the whole beach. Not having a better plan, the man decides to go up.`,jq=`
EXT. PARKING - DAY #4#

Michele and the man walk side by side.

MICHELE
The only living things here have roots, besides that, you are alone. The objects are all those that existed when you died, and you will be the only one who will use them. Electricity will work until the plants fail. The same goes for petrol, gas, the cellular network and so on. I hope you liked the technology of your time, since nothing new will be invented. Everything is stopped.

MAN
Is this Hell then?

MICHELE
No, for heaven's sake. Hell has ceased to exist for centuries. They closed it and made it all over again. No more devils, infernal circles and poetic justice. It was an unsustainable model. Now eternal damnation is smart, decentralized: to every sinner, his universe. It's more effective. Cleaner. What do you think? We also need to rebrand every now and then.

MAN
Would you be some kind of demon?

MICHELE
Lease consultant if you don't mind. I take care of welcoming souls during their first day, taking their forms to increase familiarity.

MAN
The first day? You're going to be here only for today?

MICHELE
Unfortunately. Tomorrow I'm having an Indonesian underworld boss.
(sighs annoyed)
He weighs 110 kilos and has the carryover.

MAN
Aren't you my conscience?

MICHELE
If you had a conscience you wouldn't be here.



`,Nq=`INT. LIVING ROOM - DAY #5#

MICHELE
Ah sure, like everyone else you think you are special, unique. You think you've found the plan that solves everything. I'll tell you how it happens every time\u2026

Michele's voice goes off-screen. This is the beginning of a montage of still shots in which the man performs the actions described.

INT. ROOM - DAY #6#

Still shot of the man sitting at a desk writing.

MICHELE (V.O.)
\u2026 for the first 10 years, you will be able to keep yourself busy with something. Maybe you'll keep a garden, you'll write your memories\u2026

INT. ROOM - DAY #7#

Still shot of the man standing in the center of an empty room.

MICHELE (V.O.)
\u2026 but you'll soon realize the futility of it all, and you'll let the time pass by essentially doing nothing. After 20 years, the phase of insanity will begin: you'll speak to yourself, you'll hallucinate, you'll probably self-harm. Your mind will do everything to fill reality with something\u2026

The man stares at his hand. In his palm, he sees an eye without lids looking back.

INT. ROOM - DAY #8#

MICHELE (V.O.)
\u2026 After 50 years, mental decay will have reached its peak. Your mind will try to put an end to any intellectual stimulation. You'll forget how to talk and how to think. You'll forget who your parents were, who your friends were, and what love is. After a few centuries, even the most basic vital dips will be nullified. Yet, you will continue to exist, motionless, withered by hunger and thirst, like a tree in winter.

Last shot fixed on the man from behind, huddled in a dark corner.

INT. LIVING ROOM - DAY #9#

MICHELE
It is eternity, my friend. There is no plan that works.



`,Fq=`index,title,description
0,Synopsis,"(Poster made by <a href='https://www.instagram.com/ooo.architecture/' target='_blank' rel='noreferrer noopener' class='classes.link'>OOO Architecture</a>.)\\nA man, with an unknown name, wakes up on a deserted rocky beach, not knowing who he is, or why he's there. While looking for someone to ask for help, he walks into a restaurant, where he finds a person who has been waiting for him. His name is Michele, and he is identical, in every aspect of his body, to the protagonist (they are both played by the same actor).\\nConversing with Michele, the protagonist discovers that he is dead and that he is now in the afterlife. Michele is a spiritual entity who took the protagonist's form to explain his new condition. The world in which they find themselves, in fact, is the new, more modern and more efficient version of Hell: an otherworldly place that is the same in all respects as the world of the living, but inhabited by nobody but the protagonist. Therefore, he will find himself living in absolute solitude for the rest of eternity.\\nMichele brings the protagonist to the place where he woke up, and shows him the reason he received this punishment. The protagonist has, in fact, strangled his girlfriend in an attack of jealousy.\\nUnable to accept his condition, the protagonist tries to figure out how to get out of this new reality. He first considers throwing himself off the balcony of his house, believing that this will make him wake up in another world, exactly as one usually wakes up from a nightmare. Michele, however, immediately blocks him, and makes him understand that there is no easy way to escape his punishment, which has been precisely designed to conduct people to madness and despair. However, Michele later admits the total repentance may be a possible solution. If the protagonist takes the decision to inflict on himself the same pain that he inflicted on others, then he can hope to escape his punishment.\\nThe protagonist chooses to hang himself to prove that he is ready to feel the same pain inflicted on the girl he had loved. However, as soon as the rope is stretched, it breaks for no apparent reason, letting the protagonist fall to the ground in a state of complete confusion. As he tries to tie the noose once more, the protagonist realizes that he does not have the courage to carry out the punishment he wants to inflict on himself, and goes back to his house in almost catatonic state. He finally sits down at the living room table, and starts scribbling something to pass the time."
1,,"In the opening scene, I wanted to present the protagonist in a setting that could reflect his nature of mediocre, spoiled and self-centered man. He is a person without an actual identity, or at least an identity that he decided to forge by himself. Through the movie, we will understand that all of his actions are driven only by ego, by the desperate search for someone else's approval. To represent all of this, I pictured a desolate environment, in which the life of barren Mediterranean vegetation barely emerges from rocks and concrete. I think this is an image that captures the existence of the protagonist: a life that is born out of lifelessness."
2,,"If the protagonist is a body without a soul, Michele is a soul without a body. Therefore, I thought that the best way to express this concept was to have the same actor playing both of the characters, using the dialogue to distinguish the two personalities. Michele is clever, well-spoken, and has also his own personal sense of humor. The protagonist, on the contrary, is timid, express himself with few, short sentences and there is a constant tremor of incertitude in his voice (As a side note: the duplication of the actor has been realized with the help of an AI algorithm. Take a look <a href='https://github.com/facebookresearch/detectron2' target='_blank' rel='noreferrer noopener' class='classes.link'>here</a> if you feel curious)."
3,,"In a flash-forward, Michele shows the protagonist the state of madness he will fall after decades of solitude. I thought that showing these visions could express furthermore the nature of the protagonist. For example, I think this hallucination is an interesting way to show his egocentrism: when there is nobody that could possibly look at him, here's his mind creating precisely an eye that can judge him."`,Uq="/Portfolio/assets/scriptIta.b6b7e914.pdf",Bq="/Portfolio/assets/scriptEng.69cd3d82.pdf";const zq=["scene-heading","dialogue","character","action","parenthetical"],Vq=t=>{const e=YA.FountainParser.parse(t,{script_html:!0}).script_html;return zq.reduce((i,r)=>Rn[r]?i.replaceAll(`"${r}"`,Rn[r]):i,e)},Hq=[Lq,jq,Nq].map((t,e)=>{const i=Vq(t),r=document.createElement("div");return r.innerHTML=i,r.querySelectorAll("[data-scene-heading-index]").forEach(s=>s.textContent=s.getAttribute("data-scene-heading-index")+". "+s.textContent),te("div",{className:Rn.script,dangerouslySetInnerHTML:{__html:r.innerHTML}},e)}),Wq=cc(sc.exports.parse(Fq,{header:!0}).data,["index"]).map((t,e)=>{const i=t.description.split("\\n").map((r,n)=>te("p",{dangerouslySetInnerHTML:{__html:r.replaceAll("classes.link",Rn.link)}},n));return Je("div",{children:[te("h2",{children:t.title}),i,e>0?Hq[e-1]:""]},e)}),qq=["poster","scene1","scene2","scene3"].map(t=>({slide:te("img",{src:new URL({"./images/caroAmicoPreview1.webp":ag,"./images/caroAmicoPreview2.webp":og,"./images/caroAmicoPreview3.webp":lg,"./images/caroAmicoPreview4.webp":ug,"./images/caroAmicoPreview5.webp":cg,"./images/caroAmicoTitle.webp":zg,"./images/joined.webp":SS,"./images/poster.webp":ES,"./images/scene1.webp":CS,"./images/scene2.webp":kS,"./images/scene3.webp":PS,"./images/synopsis.webp":OS,"./images/synopsisCaroAmico.webp":Vg}[`./images/${t}.webp`],self.location).href}),preview:new URL({"./images/caroAmicoPreview1.webp":ag,"./images/caroAmicoPreview2.webp":og,"./images/caroAmicoPreview3.webp":lg,"./images/caroAmicoPreview4.webp":ug,"./images/caroAmicoPreview5.webp":cg,"./images/caroAmicoTitle.webp":zg,"./images/joined.webp":SS,"./images/poster.webp":ES,"./images/scene1.webp":CS,"./images/scene2.webp":kS,"./images/scene3.webp":PS,"./images/synopsis.webp":OS,"./images/synopsisCaroAmico.webp":Vg}[`./images/${t}.webp`],self.location).href})),$q=Je(J.exports.Fragment,{children:["Mirrorland \u2014 Click on the following links for the complete scripts (Italian"," ",te("a",{className:Rn.link,target:"_blank",rel:"noreferrer noopener",href:Uq,children:"here"})," ","/ English"," ",te("a",{className:Rn.link,target:"_blank",rel:"noreferrer noopener",href:Bq,children:"here"}),")"]}),Gq="This is a collection of visual ideas for scenes taken from a new short script I wrote. Here, you can find the synopsis, some context for each scene, and the corresponding excerpt of the script.",Kq=()=>te(wc,{media:qq,content:Wq,title:$q,subtitle:Gq});var Xq="/Portfolio/assets/ago.47569c57.png",tp={},Yq=function(e){return Qq(e)&&!Jq(e)};function Qq(t){return!!t&&typeof t=="object"}function Jq(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||t$(t)}var Zq=typeof Symbol=="function"&&Symbol.for,e$=Zq?Symbol.for("react.element"):60103;function t$(t){return t.$$typeof===e$}function i$(t){return Array.isArray(t)?[]:{}}function Wu(t,e){return e.clone!==!1&&e.isMergeableObject(t)?wo(i$(t),t,e):t}function n$(t,e,i){return t.concat(e).map(function(r){return Wu(r,i)})}function r$(t,e){if(!e.customMerge)return wo;var i=e.customMerge(t);return typeof i=="function"?i:wo}function s$(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return Object.propertyIsEnumerable.call(t,e)}):[]}function DS(t){return Object.keys(t).concat(s$(t))}function nI(t,e){try{return e in t}catch{return!1}}function a$(t,e){return nI(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}function o$(t,e,i){var r={};return i.isMergeableObject(t)&&DS(t).forEach(function(n){r[n]=Wu(t[n],i)}),DS(e).forEach(function(n){a$(t,n)||(nI(t,n)&&i.isMergeableObject(e[n])?r[n]=r$(n,i)(t[n],e[n],i):r[n]=Wu(e[n],i))}),r}function wo(t,e,i){i=i||{},i.arrayMerge=i.arrayMerge||n$,i.isMergeableObject=i.isMergeableObject||Yq,i.cloneUnlessOtherwiseSpecified=Wu;var r=Array.isArray(e),n=Array.isArray(t),s=r===n;return s?r?i.arrayMerge(t,e,i):o$(t,e,i):Wu(e,i)}wo.all=function(e,i){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,n){return wo(r,n,i)},{})};var l$=wo,rI=l$,MS=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function u$(t,e){return!!(t===e||MS(t)&&MS(e))}function c$(t,e){if(t.length!==e.length)return!1;for(var i=0;i<t.length;i++)if(!u$(t[i],e[i]))return!1;return!0}function d$(t,e){e===void 0&&(e=c$);var i,r=[],n,s=!1;function a(){for(var o=[],l=0;l<arguments.length;l++)o[l]=arguments[l];return s&&i===this&&e(o,r)||(n=t.apply(this,o),s=!0,i=this,r=o),n}return a}var f$=Object.freeze(Object.defineProperty({__proto__:null,default:d$},Symbol.toStringTag,{value:"Module"})),h$=Jf(f$),p$=typeof Element<"u",m$=typeof Map=="function",v$=typeof Set=="function",g$=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function zd(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var i,r,n;if(Array.isArray(t)){if(i=t.length,i!=e.length)return!1;for(r=i;r--!==0;)if(!zd(t[r],e[r]))return!1;return!0}var s;if(m$&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;for(s=t.entries();!(r=s.next()).done;)if(!zd(r.value[1],e.get(r.value[0])))return!1;return!0}if(v$&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(g$&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(i=t.length,i!=e.length)return!1;for(r=i;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(n=Object.keys(t),i=n.length,i!==Object.keys(e).length)return!1;for(r=i;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,n[r]))return!1;if(p$&&t instanceof Element)return!1;for(r=i;r--!==0;)if(!((n[r]==="_owner"||n[r]==="__v"||n[r]==="__o")&&t.$$typeof)&&!zd(t[n[r]],e[n[r]]))return!1;return!0}return t!==t&&e!==e}var sI=function(e,i){try{return zd(e,i)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}},Zs={},aI={exports:{}},y$="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",_$=y$,b$=_$;function oI(){}function lI(){}lI.resetWarningCache=oI;var T$=function(){function t(r,n,s,a,o,l){if(l!==b$){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var i={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:lI,resetWarningCache:oI};return i.PropTypes=i,i};aI.exports=T$();Object.defineProperty(Zs,"__esModule",{value:!0});Zs.defaultProps=Zs.propTypes=void 0;var Rr=x$(aI.exports);function x$(t){return t&&t.__esModule?t:{default:t}}var hi=Rr.default.string,Oi=Rr.default.bool,Sa=Rr.default.number,Fm=Rr.default.array,xl=Rr.default.oneOfType,on=Rr.default.shape,pi=Rr.default.object,Mt=Rr.default.func,RS=Rr.default.node,w$={url:xl([hi,Fm,pi]),playing:Oi,loop:Oi,controls:Oi,volume:Sa,muted:Oi,playbackRate:Sa,width:xl([hi,Sa]),height:xl([hi,Sa]),style:pi,progressInterval:Sa,playsinline:Oi,pip:Oi,stopOnUnmount:Oi,light:xl([Oi,hi,pi]),playIcon:RS,previewTabIndex:Sa,fallback:RS,oEmbedUrl:hi,wrapper:xl([hi,Mt,on({render:Mt.isRequired})]),config:on({soundcloud:on({options:pi}),youtube:on({playerVars:pi,embedOptions:pi,onUnstarted:Mt}),facebook:on({appId:hi,version:hi,playerId:hi,attributes:pi}),dailymotion:on({params:pi}),vimeo:on({playerOptions:pi,title:hi}),file:on({attributes:pi,tracks:Fm,forceVideo:Oi,forceAudio:Oi,forceHLS:Oi,forceSafariHLS:Oi,forceDASH:Oi,forceFLV:Oi,hlsOptions:pi,hlsVersion:hi,dashVersion:hi,flvVersion:hi}),wistia:on({options:pi,playerId:hi,customControls:Fm}),mixcloud:on({options:pi}),twitch:on({options:pi,playerId:hi}),vidyard:on({options:pi})}),onReady:Mt,onStart:Mt,onPlay:Mt,onPause:Mt,onBuffer:Mt,onBufferEnd:Mt,onEnded:Mt,onError:Mt,onDuration:Mt,onSeek:Mt,onPlaybackRateChange:Mt,onProgress:Mt,onClickPreview:Mt,onEnablePIP:Mt,onDisablePIP:Mt};Zs.propTypes=w$;var Zt=function(){},S$={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:Zt},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0"},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:Zt,onStart:Zt,onPlay:Zt,onPause:Zt,onBuffer:Zt,onBufferEnd:Zt,onEnded:Zt,onError:Zt,onDuration:Zt,onSeek:Zt,onPlaybackRateChange:Zt,onProgress:Zt,onClickPreview:Zt,onEnablePIP:Zt,onDisablePIP:Zt};Zs.defaultProps=S$;var ui={},E$=function(e,i,r){var n=document.head||document.getElementsByTagName("head")[0],s=document.createElement("script");typeof i=="function"&&(r=i,i={}),i=i||{},r=r||function(){},s.type=i.type||"text/javascript",s.charset=i.charset||"utf8",s.async="async"in i?!!i.async:!0,s.src=e,i.attrs&&C$(s,i.attrs),i.text&&(s.text=""+i.text);var a="onload"in s?LS:k$;a(s,r),s.onload||LS(s,r),n.appendChild(s)};function C$(t,e){for(var i in e)t.setAttribute(i,e[i])}function LS(t,e){t.onload=function(){this.onerror=this.onload=null,e(null,t)},t.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),t)}}function k$(t,e){t.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,e(null,t))}}Object.defineProperty(ui,"__esModule",{value:!0});ui.parseStartTime=U$;ui.parseEndTime=B$;ui.randomString=z$;ui.queryString=V$;ui.getSDK=H$;ui.getConfig=W$;ui.omit=q$;ui.callPlayer=$$;ui.isMediaStream=G$;ui.isBlobUrl=K$;ui.supportsWebKitPresentationMode=X$;var P$=uI(E$),O$=uI(rI);function uI(t){return t&&t.__esModule?t:{default:t}}function A$(t,e){return R$(t)||M$(t,e)||D$(t,e)||I$()}function I$(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D$(t,e){if(!!t){if(typeof t=="string")return jS(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return jS(t,e)}}function jS(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function M$(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var i=[],r=!0,n=!1,s=void 0;try{for(var a=t[Symbol.iterator](),o;!(r=(o=a.next()).done)&&(i.push(o.value),!(e&&i.length===e));r=!0);}catch(l){n=!0,s=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(n)throw s}}return i}}function R$(t){if(Array.isArray(t))return t}var L$=/[?&#](?:start|t)=([0-9hms]+)/,j$=/[?&#]end=([0-9hms]+)/,Hg=/(\d+)(h|m|s)/g,N$=/^\d+$/;function cI(t,e){if(!(t instanceof Array)){var i=t.match(e);if(i){var r=i[1];if(r.match(Hg))return F$(r);if(N$.test(r))return parseInt(r)}}}function F$(t){for(var e=0,i=Hg.exec(t);i!==null;){var r=i,n=A$(r,3),s=n[1],a=n[2];a==="h"&&(e+=parseInt(s,10)*60*60),a==="m"&&(e+=parseInt(s,10)*60),a==="s"&&(e+=parseInt(s,10)),i=Hg.exec(t)}return e}function U$(t){return cI(t,L$)}function B$(t){return cI(t,j$)}function z$(){return Math.random().toString(36).substr(2,5)}function V$(t){return Object.keys(t).map(function(e){return"".concat(e,"=").concat(t[e])}).join("&")}function Um(t){return window[t]?window[t]:window.exports&&window.exports[t]?window.exports[t]:window.module&&window.module.exports&&window.module.exports[t]?window.module.exports[t]:null}var Ea={};function H$(t,e){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:function(){return!0},n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:P$.default,s=Um(e);return s&&r(s)?Promise.resolve(s):new Promise(function(a,o){if(Ea[t]){Ea[t].push({resolve:a,reject:o});return}Ea[t]=[{resolve:a,reject:o}];var l=function(f){Ea[t].forEach(function(d){return d.resolve(f)})};if(i){var u=window[i];window[i]=function(){u&&u(),l(Um(e))}}n(t,function(c){c?(Ea[t].forEach(function(f){return f.reject(c)}),Ea[t]=null):i||l(Um(e))})})}function W$(t,e){return(0,O$.default)(e.config,t.config)}function q$(t){for(var e,i=arguments.length,r=new Array(i>1?i-1:0),n=1;n<i;n++)r[n-1]=arguments[n];for(var s=(e=[]).concat.apply(e,r),a={},o=Object.keys(t),l=0,u=o;l<u.length;l++){var c=u[l];s.indexOf(c)===-1&&(a[c]=t[c])}return a}function $$(t){var e;if(!this.player||!this.player[t]){var i="ReactPlayer: ".concat(this.constructor.displayName," player could not call %c").concat(t,"%c \u2013 ");return this.player?this.player[t]||(i+="The method was not available"):i+="The player was not available",console.warn(i,"font-weight: bold",""),null}for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];return(e=this.player)[t].apply(e,n)}function G$(t){return typeof window<"u"&&typeof window.MediaStream<"u"&&t instanceof window.MediaStream}function K$(t){return/^blob:/.test(t)}function X$(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document.createElement("video"),e=/iPhone|iPod/.test(navigator.userAgent)===!1;return t.webkitSupportsPresentationMode&&typeof t.webkitSetPresentationMode=="function"&&e}var dI={};(function(t){function e(A){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(C){return typeof C}:e=function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},e(A)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=l(J.exports),r=a(sI),n=Zs,s=ui;function a(A){return A&&A.__esModule?A:{default:A}}function o(){if(typeof WeakMap!="function")return null;var A=new WeakMap;return o=function(){return A},A}function l(A){if(A&&A.__esModule)return A;if(A===null||e(A)!=="object"&&typeof A!="function")return{default:A};var E=o();if(E&&E.has(A))return E.get(A);var C={},P=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var U in A)if(Object.prototype.hasOwnProperty.call(A,U)){var B=P?Object.getOwnPropertyDescriptor(A,U):null;B&&(B.get||B.set)?Object.defineProperty(C,U,B):C[U]=A[U]}return C.default=A,E&&E.set(A,C),C}function u(){return u=Object.assign||function(A){for(var E=1;E<arguments.length;E++){var C=arguments[E];for(var P in C)Object.prototype.hasOwnProperty.call(C,P)&&(A[P]=C[P])}return A},u.apply(this,arguments)}function c(A,E){if(!(A instanceof E))throw new TypeError("Cannot call a class as a function")}function f(A,E){for(var C=0;C<E.length;C++){var P=E[C];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(A,P.key,P)}}function d(A,E,C){return E&&f(A.prototype,E),C&&f(A,C),A}function p(A,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(E&&E.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),E&&g(A,E)}function g(A,E){return g=Object.setPrototypeOf||function(P,U){return P.__proto__=U,P},g(A,E)}function b(A){var E=S();return function(){var P=I(A),U;if(E){var B=I(this).constructor;U=Reflect.construct(P,arguments,B)}else U=P.apply(this,arguments);return y(this,U)}}function y(A,E){return E&&(e(E)==="object"||typeof E=="function")?E:T(A)}function T(A){if(A===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A}function S(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function I(A){return I=Object.setPrototypeOf?Object.getPrototypeOf:function(C){return C.__proto__||Object.getPrototypeOf(C)},I(A)}function O(A,E,C){return E in A?Object.defineProperty(A,E,{value:C,enumerable:!0,configurable:!0,writable:!0}):A[E]=C,A}var M=5e3,R=function(A){p(C,A);var E=b(C);function C(){var P;c(this,C);for(var U=arguments.length,B=new Array(U),G=0;G<U;G++)B[G]=arguments[G];return P=E.call.apply(E,[this].concat(B)),O(T(P),"mounted",!1),O(T(P),"isReady",!1),O(T(P),"isPlaying",!1),O(T(P),"isLoading",!0),O(T(P),"loadOnReady",null),O(T(P),"startOnPlay",!0),O(T(P),"seekOnPlay",null),O(T(P),"onDurationCalled",!1),O(T(P),"handlePlayerMount",function(W){if(P.player){P.progress();return}P.player=W,P.player.load(P.props.url),P.progress()}),O(T(P),"getInternalPlayer",function(W){return P.player?P.player[W]:null}),O(T(P),"progress",function(){if(P.props.url&&P.player&&P.isReady){var W=P.getCurrentTime()||0,Y=P.getSecondsLoaded(),ee=P.getDuration();if(ee){var K={playedSeconds:W,played:W/ee};Y!==null&&(K.loadedSeconds=Y,K.loaded=Y/ee),(K.playedSeconds!==P.prevPlayed||K.loadedSeconds!==P.prevLoaded)&&P.props.onProgress(K),P.prevPlayed=K.playedSeconds,P.prevLoaded=K.loadedSeconds}}P.progressTimeout=setTimeout(P.progress,P.props.progressFrequency||P.props.progressInterval)}),O(T(P),"handleReady",function(){if(!!P.mounted){P.isReady=!0,P.isLoading=!1;var W=P.props,Y=W.onReady,ee=W.playing,K=W.volume,q=W.muted;Y(),!q&&K!==null&&P.player.setVolume(K),P.loadOnReady?(P.player.load(P.loadOnReady,!0),P.loadOnReady=null):ee&&P.player.play(),P.handleDurationCheck()}}),O(T(P),"handlePlay",function(){P.isPlaying=!0,P.isLoading=!1;var W=P.props,Y=W.onStart,ee=W.onPlay,K=W.playbackRate;P.startOnPlay&&(P.player.setPlaybackRate&&K!==1&&P.player.setPlaybackRate(K),Y(),P.startOnPlay=!1),ee(),P.seekOnPlay&&(P.seekTo(P.seekOnPlay),P.seekOnPlay=null),P.handleDurationCheck()}),O(T(P),"handlePause",function(W){P.isPlaying=!1,P.isLoading||P.props.onPause(W)}),O(T(P),"handleEnded",function(){var W=P.props,Y=W.activePlayer,ee=W.loop,K=W.onEnded;Y.loopOnEnded&&ee&&P.seekTo(0),ee||(P.isPlaying=!1,K())}),O(T(P),"handleError",function(){var W;P.isLoading=!1,(W=P.props).onError.apply(W,arguments)}),O(T(P),"handleDurationCheck",function(){clearTimeout(P.durationCheckTimeout);var W=P.getDuration();W?P.onDurationCalled||(P.props.onDuration(W),P.onDurationCalled=!0):P.durationCheckTimeout=setTimeout(P.handleDurationCheck,100)}),O(T(P),"handleLoaded",function(){P.isLoading=!1}),P}return d(C,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}},{key:"componentDidUpdate",value:function(U){var B=this;if(!!this.player){var G=this.props,W=G.url,Y=G.playing,ee=G.volume,K=G.muted,q=G.playbackRate,X=G.pip,Z=G.loop,$=G.activePlayer,H=G.disableDeferredLoading;if(!(0,r.default)(U.url,W)){if(this.isLoading&&!$.forceLoad&&!H&&!(0,s.isMediaStream)(W)){console.warn("ReactPlayer: the attempt to load ".concat(W," is being deferred until the player has loaded")),this.loadOnReady=W;return}this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(W,this.isReady)}!U.playing&&Y&&!this.isPlaying&&this.player.play(),U.playing&&!Y&&this.isPlaying&&this.player.pause(),!U.pip&&X&&this.player.enablePIP&&this.player.enablePIP(),U.pip&&!X&&this.player.disablePIP&&this.player.disablePIP(),U.volume!==ee&&ee!==null&&this.player.setVolume(ee),U.muted!==K&&(K?this.player.mute():(this.player.unmute(),ee!==null&&setTimeout(function(){return B.player.setVolume(ee)}))),U.playbackRate!==q&&this.player.setPlaybackRate&&this.player.setPlaybackRate(q),U.loop!==Z&&this.player.setLoop&&this.player.setLoop(Z)}}},{key:"getDuration",value:function(){return this.isReady?this.player.getDuration():null}},{key:"getCurrentTime",value:function(){return this.isReady?this.player.getCurrentTime():null}},{key:"getSecondsLoaded",value:function(){return this.isReady?this.player.getSecondsLoaded():null}},{key:"seekTo",value:function(U,B){var G=this;if(!this.isReady){U!==0&&(this.seekOnPlay=U,setTimeout(function(){G.seekOnPlay=null},M));return}var W=B?B==="fraction":U>0&&U<1;if(W){var Y=this.player.getDuration();if(!Y){console.warn("ReactPlayer: could not seek using fraction \u2013\xA0duration not yet available");return}this.player.seekTo(Y*U);return}this.player.seekTo(U)}},{key:"render",value:function(){var U=this.props.activePlayer;return U?i.default.createElement(U,u({},this.props,{onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError})):null}}]),C}(i.Component);t.default=R,O(R,"displayName","Player"),O(R,"propTypes",n.propTypes),O(R,"defaultProps",n.defaultProps)})(dI);var fI={};(function(t){function e(M){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(A){return typeof A}:e=function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},e(M)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(J.exports);function r(){if(typeof WeakMap!="function")return null;var M=new WeakMap;return r=function(){return M},M}function n(M){if(M&&M.__esModule)return M;if(M===null||e(M)!=="object"&&typeof M!="function")return{default:M};var R=r();if(R&&R.has(M))return R.get(M);var A={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var C in M)if(Object.prototype.hasOwnProperty.call(M,C)){var P=E?Object.getOwnPropertyDescriptor(M,C):null;P&&(P.get||P.set)?Object.defineProperty(A,C,P):A[C]=M[C]}return A.default=M,R&&R.set(M,A),A}function s(M,R){var A=Object.keys(M);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(M);R&&(E=E.filter(function(C){return Object.getOwnPropertyDescriptor(M,C).enumerable})),A.push.apply(A,E)}return A}function a(M){for(var R=1;R<arguments.length;R++){var A=arguments[R]!=null?arguments[R]:{};R%2?s(Object(A),!0).forEach(function(E){T(M,E,A[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(A)):s(Object(A)).forEach(function(E){Object.defineProperty(M,E,Object.getOwnPropertyDescriptor(A,E))})}return M}function o(M,R){if(!(M instanceof R))throw new TypeError("Cannot call a class as a function")}function l(M,R){for(var A=0;A<R.length;A++){var E=R[A];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(M,E.key,E)}}function u(M,R,A){return R&&l(M.prototype,R),A&&l(M,A),M}function c(M,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(R&&R.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),R&&f(M,R)}function f(M,R){return f=Object.setPrototypeOf||function(E,C){return E.__proto__=C,E},f(M,R)}function d(M){var R=b();return function(){var E=y(M),C;if(R){var P=y(this).constructor;C=Reflect.construct(E,arguments,P)}else C=E.apply(this,arguments);return p(this,C)}}function p(M,R){return R&&(e(R)==="object"||typeof R=="function")?R:g(M)}function g(M){if(M===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}function b(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function y(M){return y=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)},y(M)}function T(M,R,A){return R in M?Object.defineProperty(M,R,{value:A,enumerable:!0,configurable:!0,writable:!0}):M[R]=A,M}var S="64px",I={},O=function(M){c(A,M);var R=d(A);function A(){var E;o(this,A);for(var C=arguments.length,P=new Array(C),U=0;U<C;U++)P[U]=arguments[U];return E=R.call.apply(R,[this].concat(P)),T(g(E),"mounted",!1),T(g(E),"state",{image:null}),T(g(E),"handleKeyPress",function(B){(B.key==="Enter"||B.key===" ")&&E.props.onClick()}),E}return u(A,[{key:"componentDidMount",value:function(){this.mounted=!0,this.fetchImage(this.props)}},{key:"componentDidUpdate",value:function(C){var P=this.props,U=P.url,B=P.light;(C.url!==U||C.light!==B)&&this.fetchImage(this.props)}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"fetchImage",value:function(C){var P=this,U=C.url,B=C.light,G=C.oEmbedUrl;if(!i.default.isValidElement(B)){if(typeof B=="string"){this.setState({image:B});return}if(I[U]){this.setState({image:I[U]});return}return this.setState({image:null}),window.fetch(G.replace("{url}",U)).then(function(W){return W.json()}).then(function(W){if(W.thumbnail_url&&P.mounted){var Y=W.thumbnail_url.replace("height=100","height=480").replace("-d_295x166","-d_640");P.setState({image:Y}),I[U]=Y}})}}},{key:"render",value:function(){var C=this.props,P=C.light,U=C.onClick,B=C.playIcon,G=C.previewTabIndex,W=this.state.image,Y=i.default.isValidElement(P),ee={display:"flex",alignItems:"center",justifyContent:"center"},K={preview:a({width:"100%",height:"100%",backgroundImage:W&&!Y?"url(".concat(W,")"):void 0,backgroundSize:"cover",backgroundPosition:"center",cursor:"pointer"},ee),shadow:a({background:"radial-gradient(rgb(0, 0, 0, 0.3), rgba(0, 0, 0, 0) 60%)",borderRadius:S,width:S,height:S,position:Y?"absolute":void 0},ee),playIcon:{borderStyle:"solid",borderWidth:"16px 0 16px 26px",borderColor:"transparent transparent transparent white",marginLeft:"7px"}},q=i.default.createElement("div",{style:K.shadow,className:"react-player__shadow"},i.default.createElement("div",{style:K.playIcon,className:"react-player__play-icon"}));return i.default.createElement("div",{style:K.preview,className:"react-player__preview",onClick:U,tabIndex:G,onKeyPress:this.handleKeyPress},Y?P:null,B||q)}}]),A}(i.Component);t.default=O})(fI);Object.defineProperty(tp,"__esModule",{value:!0});tp.createReactPlayer=void 0;var As=pI(J.exports),Y$=ip(rI),Bm=ip(h$),NS=ip(sI),jl=Zs,Q$=ui,J$=ip(dI);function ip(t){return t&&t.__esModule?t:{default:t}}function au(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?au=function(i){return typeof i}:au=function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},au(t)}function FS(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),i.push.apply(i,r)}return i}function US(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?FS(Object(i),!0).forEach(function(r){ht(t,r,i[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):FS(Object(i)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))})}return t}function Yf(){return Yf=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t},Yf.apply(this,arguments)}function zm(t){return iG(t)||tG(t)||eG(t)||Z$()}function Z$(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eG(t,e){if(!!t){if(typeof t=="string")return Wg(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Wg(t,e)}}function tG(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function iG(t){if(Array.isArray(t))return Wg(t)}function Wg(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}function nG(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BS(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function rG(t,e,i){return e&&BS(t.prototype,e),i&&BS(t,i),t}function sG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&qg(t,e)}function qg(t,e){return qg=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r},qg(t,e)}function aG(t){var e=lG();return function(){var r=Qf(t),n;if(e){var s=Qf(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return oG(this,n)}}function oG(t,e){return e&&(au(e)==="object"||typeof e=="function")?e:ei(t)}function ei(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lG(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Qf(t){return Qf=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)},Qf(t)}function ht(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function hI(){if(typeof WeakMap!="function")return null;var t=new WeakMap;return hI=function(){return t},t}function pI(t){if(t&&t.__esModule)return t;if(t===null||au(t)!=="object"&&typeof t!="function")return{default:t};var e=hI();if(e&&e.has(t))return e.get(t);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var s=r?Object.getOwnPropertyDescriptor(t,n):null;s&&(s.get||s.set)?Object.defineProperty(i,n,s):i[n]=t[n]}return i.default=t,e&&e.set(t,i),i}var uG=(0,As.lazy)(function(){return Promise.resolve().then(function(){return pI(fI)})}),cG=typeof window<"u"&&window.document,dG=typeof Ni<"u"&&Ni.window&&Ni.window.document,fG=Object.keys(jl.propTypes),hG=cG||dG?As.Suspense:function(){return null},wl=[],pG=function(e,i){var r,n;return n=r=function(s){sG(o,s);var a=aG(o);function o(){var l;nG(this,o);for(var u=arguments.length,c=new Array(u),f=0;f<u;f++)c[f]=arguments[f];return l=a.call.apply(a,[this].concat(c)),ht(ei(l),"state",{showPreview:!!l.props.light}),ht(ei(l),"references",{wrapper:function(p){l.wrapper=p},player:function(p){l.player=p}}),ht(ei(l),"handleClickPreview",function(d){l.setState({showPreview:!1}),l.props.onClickPreview(d)}),ht(ei(l),"showPreview",function(){l.setState({showPreview:!0})}),ht(ei(l),"getDuration",function(){return l.player?l.player.getDuration():null}),ht(ei(l),"getCurrentTime",function(){return l.player?l.player.getCurrentTime():null}),ht(ei(l),"getSecondsLoaded",function(){return l.player?l.player.getSecondsLoaded():null}),ht(ei(l),"getInternalPlayer",function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"player";return l.player?l.player.getInternalPlayer(d):null}),ht(ei(l),"seekTo",function(d,p){if(!l.player)return null;l.player.seekTo(d,p)}),ht(ei(l),"handleReady",function(){l.props.onReady(ei(l))}),ht(ei(l),"getActivePlayer",(0,Bm.default)(function(d){for(var p=0,g=[].concat(wl,zm(e));p<g.length;p++){var b=g[p];if(b.canPlay(d))return b}return i||null})),ht(ei(l),"getConfig",(0,Bm.default)(function(d,p){var g=l.props.config;return Y$.default.all([jl.defaultProps.config,jl.defaultProps.config[p]||{},g,g[p]||{}])})),ht(ei(l),"getAttributes",(0,Bm.default)(function(d){return(0,Q$.omit)(l.props,fG)})),ht(ei(l),"renderActivePlayer",function(d){if(!d)return null;var p=l.getActivePlayer(d);if(!p)return null;var g=l.getConfig(d,p.key);return As.default.createElement(J$.default,Yf({},l.props,{key:p.key,ref:l.references.player,config:g,activePlayer:p.lazyPlayer||p,onReady:l.handleReady}))}),l}return rG(o,[{key:"shouldComponentUpdate",value:function(u,c){return!(0,NS.default)(this.props,u)||!(0,NS.default)(this.state,c)}},{key:"componentDidUpdate",value:function(u){var c=this.props.light;!u.light&&c&&this.setState({showPreview:!0}),u.light&&!c&&this.setState({showPreview:!1})}},{key:"renderPreview",value:function(u){if(!u)return null;var c=this.props,f=c.light,d=c.playIcon,p=c.previewTabIndex,g=c.oEmbedUrl;return As.default.createElement(uG,{url:u,light:f,playIcon:d,previewTabIndex:p,oEmbedUrl:g,onClick:this.handleClickPreview})}},{key:"render",value:function(){var u=this.props,c=u.url,f=u.style,d=u.width,p=u.height,g=u.fallback,b=u.wrapper,y=this.state.showPreview,T=this.getAttributes(c),S=typeof b=="string"?this.references.wrapper:void 0;return As.default.createElement(b,Yf({ref:S,style:US(US({},f),{},{width:d,height:p})},T),As.default.createElement(hG,{fallback:g},y?this.renderPreview(c):this.renderActivePlayer(c)))}}]),o}(As.Component),ht(r,"displayName","ReactPlayer"),ht(r,"propTypes",jl.propTypes),ht(r,"defaultProps",jl.defaultProps),ht(r,"addCustomPlayer",function(s){wl.push(s)}),ht(r,"removeCustomPlayers",function(){wl.length=0}),ht(r,"canPlay",function(s){for(var a=0,o=[].concat(wl,zm(e));a<o.length;a++){var l=o[a];if(l.canPlay(s))return!0}return!1}),ht(r,"canEnablePIP",function(s){for(var a=0,o=[].concat(wl,zm(e));a<o.length;a++){var l=o[a];if(l.canEnablePIP&&l.canEnablePIP(s))return!0}return!1}),n};tp.createReactPlayer=pG;var mI={},Re={};Object.defineProperty(Re,"__esModule",{value:!0});Re.canPlay=Re.FLV_EXTENSIONS=Re.DASH_EXTENSIONS=Re.HLS_EXTENSIONS=Re.VIDEO_EXTENSIONS=Re.AUDIO_EXTENSIONS=Re.MATCH_URL_KALTURA=Re.MATCH_URL_VIDYARD=Re.MATCH_URL_MIXCLOUD=Re.MATCH_URL_DAILYMOTION=Re.MATCH_URL_TWITCH_CHANNEL=Re.MATCH_URL_TWITCH_VIDEO=Re.MATCH_URL_WISTIA=Re.MATCH_URL_STREAMABLE=Re.MATCH_URL_FACEBOOK_WATCH=Re.MATCH_URL_FACEBOOK=Re.MATCH_URL_VIMEO=Re.MATCH_URL_SOUNDCLOUD=Re.MATCH_URL_YOUTUBE=void 0;var zS=ui;function mG(t,e){var i;if(typeof Symbol>"u"||t[Symbol.iterator]==null){if(Array.isArray(t)||(i=vG(t))||e&&t&&typeof t.length=="number"){i&&(t=i);var r=0,n=function(){};return{s:n,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(u){throw u},f:n}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s=!0,a=!1,o;return{s:function(){i=t[Symbol.iterator]()},n:function(){var u=i.next();return s=u.done,u},e:function(u){a=!0,o=u},f:function(){try{!s&&i.return!=null&&i.return()}finally{if(a)throw o}}}}function vG(t,e){if(!!t){if(typeof t=="string")return VS(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return VS(t,e)}}function VS(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,r=new Array(e);i<e;i++)r[i]=t[i];return r}var $g=/(?:youtu\.be\/|youtube(?:-nocookie)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//;Re.MATCH_URL_YOUTUBE=$g;var vI=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/;Re.MATCH_URL_SOUNDCLOUD=vI;var gI=/vimeo\.com\/(?!progressive_redirect).+/;Re.MATCH_URL_VIMEO=gI;var yI=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/;Re.MATCH_URL_FACEBOOK=yI;var _I=/^https?:\/\/fb\.watch\/.+$/;Re.MATCH_URL_FACEBOOK_WATCH=_I;var bI=/streamable\.com\/([a-z0-9]+)$/;Re.MATCH_URL_STREAMABLE=bI;var TI=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?(.*)$/;Re.MATCH_URL_WISTIA=TI;var xI=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/;Re.MATCH_URL_TWITCH_VIDEO=xI;var wI=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/;Re.MATCH_URL_TWITCH_CHANNEL=wI;var SI=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?(?:[\w.#_-]+)?/;Re.MATCH_URL_DAILYMOTION=SI;var EI=/mixcloud\.com\/([^/]+\/[^/]+)/;Re.MATCH_URL_MIXCLOUD=EI;var CI=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/;Re.MATCH_URL_VIDYARD=CI;var kI=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/;Re.MATCH_URL_KALTURA=kI;var B_=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i;Re.AUDIO_EXTENSIONS=B_;var z_=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i;Re.VIDEO_EXTENSIONS=z_;var V_=/\.(m3u8)($|\?)/i;Re.HLS_EXTENSIONS=V_;var PI=/\.(mpd)($|\?)/i;Re.DASH_EXTENSIONS=PI;var OI=/\.(flv)($|\?)/i;Re.FLV_EXTENSIONS=OI;var gG=function t(e){if(e instanceof Array){var i=mG(e),r;try{for(i.s();!(r=i.n()).done;){var n=r.value;if(typeof n=="string"&&t(n)||t(n.src))return!0}}catch(s){i.e(s)}finally{i.f()}return!1}return(0,zS.isMediaStream)(e)||(0,zS.isBlobUrl)(e)?!0:B_.test(e)||z_.test(e)||V_.test(e)||PI.test(e)||OI.test(e)},yG={youtube:function(e){return e instanceof Array?e.every(function(i){return $g.test(i)}):$g.test(e)},soundcloud:function(e){return vI.test(e)&&!B_.test(e)},vimeo:function(e){return gI.test(e)&&!z_.test(e)&&!V_.test(e)},facebook:function(e){return yI.test(e)||_I.test(e)},streamable:function(e){return bI.test(e)},wistia:function(e){return TI.test(e)},twitch:function(e){return xI.test(e)||wI.test(e)},dailymotion:function(e){return SI.test(e)},mixcloud:function(e){return EI.test(e)},vidyard:function(e){return CI.test(e)},kaltura:function(e){return kI.test(e)},file:gG};Re.canPlay=yG;(function(t){function e(q){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(Z){return typeof Z}:e=function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z},e(q)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(J.exports),r=ui,n=Re;function s(){if(typeof WeakMap!="function")return null;var q=new WeakMap;return s=function(){return q},q}function a(q){if(q&&q.__esModule)return q;if(q===null||e(q)!=="object"&&typeof q!="function")return{default:q};var X=s();if(X&&X.has(q))return X.get(q);var Z={},$=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var H in q)if(Object.prototype.hasOwnProperty.call(q,H)){var se=$?Object.getOwnPropertyDescriptor(q,H):null;se&&(se.get||se.set)?Object.defineProperty(Z,H,se):Z[H]=q[H]}return Z.default=q,X&&X.set(q,Z),Z}function o(q,X){var Z=Object.keys(q);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(q);X&&($=$.filter(function(H){return Object.getOwnPropertyDescriptor(q,H).enumerable})),Z.push.apply(Z,$)}return Z}function l(q){for(var X=1;X<arguments.length;X++){var Z=arguments[X]!=null?arguments[X]:{};X%2?o(Object(Z),!0).forEach(function($){C(q,$,Z[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(Z)):o(Object(Z)).forEach(function($){Object.defineProperty(q,$,Object.getOwnPropertyDescriptor(Z,$))})}return q}function u(q,X){return g(q)||p(q,X)||f(q,X)||c()}function c(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f(q,X){if(!!q){if(typeof q=="string")return d(q,X);var Z=Object.prototype.toString.call(q).slice(8,-1);if(Z==="Object"&&q.constructor&&(Z=q.constructor.name),Z==="Map"||Z==="Set")return Array.from(q);if(Z==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Z))return d(q,X)}}function d(q,X){(X==null||X>q.length)&&(X=q.length);for(var Z=0,$=new Array(X);Z<X;Z++)$[Z]=q[Z];return $}function p(q,X){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(q)))){var Z=[],$=!0,H=!1,se=void 0;try{for(var me=q[Symbol.iterator](),ce;!($=(ce=me.next()).done)&&(Z.push(ce.value),!(X&&Z.length===X));$=!0);}catch(_e){H=!0,se=_e}finally{try{!$&&me.return!=null&&me.return()}finally{if(H)throw se}}return Z}}function g(q){if(Array.isArray(q))return q}function b(q,X){if(!(q instanceof X))throw new TypeError("Cannot call a class as a function")}function y(q,X){for(var Z=0;Z<X.length;Z++){var $=X[Z];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(q,$.key,$)}}function T(q,X,Z){return X&&y(q.prototype,X),Z&&y(q,Z),q}function S(q,X){if(typeof X!="function"&&X!==null)throw new TypeError("Super expression must either be null or a function");q.prototype=Object.create(X&&X.prototype,{constructor:{value:q,writable:!0,configurable:!0}}),X&&I(q,X)}function I(q,X){return I=Object.setPrototypeOf||function($,H){return $.__proto__=H,$},I(q,X)}function O(q){var X=A();return function(){var $=E(q),H;if(X){var se=E(this).constructor;H=Reflect.construct($,arguments,se)}else H=$.apply(this,arguments);return M(this,H)}}function M(q,X){return X&&(e(X)==="object"||typeof X=="function")?X:R(q)}function R(q){if(q===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q}function A(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function E(q){return E=Object.setPrototypeOf?Object.getPrototypeOf:function(Z){return Z.__proto__||Object.getPrototypeOf(Z)},E(q)}function C(q,X,Z){return X in q?Object.defineProperty(q,X,{value:Z,enumerable:!0,configurable:!0,writable:!0}):q[X]=Z,q}var P="https://www.youtube.com/iframe_api",U="YT",B="onYouTubeIframeAPIReady",G=/[?&](?:list|channel)=([a-zA-Z0-9_-]+)/,W=/user\/([a-zA-Z0-9_-]+)\/?/,Y=/youtube-nocookie\.com/,ee="https://www.youtube-nocookie.com",K=function(q){S(Z,q);var X=O(Z);function Z(){var $;b(this,Z);for(var H=arguments.length,se=new Array(H),me=0;me<H;me++)se[me]=arguments[me];return $=X.call.apply(X,[this].concat(se)),C(R($),"callPlayer",r.callPlayer),C(R($),"parsePlaylist",function(ce){if(ce instanceof Array)return{listType:"playlist",playlist:ce.map($.getID).join(",")};if(G.test(ce)){var _e=ce.match(G),be=u(_e,2),De=be[1];return{listType:"playlist",list:De.replace(/^UC/,"UU")}}if(W.test(ce)){var de=ce.match(W),Me=u(de,2),Fe=Me[1];return{listType:"user_uploads",list:Fe}}return{}}),C(R($),"onStateChange",function(ce){var _e=ce.data,be=$.props,De=be.onPlay,de=be.onPause,Me=be.onBuffer,Fe=be.onBufferEnd,$e=be.onEnded,Ce=be.onReady,je=be.loop,ze=be.config,ye=ze.playerVars,dt=ze.onUnstarted,Ke=window[U].PlayerState,Pe=Ke.UNSTARTED,rn=Ke.PLAYING,Gt=Ke.PAUSED,Kt=Ke.BUFFERING,ft=Ke.ENDED,ki=Ke.CUED;if(_e===Pe&&dt(),_e===rn&&(De(),Fe()),_e===Gt&&de(),_e===Kt&&Me(),_e===ft){var _t=!!$.callPlayer("getPlaylist");je&&!_t&&(ye.start?$.seekTo(ye.start):$.play()),$e()}_e===ki&&Ce()}),C(R($),"mute",function(){$.callPlayer("mute")}),C(R($),"unmute",function(){$.callPlayer("unMute")}),C(R($),"ref",function(ce){$.container=ce}),$}return T(Z,[{key:"componentDidMount",value:function(){this.props.onMount&&this.props.onMount(this)}},{key:"getID",value:function(H){return!H||H instanceof Array||G.test(H)?null:H.match(n.MATCH_URL_YOUTUBE)[1]}},{key:"load",value:function(H,se){var me=this,ce=this.props,_e=ce.playing,be=ce.muted,De=ce.playsinline,de=ce.controls,Me=ce.loop,Fe=ce.config,$e=ce.onError,Ce=Fe.playerVars,je=Fe.embedOptions,ze=this.getID(H);if(se){if(G.test(H)||W.test(H)||H instanceof Array){this.player.loadPlaylist(this.parsePlaylist(H));return}this.player.cueVideoById({videoId:ze,startSeconds:(0,r.parseStartTime)(H)||Ce.start,endSeconds:(0,r.parseEndTime)(H)||Ce.end});return}(0,r.getSDK)(P,U,B,function(ye){return ye.loaded}).then(function(ye){!me.container||(me.player=new ye.Player(me.container,l({width:"100%",height:"100%",videoId:ze,playerVars:l(l({autoplay:_e?1:0,mute:be?1:0,controls:de?1:0,start:(0,r.parseStartTime)(H),end:(0,r.parseEndTime)(H),origin:window.location.origin,playsinline:De?1:0},me.parsePlaylist(H)),Ce),events:{onReady:function(){Me&&me.player.setLoop(!0),me.props.onReady()},onPlaybackRateChange:function(Ke){return me.props.onPlaybackRateChange(Ke.data)},onStateChange:me.onStateChange,onError:function(Ke){return $e(Ke.data)}},host:Y.test(H)?ee:void 0},je)))},$e),je.events&&console.warn("Using `embedOptions.events` will likely break things. Use ReactPlayer\u2019s callback props instead, eg onReady, onPlay, onPause")}},{key:"play",value:function(){this.callPlayer("playVideo")}},{key:"pause",value:function(){this.callPlayer("pauseVideo")}},{key:"stop",value:function(){!document.body.contains(this.callPlayer("getIframe"))||this.callPlayer("stopVideo")}},{key:"seekTo",value:function(H){this.callPlayer("seekTo",H),this.props.playing||this.pause()}},{key:"setVolume",value:function(H){this.callPlayer("setVolume",H*100)}},{key:"setPlaybackRate",value:function(H){this.callPlayer("setPlaybackRate",H)}},{key:"setLoop",value:function(H){this.callPlayer("setLoop",H)}},{key:"getDuration",value:function(){return this.callPlayer("getDuration")}},{key:"getCurrentTime",value:function(){return this.callPlayer("getCurrentTime")}},{key:"getSecondsLoaded",value:function(){return this.callPlayer("getVideoLoadedFraction")*this.getDuration()}},{key:"render",value:function(){var H=this.props.display,se={width:"100%",height:"100%",display:H};return i.default.createElement("div",{style:se},i.default.createElement("div",{ref:this.ref}))}}]),Z}(i.Component);t.default=K,C(K,"displayName","YouTube"),C(K,"canPlay",n.canPlay.youtube)})(mI);var _G=tp.createReactPlayer,HS=mI.default,bG=_G([{key:"youtube",canPlay:HS.canPlay,lazyPlayer:HS}]),TG=bG;const H_=t=>{const{url:e}=t;return te(TG,{url:e,width:"100%",height:"100%",controls:!0})},xG={slide:te(H_,{url:"https://youtu.be/WcgPTBVhWz8"}),preview:Xq},wG=Je(J.exports.Fragment,{children:[te("h2",{children:"Synopsis"}),te("p",{children:"During a night like any other in Rome, music critic, TV author, novelist and photographer Anton Giulio Onofri recalls the day he met the legendary conductor Leonard Bernstein."}),te("p",{children:"As he takes us on a car trip across the Roman night, we discover an heartwarming story of nostalgia, music, and love."}),Je("p",{children:["Full short"," ",te("a",{target:"_blank",rel:"noreferrer noopener",className:Rn.link,href:"https://youtu.be/WcgPTBVhWz8",children:"here"}),"."]})]}),SG=te(J.exports.Fragment,{children:"Encounters \u2014 A short documentary made for the RUFA 2022 filmmaking class. "}),EG=()=>te(J.exports.Fragment,{children:te(wc,{media:[xG],content:[wG],title:SG})});var CG="/Portfolio/assets/hillary.289bd528.png",kG="/Portfolio/assets/bucco.ab86d0ba.png";const PG={slide:te(H_,{url:"https://youtu.be/CPYaUr0fbng"}),preview:CG},OG={slide:te(H_,{url:"https://youtu.be/rlVjvjK6-WQ"}),preview:kG},AG=Je(J.exports.Fragment,{children:[te("h2",{children:"A Day at the Park"}),te("p",{children:"Hilary lives in Novara, but her family is from Cuba."}),te("p",{children:"She agreed to be interviewed about her origins, her grandma, and her relationship with Italy. The interview happened in the Villa Borghese park, through a video chat."}),Je("p",{children:["Full short"," ",te("a",{target:"_blank",rel:"noreferrer noopener",className:Rn.link,href:"https://youtu.be/CPYaUr0fbng",children:"here"}),"."]})]}),IG=Je(J.exports.Fragment,{children:[te("h2",{children:"Sudore"}),te("p",{children:"Alberto Bucco is an actor. However, he always nourished a passion for visual arts since he was a child."}),te("p",{children:"We enter his studio to discover his world made of lines and Bic pens, and the cathartical aspect of his creative process."}),Je("p",{children:["Full short"," ",te("a",{target:"_blank",rel:"noreferrer noopener",className:Rn.link,href:"https://youtu.be/rlVjvjK6-WQ",children:"here"}),"."]})]}),DG=te(J.exports.Fragment,{children:"Interviews - A two-series interviews made for the RUFA 2022 documentary class."}),MG=()=>te(J.exports.Fragment,{children:te(wc,{media:[PG,OG],content:[AG,IG],title:DG})}),Vm={Encounters:EG,ShortFilm:O9,NewShort:Kq,Interviews:MG},RG="gqk5-",LG="u4HeQ",jG="_95TXZ";var WS={root:RG,fadein:LG,error:jG},NG="/Portfolio/assets/aparajitoPreview.8b8064ff.webp",FG="/Portfolio/assets/barryLyndonPreview.e60066ad.webp",UG="/Portfolio/assets/brazilPreview.9d67c6c4.webp",BG="/Portfolio/assets/heavensGatePreview.bf044dda.webp",zG="/Portfolio/assets/immortalStoryPreview.ec0f97d5.webp",VG="/Portfolio/assets/journeyItalyPreview.5a38f487.webp",HG="/Portfolio/assets/sacrificePreview.68becd6f.webp",WG="/Portfolio/assets/sevenSamuraiPreview.944c2177.webp",qG="/Portfolio/assets/silverGlobePreview.85595452.webp",$G="/Portfolio/assets/womanUnderInfluencePreview.68acfefe.webp",GG="/Portfolio/assets/aparajitoSlide.bebb506c.webp",KG="/Portfolio/assets/barryLyndonSlide.3d391fa0.webp",XG="/Portfolio/assets/brazilSlide.3c95b962.webp",YG="/Portfolio/assets/heavensGateSlide.f8941377.webp",QG="/Portfolio/assets/immortalStorySlide.e733aa1b.webp",JG="/Portfolio/assets/journeyItalySlide.2cf759b0.webp",ZG="/Portfolio/assets/sacrificeSlide.c17db588.webp",eK="/Portfolio/assets/sevenSamuraiSlide.97fa0685.webp",tK="/Portfolio/assets/silverGlobeSlide.ad829bb8.webp",iK="/Portfolio/assets/womanUnderInfluenceSlide.18dd6016.webp",nK=`index,title,director,year,review
4,The Immortal Story,Orson Welles,1968,"The most lucid reflection on the act of creation, captured in all of its complexity and contradictions, given to us by Cinema's greatest maverick. What is art true purpose? Where is the line between fiction and reality? What are we willing to do to cross that line? A mysterious, evocative fairy tale, and a lesson of what is possible to achieve in only 63 minutes of film."
0,Aparajito,Satyajit Ray,1956,"Life as a journey among conflicts: tradition against modernity, rural against urban environment, family against personal ambitions, optimism against grief. Quite possibly the most gentle and profound portrayal of a mother and son relationship, and a lesson on how looking from a distance may actually reveal the deepest aspects of life."
1,Barry Lyndon,Stanley Kubrick,1975,"The most sumptuous reflection on human destiny, freedom, and the relevance (or futility) of our actions. This is the pinnacle of Kubrick's formalism and an esthetical accomplishment that can't be possibly matched. Cinema has never been so beautiful and so tragic."
2,Brazil,Terry Gilliam,1985,"A perfect combination of Orwellian and Kafkaesque themes, which generates the most lucid satire of the 20th (and 21st) century. An unparalleled creation of a world in which the oppressing sociopolitical state teams up with our egocentrism to make reality a convoluted enigma. Moreover, a film in which each scene has a visual idea that could be studied for hours."
3,Heaven's Gate,Michael Cimino,1980,"A film in which every frame seems to capture the infinity of the world. Although similar to Barry Lyndon when it comes to pushing the limit of what a camera can record, Heaven's Gate aims at a complete different objective when it comes to its founding themes. Instead of metaphysical reflections, Cimino is interested in raw human emotions, making his film explode with excesses of greed, love, violence, friendship, betrayal. The most triumphant, enthralling and tragic epic in the history of cinema."
5,Viaggio In Italia,Roberto Rosellini,1954,"A hypnotic masterwork in which the fragmentation of human relationships is a reflection of the shattered reality. While still maintaining the solemnity of his neorealistic period, Rossellini shifts his look towards a more spiritual and existential plan, and delivers to us one of the most forward-thinking depictions of what modern life is. Moreover, few actors can match Ingrid Bergman's performance."
6,The Sacrifice,Andrei Tarkovsky,1986,"The most profound reflection on faith, aging, and the purpose of living. An apocalyptic elegy that ends with the most powerful climax I have ever seen on a screen."
7,Seven Samurai,Akira Kurosawa,1954,"The greatest utopia in Cinema's history. A thrilling tale of courage, friendship, and self-sacrifice in which the power of human spirit seems to prevail above anything, even a cruel nature. The perfect union of entertainment and philosophical reflection, and possibly the greatest movie ever made."
8,On The Silver Globe,Andrzej \u017Bu\u0142awski,1988,"The most epic parabola about civilization, religion, and man's fascination to violence and power. A film that embraces its chaotic, dispersive nature, and uses it to fuel its hallucinatory imaginary."
9,A Woman Under the Influence,John Cassavetes,1974,"A personal favorite only for Gena Rowland's performance. But besides that, this is probably the most humanistic film ever made. Human emotions and relationships have never been described with such a heartfelt voice."`;const rK=["aparajito","barryLyndon","brazil","heavensGate","immortalStory","journeyItaly","sacrifice","sevenSamurai","silverGlobe","womanUnderInfluence"].map(t=>({slide:te("img",{src:new URL({"./images/aparajitoSlide.webp":GG,"./images/barryLyndonSlide.webp":KG,"./images/brazilSlide.webp":XG,"./images/heavensGateSlide.webp":YG,"./images/immortalStorySlide.webp":QG,"./images/journeyItalySlide.webp":JG,"./images/sacrificeSlide.webp":ZG,"./images/sevenSamuraiSlide.webp":eK,"./images/silverGlobeSlide.webp":tK,"./images/womanUnderInfluenceSlide.webp":iK}[`./images/${t}Slide.webp`],self.location).href,style:{width:"100%"}}),preview:new URL({"./images/aparajitoPreview.webp":NG,"./images/barryLyndonPreview.webp":FG,"./images/brazilPreview.webp":UG,"./images/heavensGatePreview.webp":BG,"./images/immortalStoryPreview.webp":zG,"./images/journeyItalyPreview.webp":VG,"./images/sacrificePreview.webp":HG,"./images/sevenSamuraiPreview.webp":WG,"./images/silverGlobePreview.webp":qG,"./images/womanUnderInfluencePreview.webp":$G}[`./images/${t}Preview.webp`],self.location).href})),sK=cc(sc.exports.parse(nK,{header:!0}).data,["index"]).map((t,e)=>Je(J.exports.Fragment,{children:[te("h2",{children:t.title}),te("h2",{children:t.director}),te("h2",{children:t.year}),te("p",{children:t.review})]},e)),aK=()=>te(J.exports.Fragment,{children:te(wc,{media:rK,content:sK,title:"Some of my favorite works in cinema history, with a short review."})}),oK=()=>te("div",{className:WS.root,children:Je(a2,{children:[te(ks,{path:"/interviews",element:te(Vm.Interviews,{})}),te(ks,{path:"/mirrorland",element:te(Vm.NewShort,{})}),te(ks,{path:"/inspiration",element:te(aK,{})}),te(ks,{path:"/encounters",element:te(Vm.Encounters,{})}),te(ks,{path:"/",element:te(Hz,{})}),te(ks,{path:"*",element:te("div",{className:WS.error,children:te("h3",{children:"Oops... seems you are in the wrong place"})})})]})});function lK(){const t=J.exports.useCallback(async e=>{console.log(e),jB(e),await RB(e)},[]);return Je("div",{className:Rx.root,children:[te(Vj,{}),te(Ch,{init:t,options:zB,className:Rx.particles}),te(oK,{})]})}aL.render(te(mr.StrictMode,{children:te(d2,{children:te(lK,{})})}),document.getElementById("root"));
